import{u as g,a$ as S,b as f,E as M,c as b,r as c,aS as v,j as e,L as r,G as L}from"./index-d4ed2424.js";import{u as D,M as k,a as y}from"./MemoResources-3c54ba17.js";import{u as E,t as I}from"./Toast-1e202ccb.js";const P=()=>{const{t:n,i18n:i}=g(),l=S(),d=f(),u=M(),x=D(),h=b(),[s,N]=c.useState({memo:{id:v}}),o=E(),m=d.state.systemStatus.customizedProfile,j=h.state.user,p=u.state;return c.useEffect(()=>{const t=Number(l.memoId);t&&!isNaN(t)&&x.fetchMemoById(t).then(a=>{N({memo:a}),o.setFinish()}).catch(a=>{console.error(a),I.error(a.response.data.message)})},[p]),e.jsx("section",{className:"page-wrapper memo-detail",children:e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{className:"title-container",children:[e.jsx("img",{className:"logo-img",src:m.logoUrl,alt:""}),e.jsx("p",{className:"logo-text",children:m.name})]}),e.jsx("div",{className:"action-button-container",children:!o.isLoading&&e.jsx(e.Fragment,{children:j?e.jsxs(r,{to:"/",className:"btn",children:[e.jsx("span",{className:"icon",children:"🏠"})," ",n("common.back-to-home")]}):e.jsxs(r,{to:"/auth",className:"btn",children:[e.jsx("span",{className:"icon",children:"👉"})," ",n("common.sign-in")]})})})]}),!o.isLoading&&e.jsx("main",{className:"memos-wrapper",children:e.jsxs("div",{className:"memo-container",children:[e.jsx("div",{className:"memo-header",children:e.jsxs("div",{className:"status-container",children:[e.jsx("span",{className:"time-text",children:L(s.memo.displayTs).locale(i.language).format("YYYY/MM/DD HH:mm:ss")}),e.jsxs("a",{className:"name-text",href:`/u/${s.memo.creator.id}`,children:["@",s.memo.creator.nickname||s.memo.creator.username]})]})}),e.jsx(k,{className:"memo-content",content:s.memo.content,onMemoContentClick:()=>{}}),e.jsx(y,{resourceList:s.memo.resourceList})]})})]})})};export{P as default};
