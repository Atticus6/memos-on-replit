import{r as g,k as ve,_ as y,a8 as wn,a9 as In,aa as jn,j as s,y as En,C as $e,B as Me,l as ce,ab as Tn,ac as kn,H as $s,J as Ce,ad as Vr,ae as $n,af as Hr,c as Te,ag as Rn,ah as Dn,ai as Pn,aj as Ln,ak as An,al as On,am as Mn,an as Qs,ao as zn,ap as _n,aq as Fn,ar as Bn,as as Vn,at as Hn,au as Un,av as Wn,aw as Jn,ax as Gn,ay as Xn,az as Yn,aA as qn,aB as Qn,aC as ht,I as V,aD as Kn,u as de,aE as gr,aF as vr,aG as Oe,b as Et,aH as Ir,aI as Zn,aJ as ea,aK as ta,aL as Cs,aM as sa,a7 as xr,aN as ra,E as ze,aO as jr,aP as oa,G as rt,aQ as na,L as aa,aR as Er,aS as cs,aT as Rs,aU as Ks,aV as ds,aW as ia,aX as la,aY as us,a as ca,F as ms,aZ as da,a_ as ua}from"./index-d4ed2424.js";import{t as Y,u as zt}from"./Toast-1e202ccb.js";import{b as ma,i as ha,c as pa,t as fa,d as ga,M as Ds,a as Ps,g as Ie,u as qe,s as Ls,e as qt,f as As,T as Ot,L as Fo,m as va,h as xa,j as ba,l as ya,k as Ca}from"./MemoResources-3c54ba17.js";import{o as Na,u as Bo,a as ts,b as Qt,s as Sa,c as pt,e as Zs,d as Vo,f as ss,g as H,h as _e,i as Fe,j as Tr,k as X,l as _t,m as Be,n as wa,F as Os,M as Ia,C as ja,R as Ea,W as Ta,N as Ur,S as ka,p as $a,q as Ra,r as Da,P as Ho,t as Pa,w as Uo,x as Wo,y as Is,O as Zt,v as kr,L as Jo,A as Go}from"./LocaleSelect-2c8ad3a2.js";function La(t,e=166){let r;function o(...a){const n=()=>{t.apply(this,a)};clearTimeout(r),r=setTimeout(n,e)}return o.clear=()=>{clearTimeout(r)},o}function Aa(t,e){return g.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function Wr(t){return Na(t).defaultView||window}function Gt(t){const e=g.useRef(t);return Bo(()=>{e.current=t}),g.useCallback((...r)=>(0,e.current)(...r),[])}const Oa=["sx"],Ma=t=>{var e,r;const o={systemProps:{},otherProps:{}},a=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:wn;return Object.keys(t).forEach(n=>{a[n]?o.systemProps[n]=t[n]:o.otherProps[n]=t[n]}),o};function za(t){const{sx:e}=t,r=ve(t,Oa),{systemProps:o,otherProps:a}=Ma(r);let n;return Array.isArray(e)?n=[o,...e]:typeof e=="function"?n=(...l)=>{const p=e(...l);return In(p)?y({},o,p):o}:n=y({},o,e),y({},a,{sx:n})}function Jr(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function _a(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:o,matchFrom:a="any",stringify:n,trim:l=!1}=t;return(p,{inputValue:i,getOptionLabel:u})=>{let c=l?i.trim():i;r&&(c=c.toLowerCase()),e&&(c=Jr(c));const m=c?p.filter(d=>{let h=(n||u)(d);return r&&(h=h.toLowerCase()),e&&(h=Jr(h)),a==="start"?h.indexOf(c)===0:h.indexOf(c)>-1}):p;return typeof o=="number"?m.slice(0,o):m}}function er(t,e){for(let r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}const Fa=_a(),Gr=5,Ba=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function Va(t){const{unstable_isActiveElementInListbox:e=Ba,unstable_classNamePrefix:r="Mui",autoComplete:o=!1,autoHighlight:a=!1,autoSelect:n=!1,blurOnSelect:l=!1,clearOnBlur:p=!t.freeSolo,clearOnEscape:i=!1,componentName:u="useAutocomplete",defaultValue:c=t.multiple?[]:null,disableClearable:m=!1,disableCloseOnSelect:d=!1,disabled:h,disabledItemsFocusable:f=!1,disableListWrap:v=!1,filterOptions:x=Fa,filterSelectedOptions:$=!1,freeSolo:C=!1,getOptionDisabled:k,getOptionLabel:b=R=>{var j;return(j=R.label)!=null?j:R},groupBy:w,handleHomeEndKeys:_=!t.freeSolo,id:z,includeInputInList:D=!1,inputValue:F,isOptionEqualToValue:L=(R,j)=>R===j,multiple:N=!1,onChange:S,onClose:O,onHighlightChange:P,onInputChange:E,onOpen:I,open:A,openOnFocus:B=!1,options:M,readOnly:U=!1,selectOnFocus:re=!t.freeSolo,value:te}=t,ie=ts(z);let ge=b;ge=R=>{const j=b(R);return typeof j!="string"?String(j):j};const T=g.useRef(!1),K=g.useRef(!0),q=g.useRef(null),G=g.useRef(null),[se,Z]=g.useState(null),[Q,pe]=g.useState(-1),ae=a?0:-1,he=g.useRef(ae),[W,Ve]=Qt({controlled:te,default:c,name:u}),[oe,Pe]=Qt({controlled:F,default:"",name:u,state:"inputValue"}),[Ze,gt]=g.useState(!1),Je=g.useCallback((R,j)=>{if(!(N?W.length<j.length:j!==null)&&!p)return;let ee;if(N)ee="";else if(j==null)ee="";else{const fe=ge(j);ee=typeof fe=="string"?fe:""}oe!==ee&&(Pe(ee),E&&E(R,ee,"reset"))},[ge,oe,N,E,Pe,p,W]),et=g.useRef();g.useEffect(()=>{const R=W!==et.current;et.current=W,!(Ze&&!R)&&(C&&!R||Je(null,W))},[W,Je,Ze,et,C]);const[Le,ot]=Qt({controlled:A,default:!1,name:u,state:"open"}),[nt,Ct]=g.useState(!0),at=!N&&W!=null&&oe===ge(W),je=Le&&!U,Ne=je?x(M.filter(R=>!($&&(N?W:[W]).some(j=>j!==null&&L(R,j)))),{inputValue:at&&nt?"":oe,getOptionLabel:ge}):[],tt=Le&&Ne.length>0&&!U,vt=Gt(R=>{R===-1?q.current.focus():se.querySelector(`[data-tag-index="${R}"]`).focus()});g.useEffect(()=>{N&&Q>W.length-1&&(pe(-1),vt(-1))},[W,N,Q,vt]);function it(R,j){if(!G.current||R===-1)return-1;let J=R;for(;;){if(j==="next"&&J===Ne.length||j==="previous"&&J===-1)return-1;const ee=G.current.querySelector(`[data-option-index="${J}"]`),fe=f?!1:!ee||ee.disabled||ee.getAttribute("aria-disabled")==="true";if(ee&&!ee.hasAttribute("tabindex")||fe)J+=j==="next"?1:-1;else return J}}const ke=Gt(({event:R,index:j,reason:J="auto"})=>{if(he.current=j,j===-1?q.current.removeAttribute("aria-activedescendant"):q.current.setAttribute("aria-activedescendant",`${ie}-option-${j}`),P&&P(R,j===-1?null:Ne[j],J),!G.current)return;const ee=G.current.querySelector(`[role="option"].${r}-focused`);ee&&(ee.classList.remove(`${r}-focused`),ee.classList.remove(`${r}-focusVisible`));const fe=G.current.parentElement.querySelector('[role="listbox"]');if(!fe)return;if(j===-1){fe.scrollTop=0;return}const Se=G.current.querySelector(`[data-option-index="${j}"]`);if(Se&&(Se.classList.add(`${r}-focused`),J==="keyboard"&&Se.classList.add(`${r}-focusVisible`),fe.scrollHeight>fe.clientHeight&&J!=="mouse")){const ye=Se,Xe=fe.clientHeight+fe.scrollTop,is=ye.offsetTop+ye.offsetHeight;is>Xe?fe.scrollTop=is-fe.clientHeight:ye.offsetTop-ye.offsetHeight*(w?1.3:0)<fe.scrollTop&&(fe.scrollTop=ye.offsetTop-ye.offsetHeight*(w?1.3:0))}}),De=Gt(({event:R,diff:j,direction:J="next",reason:ee="auto"})=>{if(!je)return;const Se=it((()=>{const ye=Ne.length-1;if(j==="reset")return ae;if(j==="start")return 0;if(j==="end")return ye;const Xe=he.current+j;return Xe<0?Xe===-1&&D?-1:v&&he.current!==-1||Math.abs(j)>1?0:ye:Xe>ye?Xe===ye+1&&D?-1:v||Math.abs(j)>1?ye:0:Xe})(),J);if(ke({index:Se,reason:ee,event:R}),o&&j!=="reset")if(Se===-1)q.current.value=oe;else{const ye=ge(Ne[Se]);q.current.value=ye,ye.toLowerCase().indexOf(oe.toLowerCase())===0&&oe.length>0&&q.current.setSelectionRange(oe.length,ye.length)}}),He=g.useCallback(()=>{if(!je)return;const R=N?W[0]:W;if(Ne.length===0||R==null){De({diff:"reset"});return}if(G.current){if(R!=null){const j=Ne[he.current];if(N&&j&&er(W,ee=>L(j,ee))!==-1)return;const J=er(Ne,ee=>L(ee,R));J===-1?De({diff:"reset"}):ke({index:J});return}if(he.current>=Ne.length-1){ke({index:Ne.length-1});return}ke({index:he.current})}},[Ne.length,N?!1:W,$,De,ke,je,oe,N]),xe=Gt(R=>{Sa(G,R),R&&He()});g.useEffect(()=>{He()},[He]);const ue=R=>{Le||(ot(!0),Ct(!0),I&&I(R))},be=(R,j)=>{Le&&(ot(!1),O&&O(R,j))},Ue=(R,j,J,ee)=>{if(N){if(W.length===j.length&&W.every((fe,Se)=>fe===j[Se]))return}else if(W===j)return;S&&S(R,j,J,ee),Ve(j)},lt=g.useRef(!1),ct=(R,j,J="selectOption",ee="options")=>{let fe=J,Se=j;if(N){Se=Array.isArray(W)?W.slice():[];const ye=er(Se,Xe=>L(j,Xe));ye===-1?Se.push(j):ee!=="freeSolo"&&(Se.splice(ye,1),fe="removeOption")}Je(R,Se),Ue(R,Se,fe,{option:j}),!d&&(!R||!R.ctrlKey&&!R.metaKey)&&be(R,fe),(l===!0||l==="touch"&&lt.current||l==="mouse"&&!lt.current)&&q.current.blur()};function Nt(R,j){if(R===-1)return-1;let J=R;for(;;){if(j==="next"&&J===W.length||j==="previous"&&J===-1)return-1;const ee=se.querySelector(`[data-tag-index="${J}"]`);if(!ee||!ee.hasAttribute("tabindex")||ee.disabled||ee.getAttribute("aria-disabled")==="true")J+=j==="next"?1:-1;else return J}}const Tt=(R,j)=>{if(!N)return;oe===""&&be(R,"toggleInput");let J=Q;Q===-1?oe===""&&j==="previous"&&(J=W.length-1):(J+=j==="next"?1:-1,J<0&&(J=0),J===W.length&&(J=-1)),J=Nt(J,j),pe(J),vt(J)},kt=R=>{T.current=!0,Pe(""),E&&E(R,"","clear"),Ue(R,N?[]:null,"clear")},Ht=R=>j=>{if(R.onKeyDown&&R.onKeyDown(j),!j.defaultMuiPrevented&&(Q!==-1&&["ArrowLeft","ArrowRight"].indexOf(j.key)===-1&&(pe(-1),vt(-1)),j.which!==229))switch(j.key){case"Home":je&&_&&(j.preventDefault(),De({diff:"start",direction:"next",reason:"keyboard",event:j}));break;case"End":je&&_&&(j.preventDefault(),De({diff:"end",direction:"previous",reason:"keyboard",event:j}));break;case"PageUp":j.preventDefault(),De({diff:-Gr,direction:"previous",reason:"keyboard",event:j}),ue(j);break;case"PageDown":j.preventDefault(),De({diff:Gr,direction:"next",reason:"keyboard",event:j}),ue(j);break;case"ArrowDown":j.preventDefault(),De({diff:1,direction:"next",reason:"keyboard",event:j}),ue(j);break;case"ArrowUp":j.preventDefault(),De({diff:-1,direction:"previous",reason:"keyboard",event:j}),ue(j);break;case"ArrowLeft":Tt(j,"previous");break;case"ArrowRight":Tt(j,"next");break;case"Enter":if(he.current!==-1&&je){const J=Ne[he.current],ee=k?k(J):!1;if(j.preventDefault(),ee)return;ct(j,J,"selectOption"),o&&q.current.setSelectionRange(q.current.value.length,q.current.value.length)}else C&&oe!==""&&at===!1&&(N&&j.preventDefault(),ct(j,oe,"createOption","freeSolo"));break;case"Escape":je?(j.preventDefault(),j.stopPropagation(),be(j,"escape")):i&&(oe!==""||N&&W.length>0)&&(j.preventDefault(),j.stopPropagation(),kt(j));break;case"Backspace":if(N&&!U&&oe===""&&W.length>0){const J=Q===-1?W.length-1:Q,ee=W.slice();ee.splice(J,1),Ue(j,ee,"removeOption",{option:W[J]})}break;case"Delete":if(N&&!U&&oe===""&&W.length>0&&Q!==-1){const J=Q,ee=W.slice();ee.splice(J,1),Ue(j,ee,"removeOption",{option:W[J]})}break}},$t=R=>{gt(!0),B&&!T.current&&ue(R)},le=R=>{if(e(G)){q.current.focus();return}gt(!1),K.current=!0,T.current=!1,n&&he.current!==-1&&je?ct(R,Ne[he.current],"blur"):n&&C&&oe!==""?ct(R,oe,"blur","freeSolo"):p&&Je(R,W),be(R,"blur")},Ae=R=>{const j=R.target.value;oe!==j&&(Pe(j),Ct(!1),E&&E(R,j,"input")),j===""?!m&&!N&&Ue(R,null,"clear"):ue(R)},Us=R=>{ke({event:R,index:Number(R.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Ws=()=>{lt.current=!0},Js=R=>{const j=Number(R.currentTarget.getAttribute("data-option-index"));ct(R,Ne[j],"selectOption"),lt.current=!1},Gs=R=>j=>{const J=W.slice();J.splice(R,1),Ue(j,J,"removeOption",{option:W[R]})},ns=R=>{Le?be(R,"toggleInput"):ue(R)},Xs=R=>{R.target.getAttribute("id")!==ie&&R.preventDefault()},Ys=()=>{q.current.focus(),re&&K.current&&q.current.selectionEnd-q.current.selectionStart===0&&q.current.select(),K.current=!1},qs=R=>{(oe===""||!Le)&&ns(R)};let Ge=C&&oe.length>0;Ge=Ge||(N?W.length>0:W!==null);let as=Ne;return w&&(as=Ne.reduce((R,j,J)=>{const ee=w(j);return R.length>0&&R[R.length-1].group===ee?R[R.length-1].options.push(j):R.push({key:J,index:J,group:ee,options:[j]}),R},[])),h&&Ze&&le(),{getRootProps:(R={})=>y({"aria-owns":tt?`${ie}-listbox`:null},R,{onKeyDown:Ht(R),onMouseDown:Xs,onClick:Ys}),getInputLabelProps:()=>({id:`${ie}-label`,htmlFor:ie}),getInputProps:()=>({id:ie,value:oe,onBlur:le,onFocus:$t,onChange:Ae,onMouseDown:qs,"aria-activedescendant":je?"":null,"aria-autocomplete":o?"both":"list","aria-controls":tt?`${ie}-listbox`:void 0,"aria-expanded":tt,autoComplete:"off",ref:q,autoCapitalize:"none",spellCheck:"false",role:"combobox"}),getClearProps:()=>({tabIndex:-1,onClick:kt}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:ns}),getTagProps:({index:R})=>y({key:R,"data-tag-index":R,tabIndex:-1},!U&&{onDelete:Gs(R)}),getListboxProps:()=>({role:"listbox",id:`${ie}-listbox`,"aria-labelledby":`${ie}-label`,ref:xe,onMouseDown:R=>{R.preventDefault()}}),getOptionProps:({index:R,option:j})=>{const J=(N?W:[W]).some(fe=>fe!=null&&L(j,fe)),ee=k?k(j):!1;return{key:ge(j),tabIndex:-1,role:"option",id:`${ie}-option-${R}`,onMouseOver:Us,onClick:Js,onTouchStart:Ws,"data-option-index":R,"aria-disabled":ee,"aria-selected":J}},id:ie,inputValue:oe,value:W,dirty:Ge,popupOpen:je,focused:Ze||Q!==-1,anchorEl:se,setAnchorEl:Z,focusedTag:Q,groupedOptions:as}}const Ha=g.createContext(void 0),Ua=Ha;function Wa(){return g.useContext(Ua)}function Ja(t){const{defaultValue:e,disabled:r=!1,error:o=!1,onBlur:a,onChange:n,onFocus:l,required:p=!1,value:i,inputRef:u}=t,c=Wa();let m,d,h,f,v;if(c){var x,$,C;m=void 0,d=(x=c.disabled)!=null?x:!1,h=($=c.error)!=null?$:!1,f=(C=c.required)!=null?C:!1,v=c.value}else m=e,d=r,h=o,f=p,v=i;const{current:k}=g.useRef(v!=null),b=g.useCallback(E=>{},[]),w=g.useRef(null),_=pt(w,u,b),[z,D]=g.useState(!1);g.useEffect(()=>{!c&&d&&z&&(D(!1),a==null||a())},[c,d,z,a]);const F=E=>I=>{var A;if(c!=null&&c.disabled){I.stopPropagation();return}if((A=E.onFocus)==null||A.call(E,I),c&&c.onFocus){var B;c==null||(B=c.onFocus)==null||B.call(c)}else D(!0)},L=E=>I=>{var A;(A=E.onBlur)==null||A.call(E,I),c&&c.onBlur?c.onBlur():D(!1)},N=E=>(I,...A)=>{var B,M;if(!k&&(I.target||w.current)==null)throw new Error(jn(17));c==null||(B=c.onChange)==null||B.call(c,I),(M=E.onChange)==null||M.call(E,I,...A)},S=E=>I=>{var A;w.current&&I.currentTarget===I.target&&w.current.focus(),(A=E.onClick)==null||A.call(E,I)};return{disabled:d,error:h,focused:z,formControlContext:c,getInputProps:(E={})=>{const A=y({},{onBlur:a,onChange:n,onFocus:l},Zs(E)),B=y({},E,A,{onBlur:L(A),onChange:N(A),onFocus:F(A)});return y({},B,{"aria-invalid":h||void 0,defaultValue:m,ref:_,value:v,required:f,disabled:d})},getRootProps:(E={})=>{const I=Zs(t,["onBlur","onChange","onFocus"]),A=y({},I,Zs(E));return y({},E,A,{onClick:S(A)})},required:f,value:v}}function Xo(t){const{checked:e,defaultChecked:r,disabled:o,onBlur:a,onChange:n,onFocus:l,onFocusVisible:p,readOnly:i,required:u}=t,[c,m]=Qt({controlled:e,default:Boolean(r),name:"Switch",state:"checked"}),d=D=>F=>{var L;F.nativeEvent.defaultPrevented||(m(F.target.checked),n==null||n(F),(L=D.onChange)==null||L.call(D,F))},{isFocusVisibleRef:h,onBlur:f,onFocus:v,ref:x}=Vo(),[$,C]=g.useState(!1);o&&$&&C(!1),g.useEffect(()=>{h.current=$},[$,h]);const k=g.useRef(null),b=D=>F=>{var L;k.current||(k.current=F.currentTarget),v(F),h.current===!0&&(C(!0),p==null||p(F)),l==null||l(F),(L=D.onFocus)==null||L.call(D,F)},w=D=>F=>{var L;f(F),h.current===!1&&C(!1),a==null||a(F),(L=D.onBlur)==null||L.call(D,F)},_=pt(x,k),z=(D={})=>y({checked:e,defaultChecked:r,disabled:o,readOnly:i,ref:_,required:u,type:"checkbox"},D,{onChange:d(D),onFocus:b(D),onBlur:w(D)});return{checked:c,disabled:Boolean(o),focusVisible:$,getInputProps:z,readOnly:Boolean(i)}}const Ga=["onChange","maxRows","minRows","style","value"];function hs(t,e){return parseInt(t[e],10)||0}const Xa={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Xr(t){return t==null||Object.keys(t).length===0}const Ya=g.forwardRef(function(e,r){const{onChange:o,maxRows:a,minRows:n=1,style:l,value:p}=e,i=ve(e,Ga),{current:u}=g.useRef(p!=null),c=g.useRef(null),m=pt(r,c),d=g.useRef(null),h=g.useRef(0),[f,v]=g.useState({}),x=g.useCallback(()=>{const w=c.current,z=Wr(w).getComputedStyle(w);if(z.width==="0px")return{};const D=d.current;D.style.width=z.width,D.value=w.value||e.placeholder||"x",D.value.slice(-1)===`
`&&(D.value+=" ");const F=z["box-sizing"],L=hs(z,"padding-bottom")+hs(z,"padding-top"),N=hs(z,"border-bottom-width")+hs(z,"border-top-width"),S=D.scrollHeight;D.value="x";const O=D.scrollHeight;let P=S;n&&(P=Math.max(Number(n)*O,P)),a&&(P=Math.min(Number(a)*O,P)),P=Math.max(P,O);const E=P+(F==="border-box"?L+N:0),I=Math.abs(P-S)<=1;return{outerHeightStyle:E,overflow:I}},[a,n,e.placeholder]),$=(w,_)=>{const{outerHeightStyle:z,overflow:D}=_;return h.current<20&&(z>0&&Math.abs((w.outerHeightStyle||0)-z)>1||w.overflow!==D)?(h.current+=1,{overflow:D,outerHeightStyle:z}):w},C=g.useCallback(()=>{const w=x();Xr(w)||v(_=>$(_,w))},[x]),k=()=>{const w=x();Xr(w)||En.flushSync(()=>{v(_=>$(_,w))})};g.useEffect(()=>{const w=La(()=>{h.current=0,c.current&&k()}),_=Wr(c.current);_.addEventListener("resize",w);let z;return typeof ResizeObserver<"u"&&(z=new ResizeObserver(w),z.observe(c.current)),()=>{w.clear(),_.removeEventListener("resize",w),z&&z.disconnect()}}),Bo(()=>{C()}),g.useEffect(()=>{h.current=0},[p]);const b=w=>{h.current=0,u||C(),o&&o(w)};return s.jsxs(g.Fragment,{children:[s.jsx("textarea",y({value:p,onChange:b,ref:m,rows:n,style:y({height:f.outerHeightStyle,overflow:f.overflow?"hidden":null},l)},i)),s.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:y({},Xa.shadow,l,{padding:0})})]})}),qa=Ya,Qa=ss(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Ka=ss(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Za=$e("JoyIconButton",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg"]),ei=Za,$r=H("button")(({theme:t,ownerState:e})=>{var r,o,a,n;return[y({"--Icon-margin":"initial","--CircularProgress-size":"var(--Icon-fontSize)"},e.size==="sm"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2rem) / 1.6)",minWidth:"var(--IconButton-size, 2rem)",minHeight:"var(--IconButton-size, 2rem)",fontSize:t.vars.fontSize.sm,paddingInline:"2px"},e.size==="md"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.5rem) / 1.667)",minWidth:"var(--IconButton-size, 2.5rem)",minHeight:"var(--IconButton-size, 2.5rem)",fontSize:t.vars.fontSize.md,paddingInline:"0.25rem"},e.size==="lg"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 3rem) / 1.714)",minWidth:"var(--IconButton-size, 3rem)",minHeight:"var(--IconButton-size, 3rem)",fontSize:t.vars.fontSize.lg,paddingInline:"0.375rem"},{WebkitTapHighlightColor:"transparent",paddingBlock:0,fontFamily:t.vars.fontFamily.body,fontWeight:t.vars.fontWeight.md,margin:"var(--IconButton-margin)",borderRadius:`var(--IconButton-radius, ${t.vars.radius.sm})`,border:"none",boxSizing:"border-box",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",[t.focus.selector]:t.focus.default}),(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:hover":(o=t.variants[`${e.variant}Hover`])==null?void 0:o[e.color]},{"&:active":(a=t.variants[`${e.variant}Active`])==null?void 0:a[e.color]},{[`&.${ei.disabled}`]:(n=t.variants[`${e.variant}Disabled`])==null?void 0:n[e.color]}]});H($r,{name:"JoyIconButton",slot:"Root",overridesResolver:(t,e)=>e.root})({});function ti(t){return Me("JoyChip",t)}const si=$e("JoyChip",["root","clickable","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","disabled","endDecorator","focusVisible","label","labelSm","labelMd","labelLg","sizeSm","sizeMd","sizeLg","startDecorator","variantPlain","variantSolid","variantSoft","variantOutlined"]),js=si,ri=g.createContext({disabled:void 0,variant:void 0,color:void 0}),Yo=ri,oi=["children","className","color","slotProps","onClick","disabled","size","variant","startDecorator","endDecorator"],ni=t=>{const{disabled:e,size:r,color:o,clickable:a,variant:n,focusVisible:l}=t,p={root:["root",e&&"disabled",o&&`color${ce(o)}`,r&&`size${ce(r)}`,n&&`variant${ce(n)}`,a&&"clickable"],action:["action",e&&"disabled",l&&"focusVisible"],label:["label",r&&`label${ce(r)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Be(p,ti,{})},ai=H("div",{name:"JoyChip",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,o,a,n,l,p;return[y({"--Chip-decorator-childOffset":"min(calc(var(--Chip-paddingInline) - (var(--_Chip-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Chip-decorator-childHeight)) / 2), var(--Chip-paddingInline))","--Chip-decorator-childRadius":"max(var(--_Chip-radius) - var(--variant-borderWidth, 0px) - var(--_Chip-paddingBlock), min(var(--_Chip-paddingBlock) + var(--variant-borderWidth, 0px), var(--_Chip-radius) / 2))","--Chip-delete-radius":"var(--Chip-decorator-childRadius)","--Chip-delete-size":"var(--Chip-decorator-childHeight)","--Avatar-radius":"var(--Chip-decorator-childRadius)","--Avatar-size":"var(--Chip-decorator-childHeight)","--Icon-margin":"initial","--internal-action-radius":"var(--_Chip-radius)"},e.size==="sm"&&{"--Chip-gap":"0.25rem","--Chip-paddingInline":"0.5rem","--Chip-decorator-childHeight":"calc(min(1.125rem, var(--_Chip-minHeight)) - 2 * var(--variant-borderWidth, 0px))","--Icon-fontSize":"calc(var(--_Chip-minHeight) / 1.714)","--_Chip-minHeight":"var(--Chip-minHeight, 1.5rem)",fontSize:t.vars.fontSize.xs},e.size==="md"&&{"--Chip-gap":"0.375rem","--Chip-paddingInline":"0.75rem","--Chip-decorator-childHeight":"min(1.375rem, var(--_Chip-minHeight))","--Icon-fontSize":"calc(var(--_Chip-minHeight) / 1.778)","--_Chip-minHeight":"var(--Chip-minHeight, 2rem)",fontSize:t.vars.fontSize.sm},e.size==="lg"&&{"--Chip-gap":"0.5rem","--Chip-paddingInline":"1rem","--Chip-decorator-childHeight":"min(1.75rem, var(--_Chip-minHeight))","--Icon-fontSize":"calc(var(--_Chip-minHeight) / 2)","--_Chip-minHeight":"var(--Chip-minHeight, 2.5rem)",fontSize:t.vars.fontSize.md},{"--_Chip-radius":"var(--Chip-radius, 1.5rem)","--_Chip-paddingBlock":"max((var(--_Chip-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Chip-decorator-childHeight)) / 2, 0px)",minHeight:"var(--_Chip-minHeight)",paddingInline:"var(--Chip-paddingInline)",borderRadius:"var(--_Chip-radius)",position:"relative",fontWeight:t.vars.fontWeight.md,fontFamily:t.vars.fontFamily.body,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",transition:"background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",textDecoration:"none",verticalAlign:"middle",boxSizing:"border-box",[`&.${js.disabled}`]:{color:(r=t.variants[`${e.variant}Disabled`])==null||(o=r[e.color])==null?void 0:o.color}}),...e.clickable?[{"--variant-borderWidth":"0px",color:(l=t.variants[e.variant])==null||(p=l[e.color])==null?void 0:p.color}]:[(a=t.variants[e.variant])==null?void 0:a[e.color],{[`&.${js.disabled}`]:(n=t.variants[`${e.variant}Disabled`])==null?void 0:n[e.color]}]]}),ii=H("span",{name:"JoyChip",slot:"Label",overridesResolver:(t,e)=>e.label})(({ownerState:t})=>y({display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",order:1,minInlineSize:0,flexGrow:1},t.clickable&&{zIndex:1,pointerEvents:"none"})),li=H("button",{name:"JoyChip",slot:"Action",overridesResolver:(t,e)=>e.action})(({theme:t,ownerState:e})=>{var r,o,a,n;return[{position:"absolute",zIndex:0,top:0,left:0,bottom:0,right:0,border:"none",cursor:"pointer",padding:"initial",margin:"initial",backgroundColor:"initial",textDecoration:"none",borderRadius:"inherit",transition:"background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",[t.focus.selector]:t.focus.default},(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:hover":(o=t.variants[`${e.variant}Hover`])==null?void 0:o[e.color]},{"&:active":(a=t.variants[`${e.variant}Active`])==null?void 0:a[e.color]},{[`&.${js.disabled}`]:(n=t.variants[`${e.variant}Disabled`])==null?void 0:n[e.color]}]}),ci=H("span",{name:"JoyChip",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({"--Avatar-marginInlineStart":"calc(var(--Chip-decorator-childOffset) * -1)","--Chip-delete-margin":"0 0 0 calc(var(--Chip-decorator-childOffset) * -1)","--Icon-margin":"0 0 0 calc(var(--Chip-paddingInline) / -4)",display:"inherit",marginInlineEnd:"var(--Chip-gap)",order:0,zIndex:1,pointerEvents:"none"}),di=H("span",{name:"JoyChip",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({"--Chip-delete-margin":"0 calc(var(--Chip-decorator-childOffset) * -1) 0 0","--Icon-margin":"0 calc(var(--Chip-paddingInline) / -4) 0 0",display:"inherit",marginInlineStart:"var(--Chip-gap)",order:2,zIndex:1,pointerEvents:"none"}),ui=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyChip"}),{children:a,className:n,color:l="primary",slotProps:p={},onClick:i,disabled:u=!1,size:c="md",variant:m="solid",startDecorator:d,endDecorator:h}=o,f=ve(o,oi),{getColor:v}=Fe(m),x=v(e.color,l),$=!!i||!!p.action,C=y({},o,{disabled:u,size:c,color:x,variant:m,clickable:$,focusVisible:!1}),k=typeof p.action=="function"?p.action(C):p.action,b=g.useRef(null),{focusVisible:w,getRootProps:_}=Tr(y({},k,{disabled:u,ref:b}));C.focusVisible=w;const z=ni(C),D=y({},f,{slotProps:p}),[F,L]=X("root",{ref:r,className:_t(z.root,n),elementType:ai,externalForwardedProps:D,ownerState:C}),[N,S]=X("label",{className:z.label,elementType:ii,externalForwardedProps:D,ownerState:C}),O=ts(S.id),[P,E]=X("action",{className:z.action,elementType:li,externalForwardedProps:D,ownerState:C,getSlotProps:_,additionalProps:{"aria-labelledby":O,as:k==null?void 0:k.component,onClick:i}}),[I,A]=X("startDecorator",{className:z.startDecorator,elementType:ci,externalForwardedProps:D,ownerState:C}),[B,M]=X("endDecorator",{className:z.endDecorator,elementType:di,externalForwardedProps:D,ownerState:C}),U=g.useMemo(()=>({disabled:u,variant:m,color:x==="context"?void 0:x}),[x,u,m]);return s.jsx(Yo.Provider,{value:U,children:s.jsxs(F,y({},L,{children:[$&&s.jsx(P,y({},E)),s.jsx(N,y({},S,{id:O,children:a})),d&&s.jsx(I,y({},A,{children:d})),h&&s.jsx(B,y({},M,{children:h}))]}))})}),mi=ui,hi=ss(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Cancel");function pi(t){return Me("JoyChipDelete",t)}const fi=$e("JoyChipDelete",["root","disabled","focusVisible","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantSolid","variantSoft","variantOutlined"]),gi=fi;var Yr;const vi=["component","children","variant","color","disabled","onKeyDown","onDelete","onClick"],xi=["onDelete"],bi=t=>{const{focusVisible:e,variant:r,color:o,disabled:a}=t,n={root:["root",a&&"disabled",e&&"focusVisible",r&&`variant${ce(r)}`,o&&`color${ce(o)}`]};return Be(n,pi,{})},qr=H("button",{name:"JoyChipDelete",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,o,a,n;return[{"--Icon-margin":"initial",pointerEvents:"visible",cursor:"pointer",width:"var(--Chip-delete-size, 2rem)",height:"var(--Chip-delete-size, 2rem)",borderRadius:"var(--Chip-delete-radius, 50%)",margin:"var(--Chip-delete-margin)",display:"inline-flex",justifyContent:"center",alignItems:"center",zIndex:1,border:"none",background:"none",padding:"0px",[t.focus.selector]:t.focus.default},(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:hover":(o=t.variants[`${e.variant}Hover`])==null?void 0:o[e.color]},{"&:active":(a=t.variants[`${e.variant}Active`])==null?void 0:a[e.color]},{[`&.${gi.disabled}`]:(n=t.variants[`${e.variant}Disabled`])==null?void 0:n[e.color]}]}),yi={plain:"outlined",outlined:"soft",soft:"solid",solid:"solid"},Ci=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyChipDelete"}),{component:a,children:n,variant:l,color:p,disabled:i,onKeyDown:u,onDelete:c,onClick:m}=o,d=ve(o,vi),h=g.useContext(Yo),f=l||yi[h.variant]||"solid",{getColor:v}=Fe(f),x=v(e.color,p||h.color||"primary"),$=i??h.disabled,C=g.useRef(null),k=pt(C,r),{focusVisible:b,getRootProps:w}=Tr(y({},o,{disabled:$,ref:k})),_=y({},o,{disabled:$,variant:f,color:x,focusVisible:b}),z=bi(_),L=wa({elementType:qr,getSlotProps:w,externalSlotProps:{},externalForwardedProps:d,ownerState:_,additionalProps:{as:a,onKeyDown:S=>{["Backspace","Enter","Delete"].includes(S.key)&&(S.preventDefault(),!$&&c&&c(S)),u&&u(S)},onClick:S=>{!$&&c&&c(S),m&&m(S)}},className:z.root}),N=ve(L,xi);return s.jsx(qr,y({},N,{children:n??(Yr||(Yr=s.jsx(hi,{})))}))}),Ni=Ci;function Si(t){return Me("JoyInput",t)}const wi=$e("JoyInput",["root","input","formControl","focused","disabled","error","adornedStart","adornedEnd","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid","fullWidth","startDecorator","endDecorator"]),Ns=wi,Ii=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","error","id","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","type","value"];function qo(t,e){const r=g.useContext(Os),{"aria-describedby":o,"aria-label":a,"aria-labelledby":n,autoComplete:l,autoFocus:p,className:i,defaultValue:u,disabled:c,error:m,id:d,name:h,onClick:f,onChange:v,onKeyDown:x,onKeyUp:$,onFocus:C,onBlur:k,placeholder:b,readOnly:w,required:_,type:z,value:D}=t,F=ve(t,Ii),{getRootProps:L,getInputProps:N,focused:S,error:O,disabled:P}=Ja({disabled:c??(r==null?void 0:r.disabled),defaultValue:u,error:m,onBlur:k,onClick:f,onChange:v,onFocus:C,required:_??(r==null?void 0:r.required),value:D}),E={[e.disabled]:P,[e.error]:O,[e.focused]:S,[e.formControl]:Boolean(r),[i]:i},I={[e.disabled]:P};return y({formControl:r,propsToForward:{"aria-describedby":o,"aria-label":a,"aria-labelledby":n,autoComplete:l,autoFocus:p,disabled:P,id:d,onKeyDown:x,onKeyUp:$,name:h,placeholder:b,readOnly:w,type:z},rootStateClasses:E,inputStateClasses:I,getRootProps:L,getInputProps:N,focused:S,error:O,disabled:P},F)}const ji=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","component","formControl","focused","error","disabled","fullWidth","size","color","variant","startDecorator","endDecorator"],Ei=t=>{const{disabled:e,fullWidth:r,variant:o,color:a,size:n}=t,l={root:["root",e&&"disabled",r&&"fullWidth",o&&`variant${ce(o)}`,a&&`color${ce(a)}`,n&&`size${ce(n)}`],input:["input"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Be(l,Si,{})},Qo=H("div")(({theme:t,ownerState:e})=>{var r,o,a,n,l;const p=(r=t.variants[`${e.variant}`])==null?void 0:r[e.color];return[y({"--Input-radius":t.vars.radius.sm,"--Input-gap":"0.5rem","--Input-placeholderColor":"inherit","--Input-placeholderOpacity":.5,"--Input-focusedThickness":t.vars.focus.thickness},e.color==="context"?{"--Input-focusedHighlight":t.vars.palette.focusVisible}:{"--Input-focusedHighlight":(o=t.vars.palette[e.color==="neutral"?"primary":e.color])==null?void 0:o[500]},e.size==="sm"&&{"--Input-minHeight":"2rem","--Input-paddingInline":"0.5rem","--Input-decorator-childHeight":"min(1.5rem, var(--Input-minHeight))","--Icon-fontSize":"1.25rem"},e.size==="md"&&{"--Input-minHeight":"2.5rem","--Input-paddingInline":"0.75rem","--Input-decorator-childHeight":"min(2rem, var(--Input-minHeight))","--Icon-fontSize":"1.5rem"},e.size==="lg"&&{"--Input-minHeight":"3rem","--Input-paddingInline":"1rem","--Input-gap":"0.75rem","--Input-decorator-childHeight":"min(2.375rem, var(--Input-minHeight))","--Icon-fontSize":"1.75rem"},{"--Input-decorator-childOffset":"min(calc(var(--Input-paddingInline) - (var(--Input-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Input-decorator-childHeight)) / 2), var(--Input-paddingInline))","--_Input-paddingBlock":"max((var(--Input-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Input-decorator-childHeight)) / 2, 0px)","--Input-decorator-childRadius":"max(var(--Input-radius) - var(--variant-borderWidth, 0px) - var(--_Input-paddingBlock), min(var(--_Input-paddingBlock) + var(--variant-borderWidth, 0px), var(--Input-radius) / 2))","--Button-minHeight":"var(--Input-decorator-childHeight)","--IconButton-size":"var(--Input-decorator-childHeight)","--Button-radius":"var(--Input-decorator-childRadius)","--IconButton-radius":"var(--Input-decorator-childRadius)",boxSizing:"border-box",minWidth:0,minHeight:"var(--Input-minHeight)"},e.fullWidth&&{width:"100%"},{cursor:"text",position:"relative",display:"flex",alignItems:"center",paddingInline:"var(--Input-paddingInline)",borderRadius:"var(--Input-radius)",fontFamily:t.vars.fontFamily.body,fontSize:t.vars.fontSize.md},e.size==="sm"&&{fontSize:t.vars.fontSize.sm},{transition:"border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)"}}),y({},p,{backgroundColor:(a=p==null?void 0:p.backgroundColor)!=null?a:t.vars.palette.background.surface,[`&:hover:not(.${Ns.focused})`]:y({},(n=t.variants[`${e.variant}Hover`])==null?void 0:n[e.color],{backgroundColor:null}),[`&.${Ns.disabled}`]:(l=t.variants[`${e.variant}Disabled`])==null?void 0:l[e.color],[`&.${Ns.focused}`]:{"&:before":{boxShadow:"inset 0 0 0 var(--Input-focusedThickness) var(--Input-focusedHighlight)"}}})]}),Ko=H("input")(({ownerState:t})=>({border:"none",minWidth:0,outline:0,padding:0,flex:1,alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit",textOverflow:"ellipsis","&:-webkit-autofill":y({paddingInline:"var(--Input-paddingInline)"},!t.startDecorator&&{marginInlineStart:"calc(-1 * var(--Input-paddingInline))",paddingInlineStart:"var(--Input-paddingInline)",borderTopLeftRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))",borderBottomLeftRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))"},!t.endDecorator&&{marginInlineEnd:"calc(-1 * var(--Input-paddingInline))",paddingInlineEnd:"var(--Input-paddingInline)",borderTopRightRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))",borderBottomRightRadius:"calc(var(--Input-radius) - var(--variant-borderWidth, 0px))"}),"&::-webkit-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Input-placeholderColor)",opacity:"var(--Input-placeholderOpacity)"}})),Zo=H("span")(({theme:t,ownerState:e})=>{var r,o,a,n;return y({"--Button-margin":"0 0 0 calc(var(--Input-decorator-childOffset) * -1)","--IconButton-margin":"0 0 0 calc(var(--Input-decorator-childOffset) * -1)","--Icon-margin":"0 0 0 calc(var(--Input-paddingInline) / -4)",display:"inherit",alignItems:"center",paddingBlock:"var(--unstable_Input-paddingBlock)",flexWrap:"wrap",marginInlineEnd:"var(--Input-gap)",color:t.vars.palette.text.tertiary,cursor:"initial"},e.focused&&{color:(r=t.variants[e.variant])==null||(o=r[e.color])==null?void 0:o.color},e.disabled&&{color:(a=t.variants[`${e.variant}Disabled`])==null||(n=a[e.color])==null?void 0:n.color})}),en=H("span")(({theme:t,ownerState:e})=>{var r,o,a,n;return y({"--Button-margin":"0 calc(var(--Input-decorator-childOffset) * -1) 0 0","--IconButton-margin":"0 calc(var(--Input-decorator-childOffset) * -1) 0 0","--Icon-margin":"0 calc(var(--Input-paddingInline) / -4) 0 0",display:"inherit",alignItems:"center",marginInlineStart:"var(--Input-gap)",color:(r=t.variants[e.variant])==null||(o=r[e.color])==null?void 0:o.color,cursor:"initial"},e.disabled&&{color:(a=t.variants[`${e.variant}Disabled`])==null||(n=a[e.color])==null?void 0:n.color})}),Ti=H(Qo,{name:"JoyInput",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ki=H(Ko,{name:"JoyInput",slot:"Input",overridesResolver:(t,e)=>e.input})({}),$i=H(Zo,{name:"JoyInput",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({}),Ri=H(en,{name:"JoyInput",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({}),Di=g.forwardRef(function(e,r){var o,a,n,l,p;const i=_e({props:e,name:"JoyInput"}),u=qo(i,Ns),{propsToForward:c,rootStateClasses:m,inputStateClasses:d,getRootProps:h,getInputProps:f,component:v="div",formControl:x,focused:$,error:C=!1,disabled:k,fullWidth:b=!1,size:w="md",color:_="neutral",variant:z="outlined",startDecorator:D,endDecorator:F}=u,L=ve(u,ji),N=(o=(a=e.error)!=null?a:x==null?void 0:x.error)!=null?o:C,S=(n=(l=e.size)!=null?l:x==null?void 0:x.size)!=null?n:w,{getColor:O}=Fe(z),P=O(e.color,N?"danger":(p=x==null?void 0:x.color)!=null?p:_),E=y({},i,{fullWidth:b,color:P,disabled:k,error:N,focused:$,size:S,variant:z}),I=Ei(E),A=y({},L,{component:v}),[B,M]=X("root",{ref:r,className:[I.root,m],elementType:Ti,getSlotProps:h,externalForwardedProps:A,ownerState:E}),[U,re]=X("input",y({},x&&{additionalProps:{id:x.htmlFor,"aria-describedby":x["aria-describedby"]}},{className:[I.input,d],elementType:ki,getSlotProps:K=>f(y({},K,c)),externalForwardedProps:A,ownerState:E})),[te,ie]=X("startDecorator",{className:I.startDecorator,elementType:$i,externalForwardedProps:A,ownerState:E}),[ge,T]=X("endDecorator",{className:I.endDecorator,elementType:Ri,externalForwardedProps:A,ownerState:E});return s.jsxs(B,y({},M,{children:[D&&s.jsx(te,y({},ie,{children:D})),s.jsx(U,y({},re)),F&&s.jsx(ge,y({},T,{children:F}))]}))}),br=Di;function Pi(t){return Me("JoyListSubheader",t)}$e("JoyListSubheader",["root","sticky","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]);const Li=g.createContext(void 0),tn=Li,Ai=["component","className","children","id","sticky","variant","color"],Oi=t=>{const{variant:e,color:r,sticky:o}=t,a={root:["root",o&&"sticky",r&&`color${ce(r)}`,e&&`variant${ce(e)}`]};return Be(a,Pi,{})},Mi=H("div",{name:"JoyListSubheader",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,o;return y({boxSizing:"border-box",display:"flex",alignItems:"center",marginInline:"var(--List-item-marginInline)",paddingBlock:"var(--List-item-paddingY)",paddingInlineStart:"var(--List-item-paddingLeft)",paddingInlineEnd:"var(--List-item-paddingRight)",minBlockSize:"var(--List-item-minHeight)",fontSize:"calc(var(--List-item-fontSize) * 0.75)",fontWeight:t.vars.fontWeight.lg,fontFamily:t.vars.fontFamily.body,letterSpacing:t.vars.letterSpacing.md,textTransform:"uppercase"},e.sticky&&{position:"sticky",top:"var(--List-item-stickyTop, 0px)",zIndex:1,background:"var(--List-item-stickyBackground)"},{color:e.color&&e.color!=="context"?`rgba(${(r=t.vars.palette[e.color])==null?void 0:r.mainChannel} / 1)`:t.vars.palette.text.tertiary},(o=t.variants[e.variant])==null?void 0:o[e.color])}),zi=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyListSubheader"}),{component:a,className:n,children:l,id:p,sticky:i=!1,variant:u,color:c}=o,m=ve(o,Ai),{getColor:d}=Fe(u),h=d(e.color,c),f=ts(p),v=g.useContext(tn);g.useEffect(()=>{v&&v(f||"")},[v,f]);const x=y({},o,{id:f,sticky:i,variant:u,color:u?h??"neutral":h}),$=Oi(x);return s.jsx(Mi,y({ref:r,id:f,as:a,className:_t($.root,n),ownerState:x},m,{children:l}))}),_i=zi;function Fi(t){return Me("JoyListItem",t)}const Bi=$e("JoyListItem",["root","startAction","endAction","nested","nesting","sticky","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]),Qr=Bi,Vi=["component","className","children","nested","sticky","variant","color","startAction","endAction","role"],Hi=t=>{const{sticky:e,nested:r,nesting:o,variant:a,color:n}=t,l={root:["root",r&&"nested",o&&"nesting",e&&"sticky",n&&`color${ce(n)}`,a&&`variant${ce(a)}`],startAction:["startAction"],endAction:["endAction"]};return Be(l,Fi,{})},Ui=H("li",{name:"JoyListItem",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r;return[!e.nested&&{"--List-itemButton-marginInline":"calc(-1 * var(--List-item-paddingLeft)) calc(-1 * var(--List-item-paddingRight))","--List-itemButton-marginBlock":"calc(-1 * var(--List-item-paddingY))",alignItems:"center",marginInline:"var(--List-item-marginInline)"},e.nested&&{"--NestedList-marginRight":"calc(-1 * var(--List-item-paddingRight))","--NestedList-marginLeft":"calc(-1 * var(--List-item-paddingLeft))","--NestedList-item-paddingLeft":"calc(var(--List-item-paddingLeft) + var(--List-nestedInsetStart))","--List-itemButton-marginBlock":"0px","--List-itemButton-marginInline":"calc(-1 * var(--List-item-paddingLeft)) calc(-1 * var(--List-item-paddingRight))","--List-item-marginInline":"calc(-1 * var(--List-item-paddingLeft)) calc(-1 * var(--List-item-paddingRight))",flexDirection:"column"},y({"--internal-action-radius":"calc(var(--List-item-radius) - var(--variant-borderWidth, 0px))"},e.startAction&&{"--internal-startActionWidth":"2rem"},e.endAction&&{"--internal-endActionWidth":"2.5rem"},{boxSizing:"border-box",borderRadius:"var(--List-item-radius)",display:"flex",flex:"none",position:"relative",paddingBlockStart:e.nested?0:"var(--List-item-paddingY)",paddingBlockEnd:e.nested?0:"var(--List-item-paddingY)",paddingInlineStart:"var(--List-item-paddingLeft)",paddingInlineEnd:"var(--List-item-paddingRight)"},e["data-first-child"]===void 0&&y({},e.row?{marginInlineStart:"var(--List-gap)"}:{marginBlockStart:"var(--List-gap)"}),e.row&&e.wrap&&{marginInlineStart:"var(--List-gap)",marginBlockStart:"var(--List-gap)"},{minBlockSize:"var(--List-item-minHeight)",fontSize:"var(--List-item-fontSize)",fontFamily:t.vars.fontFamily.body},e.sticky&&{position:"sticky",top:"var(--List-item-stickyTop, 0px)",zIndex:1,background:"var(--List-item-stickyBackground)"}),(r=t.variants[e.variant])==null?void 0:r[e.color]]}),Wi=H("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(t,e)=>e.startAction})(({ownerState:t})=>({display:"inherit",position:"absolute",top:t.nested?"calc(var(--List-item-minHeight) / 2)":"50%",left:0,transform:"translate(var(--List-item-startActionTranslateX), -50%)",zIndex:1})),Ji=H("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(t,e)=>e.startAction})(({ownerState:t})=>({display:"inherit",position:"absolute",top:t.nested?"calc(var(--List-item-minHeight) / 2)":"50%",right:0,transform:"translate(var(--List-item-endActionTranslateX), -50%)"})),sn=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyListItem"}),a=g.useContext(Ia),n=g.useContext(ja),l=g.useContext(Ea),p=g.useContext(Ta),i=g.useContext(Ur),{component:u,className:c,children:m,nested:d=!1,sticky:h=!1,variant:f="plain",color:v="neutral",startAction:x,endAction:$,role:C}=o,k=ve(o,Vi),{getColor:b}=Fe(f),w=b(e.color,v),[_,z]=g.useState(""),[D,F]=(n==null?void 0:n.split(":"))||["",""],L=u||(D&&!D.match(/^(ul|ol|menu)$/)?"div":void 0);let N=a?"none":void 0;n&&(N={menu:"none",menubar:"none",group:"presentation"}[F]),C&&(N=C);const S=y({},o,{sticky:h,startAction:x,endAction:$,row:l,wrap:p,variant:f,color:w,nesting:i,nested:d,component:L,role:N}),O=Hi(S),P=y({},k,{component:L}),[E,I]=X("root",{additionalProps:{role:N},ref:r,className:_t(O.root,c),elementType:Ui,externalForwardedProps:P,ownerState:S}),[A,B]=X("startAction",{className:O.startAction,elementType:Wi,externalForwardedProps:P,ownerState:S}),[M,U]=X("endAction",{className:O.endAction,elementType:Ji,externalForwardedProps:P,ownerState:S});return s.jsx(tn.Provider,{value:z,children:s.jsx(Ur.Provider,{value:d?_||!0:!1,children:s.jsxs(E,y({},I,{children:[x&&s.jsx(A,y({},B,{children:x})),g.Children.map(m,(re,te)=>g.isValidElement(re)?g.cloneElement(re,y({},te===0&&{"data-first-child":""},Aa(re,["ListItem"])&&{component:re.props.component||"div"})):re),$&&s.jsx(M,y({},U,{children:$}))]}))})})});sn.muiName="ListItem";const Ms=sn;function Gi(t){return Me("JoyAutocomplete",t)}const Xi=$e("JoyAutocomplete",["root","wrapper","input","startDecorator","endDecorator","formControl","focused","disabled","error","multiple","limitTag","hasPopupIcon","hasClearIcon","clearIndicator","popupIndicator","popupIndicatorOpen","listbox","option","loading","noOptions","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]),ut=Xi,rn=H(ka)(({theme:t,ownerState:e})=>{var r;const o=(r=t.variants[e.variant])==null?void 0:r[e.color];return y({"--focus-outline-offset":`calc(${t.vars.focus.thickness} * -1)`,"--List-radius":t.vars.radius.sm,"--List-item-stickyBackground":(o==null?void 0:o.backgroundColor)||(o==null?void 0:o.background)||t.vars.palette.background.popup,"--List-item-stickyTop":"calc(var(--List-padding, var(--List-divider-gap)) * -1)"},Ra,{boxShadow:t.shadow.md},!(o!=null&&o.backgroundColor)&&{backgroundColor:t.vars.palette.background.popup},{zIndex:1200,overflow:"auto",maxHeight:"40vh",position:"relative","&:empty":{visibility:"hidden"},[`& .${Qr.nested}, & .${Qr.nested} .${$a.root}`]:{position:"initial"}})});H(rn,{name:"JoyAutocompleteListbox",slot:"Root",overridesResolver:(t,e)=>e.root})({});const Yi=$e("JoyAutocompleteOption",["root","focused","focusVisible","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]),qi=Yi,on=H(Da)(({theme:t,ownerState:e})=>{var r,o,a,n,l,p,i;return{"&:not(:hover)":{transition:"none"},'&[aria-disabled="true"]':(r=t.variants[`${e.variant}Disabled`])==null?void 0:r[e.color],'&[aria-selected="true"]':{color:(o=t.variants.soft)==null||(a=o[e.color==="context"?"context":"primary"])==null?void 0:a.color,backgroundColor:(n=t.variants.soft)==null||(l=n[e.color==="context"?"context":"primary"])==null?void 0:l.backgroundColor,fontWeight:t.vars.fontWeight.md},[`&.${qi.focused}:not([aria-selected="true"]):not(:hover)`]:{backgroundColor:(p=t.variants[`${e.variant}Hover`])==null||(i=p[e.color])==null?void 0:i.backgroundColor}}});H(on,{name:"JoyAutocompleteOption",slot:"Root",overridesResolver:(t,e)=>e.root})({});var Kr,Zr;const Qi=["autoComplete","autoHighlight","autoSelect","blurOnSelect","clearOnBlur","clearOnEscape","defaultValue","disableCloseOnSelect","disabledItemsFocusable","disableListWrap","filterSelectedOptions","handleHomeEndKeys","includeInputInList","openOnFocus","selectOnFocus"],Ki=["aria-describedby","aria-label","aria-labelledby","autoFocus","clearIcon","clearText","closeText","disableClearable","disabled","endDecorator","error","filterOptions","forcePopupIcon","freeSolo","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","id","inputValue","limitTags","loading","loadingText","multiple","name","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openText","options","placeholder","popupIcon","readOnly","renderGroup","renderOption","renderTags","required","type","startDecorator","size","color","variant","value"],Zi=["onDelete"],el=["onBlur","onFocus","onMouseDown"],tl=t=>t.current!==null&&t.current.contains(document.activeElement),sl=t=>{var e;return(e=t.label)!=null?e:t},rl=t=>`+${t}`,ol=t=>s.jsxs(Ms,{nested:!0,children:[s.jsx(_i,{sticky:!0,children:t.group}),s.jsx(Wo,{children:t.children})]},t.key),eo={plain:"plain",outlined:"plain",soft:"soft",solid:"solid"},nl=t=>{const{focused:e,hasClearIcon:r,hasPopupIcon:o,popupOpen:a,variant:n,color:l,size:p,multiple:i}=t,u={root:["root",e&&"focused",r&&"hasClearIcon",o&&"hasPopupIcon",n&&`variant${ce(n)}`,l&&`color${ce(l)}`,p&&`size${ce(p)}`],wrapper:["wrapper",i&&"multiple"],input:["input"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",a&&"popupIndicatorOpen"],listbox:["listbox"],option:["option"],loading:["loading"],noOptions:["noOptions"],limitTag:["limitTag"]};return Be(u,Gi,{})},al=H(Qo,{name:"JoyAutocomplete",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>y({"--Autocomplete-wrapper-gap":"3px"},t.size==="lg"&&{"--Autocomplete-wrapper-gap":"4px"},{"@media (pointer: fine)":{[`&:hover .${ut.clearIndicator}`]:{visibility:"visible"}}},t.multiple&&!t.startDecorator&&{paddingInlineStart:0})),il=H("div",{name:"JoyAutocomplete",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>({flex:1,minWidth:0,display:"flex",alignItems:"center",flexWrap:"wrap",[`&.${ut.multiple}`]:y({paddingBlockEnd:"min(var(--_Input-paddingBlock), var(--Autocomplete-wrapper-gap))"},t.startDecorator&&Array.isArray(t.value)&&t.value.length>0&&{marginBlockStart:"min(var(--_Input-paddingBlock) - var(--Autocomplete-wrapper-gap), 0px)",marginInlineStart:"calc(-1 * var(--Autocomplete-wrapper-gap))",[`& .${ut.input}`]:{marginInlineStart:"max(var(--Autocomplete-wrapper-gap), var(--Input-gap))"}}),[`& .${js.root}`]:{minWidth:0,marginInlineStart:"var(--Autocomplete-wrapper-gap)",marginBlockStart:"var(--Autocomplete-wrapper-gap)"}})),ll=H(Ko,{name:"JoyAutocomplete",slot:"Input",overridesResolver:(t,e)=>e.input})(({ownerState:t})=>y({minWidth:30,minHeight:"var(--Chip-minHeight)"},t.multiple&&y({marginBlockStart:"var(--Autocomplete-wrapper-gap)"},!t.startDecorator&&{marginInlineStart:"var(--Input-paddingInline)"}))),cl=H(Zo,{name:"JoyAutocomplete",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({}),dl=H(en,{name:"JoyAutocomplete",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})(({ownerState:t})=>y({},(t.hasClearIcon||t.hasPopupIcon)&&{"--Button-margin":"0px","--IconButton-margin":"0px","--Icon-margin":"0px"})),ul=H($r,{name:"JoyAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})(({ownerState:t})=>y({},!t.hasPopupIcon&&{marginInlineEnd:"calc(var(--Input-decorator-childOffset) * -1)"},{marginInlineStart:"calc(var(--_Input-paddingBlock) / 2)",visibility:t.focused?"visible":"hidden"})),ml=H($r,{name:"JoyAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>e.popupIndicator})(({ownerState:t})=>y({marginInlineStart:"calc(var(--_Input-paddingBlock) / 2)",marginInlineEnd:"calc(var(--Input-decorator-childOffset) * -1)"},t.popupOpen&&{transform:"rotate(180deg)"})),hl=H(rn,{name:"JoyAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})({}),pl=H(on,{name:"JoyAutocomplete",slot:"Option",overridesResolver:(t,e)=>e.option})({}),fl=H(Ms,{name:"JoyAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary})),gl=H(Ms,{name:"JoyAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary})),vl=H("span",{name:"JoyAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})({marginInlineStart:"calc(var(--Input-paddingInline) / 2)",marginBlockStart:"var(--_Input-paddingBlock)"}),xl=t=>ve(t,Qi),bl=g.forwardRef(function(e,r){var o,a,n,l,p,i;const u=_e({props:e,name:"JoyAutocomplete"}),{"aria-describedby":c,"aria-label":m,"aria-labelledby":d,autoFocus:h,clearIcon:f=Kr||(Kr=s.jsx(Qa,{fontSize:"md"})),clearText:v="Clear",closeText:x="Close",disableClearable:$=!1,disabled:C,endDecorator:k,error:b=!1,forcePopupIcon:w="auto",freeSolo:_=!1,getLimitTagsText:z=rl,getOptionLabel:D=sl,groupBy:F,id:L,limitTags:N=-1,loading:S=!1,loadingText:O="Loading",multiple:P=!1,name:E,noOptionsText:I="No options",openText:A="Open",placeholder:B,popupIcon:M=Zr||(Zr=s.jsx(Ka,{})),readOnly:U=!1,renderGroup:re=ol,renderOption:te,renderTags:ie,required:ge,type:T,startDecorator:K,size:q="md",color:G="neutral",variant:se="outlined"}=u,Z=ve(u,Ki),Q=xl(Z),{getColor:pe}=Fe(se),ae=g.useContext(Os),he=(o=(a=e.error)!=null?a:ae==null?void 0:ae.error)!=null?o:b,W=(n=(l=e.size)!=null?l:ae==null?void 0:ae.size)!=null?n:q,Ve=pe(e.color,he?"danger":(p=ae==null?void 0:ae.color)!=null?p:G),oe=(i=C??(ae==null?void 0:ae.disabled))!=null?i:!1,{getRootProps:Pe,getInputProps:Ze,getPopupIndicatorProps:gt,getClearProps:Je,getTagProps:et,getListboxProps:Le,getOptionProps:ot,value:nt,dirty:Ct,popupOpen:at,focused:je,focusedTag:Ne,anchorEl:tt,setAnchorEl:vt,inputValue:it,groupedOptions:ke}=Va(y({},u,{id:L??(ae==null?void 0:ae.htmlFor),componentName:"Autocomplete",unstable_classNamePrefix:"Joy",unstable_isActiveElementInListbox:tl})),De=!$&&!oe&&Ct&&!U,He=(!_||w===!0)&&w!==!1,xe=y({},u,{value:nt,focused:je,hasOptions:!!ke.length,hasClearIcon:De,hasPopupIcon:He,inputFocused:Ne===-1,popupOpen:at,size:W,color:Ve,variant:se}),ue=nl(xe);let be;if(P&&nt.length>0){const ne=We=>{const Ee=et(We),{onDelete:Rt}=Ee,Dt=ve(Ee,Zi);return y({disabled:oe,size:W,onClick:Rt},Dt)};ie?be=ie(nt,ne,xe):be=nt.map((We,Ee)=>s.jsx(mi,{size:W,variant:"soft",color:Ve==="context"?void 0:"neutral",endDecorator:s.jsx(Ni,y({},ne({index:Ee}))),children:D(We)},Ee))}const Ue=pt(r,vt),lt={[ut.disabled]:oe,[ut.error]:he,[ut.focused]:je,[ut.formControl]:Boolean(ae)},[ct,Nt]=X("root",{ref:Ue,className:[ue.root,lt],elementType:al,externalForwardedProps:Q,ownerState:xe,getSlotProps:Pe}),[Tt,kt]=X("wrapper",{className:ue.wrapper,elementType:il,externalForwardedProps:Q,ownerState:xe}),Ht={[ut.disabled]:oe},[$t,le]=X("input",{className:[ue.input,Ht],elementType:ll,getSlotProps:ne=>{const We=Ze(),{onBlur:Ee,onFocus:Rt,onMouseDown:Dt}=We,Sn=ve(We,el);return y({},Sn,{onBlur:xt=>{var bt;Ee==null||Ee(xt),(bt=ne.onBlur)==null||bt.call(ne,xt)},onFocus:xt=>{var bt;Rt==null||Rt(xt),(bt=ne.onFocus)==null||bt.call(ne,xt)},onMouseDown:xt=>{var bt;Dt==null||Dt(xt),(bt=ne.onMouseDown)==null||bt.call(ne,xt)}})},externalForwardedProps:Q,ownerState:xe,additionalProps:{autoFocus:h,placeholder:B,name:E,readOnly:U,disabled:oe,required:ge??(ae==null?void 0:ae.required),type:T,"aria-invalid":he||void 0,"aria-label":m,"aria-labelledby":d,"aria-describedby":c??(ae==null?void 0:ae["aria-describedby"])}}),[Ae,Us]=X("startDecorator",{className:ue.startDecorator,elementType:cl,externalForwardedProps:Q,ownerState:xe}),[Ws,Js]=X("endDecorator",{className:ue.endDecorator,elementType:dl,externalForwardedProps:Q,ownerState:xe}),[Gs,ns]=X("clearIndicator",{className:ue.clearIndicator,elementType:ul,getSlotProps:Je,externalForwardedProps:Q,ownerState:xe,getSlotOwnerState:ne=>({size:ne.size||W,variant:ne.variant||eo[se]||"plain",color:ne.color||"neutral"}),additionalProps:{"aria-label":v,title:v}}),[Xs,Ys]=X("popupIndicator",{className:ue.popupIndicator,elementType:ml,getSlotProps:gt,externalForwardedProps:Q,ownerState:xe,getSlotOwnerState:ne=>({size:ne.size||W,variant:ne.variant||eo[se]||"plain",color:ne.color||"neutral"}),additionalProps:{disabled:oe,"aria-label":at?x:A,title:at?x:A,type:"button"}}),[qs,Ge]=X("listbox",{className:ue.listbox,elementType:Ho,getSlotProps:Le,externalForwardedProps:Q,ownerState:xe,getSlotOwnerState:ne=>({size:ne.size||W,variant:ne.variant||"outlined",color:ne.color||"neutral",disableColorInversion:!ne.disablePortal}),additionalProps:{anchorEl:tt,open:at,style:tt?{width:tt.clientWidth}:{}},internalForwardedProps:{component:hl}}),[as,R]=X("loading",{className:ue.loading,elementType:fl,externalForwardedProps:Q,ownerState:xe}),[j,J]=X("noOptions",{className:ue.noOptions,elementType:gl,externalForwardedProps:Q,ownerState:xe,additionalProps:{role:"presentation",onMouseDown:ne=>{ne.preventDefault()}}}),[ee,fe]=X("limitTag",{className:ue.limitTag,elementType:vl,externalForwardedProps:Q,ownerState:xe});if(N>-1&&Array.isArray(be)){const ne=be.length-N;!je&&ne>0&&(be=be.splice(0,N),be.push(s.jsx(ee,y({},fe,{children:z(ne)}),be.length)))}const[Se,ye]=X("option",{className:ue.option,elementType:pl,externalForwardedProps:Q,ownerState:xe,getSlotOwnerState:ne=>({variant:ne.variant||"plain",color:ne.color||"neutral",disableColorInversion:!Ge.disablePortal}),additionalProps:{as:"li"}}),is=te||((ne,We)=>s.jsx(Se,y({},ne,{children:D(We)}))),Fr=(ne,We)=>{const Ee=ot({option:ne,index:We});return is(y({},ye,Ee),ne,{selected:!!Ee["aria-selected"],inputValue:it,ownerState:xe})},Nn=g.useMemo(()=>[{name:"offset",options:{offset:[0,4]}},...Ge.modifiers||[]],[Ge.modifiers]);let ls=null;if(tt){var Br;ls=s.jsx(Pa,{nested:!0,children:s.jsxs(qs,y({},Ge,{className:_t(Ge.className,((Br=Ge.ownerState)==null?void 0:Br.color)==="context"&&ut.colorContext),modifiers:Nn,children:[ke.map((ne,We)=>{if(F){const Ee=ne;return re({key:String(Ee.key),group:Ee.group,children:Ee.options.map((Rt,Dt)=>Fr(Rt,Ee.index+Dt))})}return Fr(ne,We)}),S&&ke.length===0?s.jsx(as,y({},R,{children:O})):null,ke.length===0&&!_&&!S?s.jsx(j,y({},J,{children:I})):null]}))}),Ge.disablePortal||(ls=s.jsx(Uo.Provider,{value:void 0,children:ls}))}return s.jsxs(g.Fragment,{children:[s.jsxs(ct,y({},Nt,{children:[K&&s.jsx(Ae,y({},Us,{children:K})),s.jsxs(Tt,y({},kt,{children:[be,s.jsx($t,y({},le))]})),k&&s.jsx(Ws,y({},Js,{children:k})),De?s.jsx(Gs,y({},ns,{children:f})):null,He?s.jsx(Xs,y({},Ys,{children:M})):null]})),ls]})}),yl=bl;function Cl(t){return Me("JoyCircularProgress",t)}$e("JoyCircularProgress",["root","determinate","svg","track","progress","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);let Nl=t=>t,to;const Sl=["color","backgroundColor"],wl=["children","className","color","size","variant","thickness","determinate","value"],Il=Tn({"0%":{transform:"rotate(-90deg)"},"100%":{transform:"rotate(270deg)"}}),jl=t=>{const{determinate:e,color:r,variant:o,size:a}=t,n={root:["root",e&&"determinate",r&&`color${ce(r)}`,o&&`variant${ce(o)}`,a&&`size${ce(a)}`],svg:["svg"],track:["track"],progress:["progress"]};return Be(n,Cl,{})},El=H("span",{name:"JoyCircularProgress",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>{var r;const o=((r=e.variants[t.variant])==null?void 0:r[t.color])||{},{color:a,backgroundColor:n}=o,l=ve(o,Sl);return y({"--Icon-fontSize":"calc(0.4 * var(--_root-size))","--CircularProgress-track-color":n,"--CircularProgress-progress-color":a,"--CircularProgress-percent":t.value,"--CircularProgress-linecap":"round"},t.size==="sm"&&{"--CircularProgress-track-thickness":"3px","--CircularProgress-progress-thickness":"3px","--_root-size":"var(--CircularProgress-size, 24px)"},t.instanceSize==="sm"&&{"--CircularProgress-size":"24px"},t.size==="md"&&{"--CircularProgress-track-thickness":"6px","--CircularProgress-progress-thickness":"6px","--_root-size":"var(--CircularProgress-size, 40px)"},t.instanceSize==="md"&&{"--CircularProgress-size":"40px"},t.size==="lg"&&{"--CircularProgress-track-thickness":"8px","--CircularProgress-progress-thickness":"8px","--_root-size":"var(--CircularProgress-size, 64px)"},t.instanceSize==="lg"&&{"--CircularProgress-size":"64px"},t.thickness&&{"--CircularProgress-track-thickness":`${t.thickness}px`,"--CircularProgress-progress-thickness":`${t.thickness}px`},{"--_thickness-diff":"calc(var(--CircularProgress-track-thickness) - var(--CircularProgress-progress-thickness))","--_inner-size":"calc(var(--_root-size) - 2 * var(--variant-borderWidth, 0px))","--_outlined-inset":"max(var(--CircularProgress-track-thickness), var(--CircularProgress-progress-thickness))",width:"var(--_root-size)",height:"var(--_root-size)",borderRadius:"var(--_root-size)",margin:"var(--CircularProgress-margin)",boxSizing:"border-box",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,position:"relative",color:a},t.children&&{fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.md,fontSize:"calc(0.2 * var(--_root-size))"},l,t.variant==="outlined"&&{"&:before":y({content:'""',display:"block",position:"absolute",borderRadius:"inherit",top:"var(--_outlined-inset)",left:"var(--_outlined-inset)",right:"var(--_outlined-inset)",bottom:"var(--_outlined-inset)"},l)})}),Tl=H("svg",{name:"JoyCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({width:"inherit",height:"inherit",display:"inherit",boxSizing:"inherit",position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))"}),kl=H("circle",{name:"JoyCircularProgress",slot:"track",overridesResolver:(t,e)=>e.track})({cx:"50%",cy:"50%",r:"calc(var(--_inner-size) / 2 - var(--CircularProgress-track-thickness) / 2 + min(0px, var(--_thickness-diff) / 2))",fill:"transparent",strokeWidth:"var(--CircularProgress-track-thickness)",stroke:"var(--CircularProgress-track-color)"}),$l=H("circle",{name:"JoyCircularProgress",slot:"progress",overridesResolver:(t,e)=>e.progress})({"--_progress-radius":"calc(var(--_inner-size) / 2 - var(--CircularProgress-progress-thickness) / 2 - max(0px, var(--_thickness-diff) / 2))","--_progress-length":"calc(2 * 3.1415926535 * var(--_progress-radius))",cx:"50%",cy:"50%",r:"var(--_progress-radius)",fill:"transparent",strokeWidth:"var(--CircularProgress-progress-thickness)",stroke:"var(--CircularProgress-progress-color)",strokeLinecap:"var(--CircularProgress-linecap, round)",strokeDasharray:"var(--_progress-length)",strokeDashoffset:"calc(var(--_progress-length) - var(--CircularProgress-percent) * var(--_progress-length) / 100)",transformOrigin:"center",transform:"rotate(-90deg)"},({ownerState:t})=>t.determinate?{transition:"stroke-dashoffset 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}:kn(to||(to=Nl`
          animation: var(
              --CircularProgress-circulation,
              0.8s linear 0s infinite normal none running
            )
            ${0};
        `),Il)),Rl=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyCircularProgress"}),{children:a,className:n,color:l="primary",size:p="md",variant:i="soft",thickness:u,determinate:c=!1,value:m=c?0:25}=o,d=ve(o,wl),{getColor:h}=Fe(i),f=h(e.color,l),v=y({},o,{color:f,size:p,variant:i,thickness:u,value:m,determinate:c,instanceSize:e.size}),x=jl(v),[$,C]=X("root",{ref:r,className:_t(x.root,n),elementType:El,externalForwardedProps:d,ownerState:v,additionalProps:y({role:"progressbar",style:{"--CircularProgress-percent":m}},m&&c&&{"aria-valuenow":Math.round(typeof m=="number"?m:Number(m||0))})}),[k,b]=X("svg",{className:x.svg,elementType:Tl,externalForwardedProps:d,ownerState:v}),[w,_]=X("track",{className:x.track,elementType:kl,externalForwardedProps:d,ownerState:v}),[z,D]=X("progress",{className:x.progress,elementType:$l,externalForwardedProps:d,ownerState:v});return s.jsxs($,y({},C,{children:[s.jsxs(k,y({},b,{children:[s.jsx(w,y({},_)),s.jsx(z,y({},D))]})),a]}))}),Dl=Rl;function Pl(t){return Me("JoyButton",t)}const Ll=$e("JoyButton",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]),so=Ll,Al=["children","action","color","variant","size","fullWidth","startDecorator","endDecorator","loading","loadingPosition","loadingIndicator","disabled"],Ol=t=>{const{color:e,disabled:r,focusVisible:o,focusVisibleClassName:a,fullWidth:n,size:l,variant:p,loading:i}=t,u={root:["root",r&&"disabled",o&&"focusVisible",n&&"fullWidth",p&&`variant${ce(p)}`,e&&`color${ce(e)}`,l&&`size${ce(l)}`,i&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},c=Be(u,Pl,{});return o&&a&&(c.root+=` ${a}`),c},Ml=H("span",{name:"JoyButton",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),zl=H("span",{name:"JoyButton",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),_l=H("span",{name:"JoyButton",slot:"LoadingCenter",overridesResolver:(t,e)=>e.loadingIndicatorCenter})(({theme:t,ownerState:e})=>{var r,o,a,n;return y({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(r=t.variants[e.variant])==null||(o=r[e.color])==null?void 0:o.color},e.disabled&&{color:(a=t.variants[`${e.variant}Disabled`])==null||(n=a[e.color])==null?void 0:n.color})}),Fl=H("button",{name:"JoyButton",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,o,a,n;return[y({"--Icon-margin":"initial","--CircularProgress-size":"var(--Icon-fontSize)"},e.size==="sm"&&{"--Icon-fontSize":"1.25rem","--Button-gap":"0.375rem",minHeight:"var(--Button-minHeight, 2rem)",fontSize:t.vars.fontSize.sm,paddingBlock:"2px",paddingInline:"0.75rem"},e.size==="md"&&{"--Icon-fontSize":"1.5rem","--Button-gap":"0.5rem",minHeight:"var(--Button-minHeight, 2.5rem)",fontSize:t.vars.fontSize.sm,paddingBlock:"0.25rem",paddingInline:"1rem"},e.size==="lg"&&{"--Icon-fontSize":"1.75rem","--Button-gap":"0.75rem",minHeight:"var(--Button-minHeight, 3rem)",fontSize:t.vars.fontSize.md,paddingBlock:"0.375rem",paddingInline:"1.5rem"},{WebkitTapHighlightColor:"transparent",borderRadius:`var(--Button-radius, ${t.vars.radius.sm})`,margin:"var(--Button-margin)",border:"none",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",textDecoration:"none",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontFamily:t.vars.fontFamily.body,fontWeight:t.vars.fontWeight.lg,lineHeight:1},e.fullWidth&&{width:"100%"},{[t.focus.selector]:t.focus.default}),(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:hover":(o=t.variants[`${e.variant}Hover`])==null?void 0:o[e.color]},{"&:active":(a=t.variants[`${e.variant}Active`])==null?void 0:a[e.color]},y({[`&.${so.disabled}`]:(n=t.variants[`${e.variant}Disabled`])==null?void 0:n[e.color]},e.loadingPosition==="center"&&{[`&.${so.loading}`]:{transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",color:"transparent"}})]}),Bl=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyButton"}),{children:a,action:n,color:l="primary",variant:p="solid",size:i="md",fullWidth:u=!1,startDecorator:c,endDecorator:m,loading:d=!1,loadingPosition:h="center",loadingIndicator:f,disabled:v}=o,x=ve(o,Al),{getColor:$}=Fe(p),C=$(e.color,l),k=g.useRef(null),b=pt(k,r),{focusVisible:w,setFocusVisible:_,getRootProps:z}=Tr(y({},o,{disabled:v||d,ref:b})),D=f??s.jsx(Dl,y({},C!=="context"&&{color:C},{thickness:{sm:2,md:3,lg:4}[i]||3}));g.useImperativeHandle(n,()=>({focusVisible:()=>{var M;_(!0),(M=k.current)==null||M.focus()}}),[_]);const F=y({},o,{color:C,fullWidth:u,variant:p,size:i,focusVisible:w,loading:d,loadingPosition:h,disabled:v||d}),L=Ol(F),[N,S]=X("root",{ref:r,className:L.root,elementType:Fl,externalForwardedProps:x,getSlotProps:z,ownerState:F}),[O,P]=X("startDecorator",{className:L.startDecorator,elementType:Ml,externalForwardedProps:x,ownerState:F}),[E,I]=X("endDecorator",{className:L.endDecorator,elementType:zl,externalForwardedProps:x,ownerState:F}),[A,B]=X("loadingIndicatorCenter",{className:L.loadingIndicatorCenter,elementType:_l,externalForwardedProps:x,ownerState:F});return s.jsxs(N,y({},S,{children:[(c||d&&h==="start")&&s.jsx(O,y({},P,{children:d&&h==="start"?D:c})),a,d&&h==="center"&&s.jsx(A,y({},B,{children:D})),(m||d&&h==="end")&&s.jsx(E,y({},I,{children:d&&h==="end"?D:m}))]}))}),yt=Bl;function Vl(t){return Me("JoyCheckbox",t)}const Hl=$e("JoyCheckbox",["root","checkbox","action","input","label","checked","disabled","focusVisible","indeterminate","colorPrimary","colorDanger","colorInfo","colorNeutral","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantOutlined","variantSoft","variantSolid"]),Es=Hl,Ul=ss(s.jsx("path",{d:"M9 16.17 5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L9 16.17z"}),"Check"),Wl=ss(s.jsx("path",{d:"M19 13H5c-.55 0-1-.45-1-1s.45-1 1-1h14c.55 0 1 .45 1 1s-.45 1-1 1z"}),"HorizontalRule");function Jl(t){return Me("JoyTypography",t)}$e("JoyTypography",["root","h1","h2","h3","h4","h5","h6","body1","body2","body3","noWrap","gutterBottom","startDecorator","endDecorator","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);const Gl=["color","textColor"],Xl=["component","gutterBottom","noWrap","level","levelMapping","children","endDecorator","startDecorator","variant"],yr=g.createContext(!1),Yl=t=>{const{gutterBottom:e,noWrap:r,level:o,color:a,variant:n}=t,l={root:["root",o,e&&"gutterBottom",r&&"noWrap",a&&`color${ce(a)}`,n&&`variant${ce(n)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Be(l,Jl,{})},ql=H("span",{name:"JoyTypography",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})(({ownerState:t})=>{var e;return y({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"},typeof t.startDecorator!="string"&&(t.alignItems==="flex-start"||((e=t.sx)==null?void 0:e.alignItems)==="flex-start")&&{marginTop:"2px"})}),Ql=H("span",{name:"JoyTypography",slot:"endDecorator",overridesResolver:(t,e)=>e.endDecorator})(({ownerState:t})=>{var e;return y({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"},typeof t.endDecorator!="string"&&(t.alignItems==="flex-start"||((e=t.sx)==null?void 0:e.alignItems)==="flex-start")&&{marginTop:"2px"})}),Kl=H("span",{name:"JoyTypography",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,o;return y({"--Icon-fontSize":"1.25em",margin:0},e.nesting?{display:"inline"}:{fontFamily:t.vars.fontFamily.body,display:"block"},(e.startDecorator||e.endDecorator)&&y({display:"flex",alignItems:"center"},e.nesting&&y({display:"inline-flex"},e.startDecorator&&{verticalAlign:"bottom"})),e.level&&e.level!=="inherit"&&t.typography[e.level],e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.color&&e.color!=="context"&&{color:`rgba(${(r=t.vars.palette[e.color])==null?void 0:r.mainChannel} / 1)`},e.variant&&y({borderRadius:t.vars.radius.xs,paddingBlock:"min(0.15em, 4px)",paddingInline:"0.375em"},!e.nesting&&{marginInline:"-0.375em"},(o=t.variants[e.variant])==null?void 0:o[e.color]))}),Zl={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",display1:"h1",display2:"h2",body1:"p",body2:"p",body3:"span",body4:"span",body5:"span",inherit:"p"},ec=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyTypography"}),{color:a,textColor:n}=o,l=ve(o,Gl),p=g.useContext(yr),i=za(y({},l,{color:n})),{component:u,gutterBottom:c=!1,noWrap:m=!1,level:d="body1",levelMapping:h={},children:f,endDecorator:v,startDecorator:x,variant:$}=i,C=ve(i,Xl),{getColor:k}=Fe($),b=k(e.color,$?a??"neutral":a),w=p?e.level||"inherit":d,_=u||(p?"span":h[w]||Zl[w]||"span"),z=y({},i,{level:w,component:_,color:b,gutterBottom:c,noWrap:m,nesting:p,variant:$}),D=Yl(z),F=y({},C,{component:_}),[L,N]=X("root",{ref:r,className:D.root,elementType:Kl,externalForwardedProps:F,ownerState:z}),[S,O]=X("startDecorator",{className:D.startDecorator,elementType:ql,externalForwardedProps:F,ownerState:z}),[P,E]=X("endDecorator",{className:D.endDecorator,elementType:Ql,externalForwardedProps:F,ownerState:z});return s.jsx(yr.Provider,{value:!0,children:s.jsxs(L,y({},N,{children:[x&&s.jsx(S,y({},O,{children:x})),f,v&&s.jsx(P,y({},E,{children:v}))]}))})}),ps=ec,tc=["checked","uncheckedIcon","checkedIcon","label","defaultChecked","disabled","disableIcon","overlay","id","indeterminate","indeterminateIcon","name","onBlur","onChange","onFocus","onFocusVisible","readOnly","required","value","color","variant","size"],sc=t=>{const{checked:e,disabled:r,disableIcon:o,focusVisible:a,color:n,variant:l,size:p}=t,i={root:["root",e&&"checked",r&&"disabled",a&&"focusVisible",l&&`variant${ce(l)}`,n&&`color${ce(n)}`,p&&`size${ce(p)}`],checkbox:["checkbox",e&&"checked",r&&"disabled"],action:["action",e&&"checked",o&&r&&"disabled",a&&"focusVisible"],input:["input"],label:["label"]};return Be(i,Vl,{})},rc=H("span",{name:"JoyCheckbox",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>{var r,o,a,n,l,p;return y({"--Icon-fontSize":"var(--Checkbox-size)"},t.size==="sm"&&{"--Checkbox-size":"1rem","--Checkbox-gap":"0.375rem",fontSize:e.vars.fontSize.sm},t.size==="md"&&{"--Checkbox-size":"1.25rem","--Checkbox-gap":"0.5rem",fontSize:e.vars.fontSize.md},t.size==="lg"&&{"--Checkbox-size":"1.5rem","--Checkbox-gap":"0.625rem",fontSize:e.vars.fontSize.lg},{position:t.overlay?"initial":"relative",display:"inline-flex",fontFamily:e.vars.fontFamily.body,lineHeight:"var(--Checkbox-size)",color:e.vars.palette.text.primary,[`&.${Es.disabled}`]:{color:(r=e.variants.plainDisabled)==null||(o=r[t.color])==null?void 0:o.color}},t.disableIcon&&{color:(a=e.variants[t.variant])==null||(n=a[t.color])==null?void 0:n.color,[`&.${Es.disabled}`]:{color:(l=e.variants[`${t.variant}Disabled`])==null||(p=l[t.color])==null?void 0:p.color}})}),oc=H("span",{name:"JoyCheckbox",slot:"Checkbox",overridesResolver:(t,e)=>e.checkbox})(({theme:t,ownerState:e})=>{var r,o,a,n,l;const p=(r=t.variants[`${e.variant}`])==null?void 0:r[e.color];return[y({boxSizing:"border-box",borderRadius:t.vars.radius.xs,width:"var(--Checkbox-size)",height:"var(--Checkbox-size)",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},e.disableIcon&&{display:"contents"}),...e.disableIcon?[]:[y({},p,{backgroundColor:(o=p==null?void 0:p.backgroundColor)!=null?o:t.vars.palette.background.surface}),{"&:hover":(a=t.variants[`${e.variant}Hover`])==null?void 0:a[e.color]},{"&:active":(n=t.variants[`${e.variant}Active`])==null?void 0:n[e.color]},{[`&.${Es.disabled}`]:(l=t.variants[`${e.variant}Disabled`])==null?void 0:l[e.color]}]]}),nc=H("span",{name:"JoyCheckbox",slot:"Action",overridesResolver:(t,e)=>e.action})(({theme:t,ownerState:e})=>{var r,o,a,n;return[{borderRadius:`var(--Checkbox-action-radius, ${e.overlay?"var(--internal-action-radius, inherit)":"inherit"})`,position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))",bottom:"calc(-1 * var(--variant-borderWidth, 0px))",right:"calc(-1 * var(--variant-borderWidth, 0px))",zIndex:1,transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",[t.focus.selector]:t.focus.default},...e.disableIcon?[(r=t.variants[e.variant])==null?void 0:r[e.color],{"&:hover":(o=t.variants[`${e.variant}Hover`])==null?void 0:o[e.color]},{"&:active":(a=t.variants[`${e.variant}Active`])==null?void 0:a[e.color]},{[`&.${Es.disabled}`]:(n=t.variants[`${e.variant}Disabled`])==null?void 0:n[e.color]}]:[]]}),ac=H("input",{name:"JoyCheckbox",slot:"Input",overridesResolver:(t,e)=>e.input})(()=>({margin:0,opacity:0,position:"absolute",width:"100%",height:"100%",cursor:"pointer"})),ic=H("label",{name:"JoyCheckbox",slot:"Label",overridesResolver:(t,e)=>e.label})(({ownerState:t})=>y({flex:1,minWidth:0},t.disableIcon?{zIndex:1,pointerEvents:"none"}:{marginInlineStart:"var(--Checkbox-gap)"})),lc=s.jsx(Ul,{}),cc=s.jsx(Wl,{}),dc=g.forwardRef(function(e,r){var o,a,n,l,p;const i=_e({props:e,name:"JoyCheckbox"}),{checked:u,uncheckedIcon:c,checkedIcon:m=lc,label:d,defaultChecked:h,disabled:f,disableIcon:v=!1,overlay:x,id:$,indeterminate:C=!1,indeterminateIcon:k=cc,name:b,onBlur:w,onChange:_,onFocus:z,onFocusVisible:D,readOnly:F,required:L,value:N,color:S,variant:O,size:P="md"}=i,E=ve(i,tc),I=g.useContext(Os),A=(o=(a=e.disabled)!=null?a:I==null?void 0:I.disabled)!=null?o:f,B=(n=(l=e.size)!=null?l:I==null?void 0:I.size)!=null?n:P,M=ts($??(I==null?void 0:I.htmlFor)),U={checked:u,defaultChecked:h,disabled:A,onBlur:w,onChange:_,onFocus:z,onFocusVisible:D},{getInputProps:re,checked:te,disabled:ie,focusVisible:ge}=Xo(U),T=te||C,G=T?O||"solid":O||"outlined",{getColor:se}=Fe(G),Z=se(e.color,I!=null&&I.error?"danger":(p=I==null?void 0:I.color)!=null?p:S),ae=y({},i,{checked:te,disabled:ie,disableIcon:v,overlay:x,focusVisible:ge,color:T?Z||"primary":Z||"neutral",variant:G,size:B}),he=sc(ae),[W,Ve]=X("root",{ref:r,className:he.root,elementType:rc,externalForwardedProps:E,ownerState:ae}),[oe,Pe]=X("checkbox",{className:he.checkbox,elementType:oc,externalForwardedProps:E,ownerState:ae}),[Ze,gt]=X("action",{className:he.action,elementType:nc,externalForwardedProps:E,ownerState:ae}),[Je,et]=X("input",{additionalProps:y({id:M,name:b,value:N,readOnly:F,required:L??(I==null?void 0:I.required),"aria-describedby":I==null?void 0:I["aria-describedby"]},C&&{"aria-checked":"mixed"}),className:he.input,elementType:ac,externalForwardedProps:E,getSlotProps:re,ownerState:ae}),[Le,ot]=X("label",{additionalProps:{htmlFor:M},className:he.label,elementType:ic,externalForwardedProps:E,ownerState:ae});return s.jsxs(W,y({},Ve,{children:[s.jsxs(oe,y({},Pe,{children:[s.jsx(Ze,y({},gt,{children:s.jsx(Je,y({},et))})),C&&!te&&!v&&k,te&&!v&&m,!te&&!v&&!C&&c]})),d&&s.jsx(yr.Provider,{value:!0,children:s.jsx(Le,y({},ot,{children:d}))})]}))}),uc=dc;function mc(t){return Me("JoySwitch",t)}const hc=$e("JoySwitch",["root","checked","disabled","action","input","thumb","track","focusVisible","readOnly","colorPrimary","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantOutlined","variantSoft","variantSolid","startDecorator","endDecorator"]),Cr=hc,pc=["checked","defaultChecked","disabled","onBlur","onChange","onFocus","onFocusVisible","readOnly","required","id","color","variant","size","startDecorator","endDecorator"],fc=t=>{const{checked:e,disabled:r,focusVisible:o,readOnly:a,color:n,variant:l}=t,p={root:["root",e&&"checked",r&&"disabled",o&&"focusVisible",a&&"readOnly",l&&`variant${ce(l)}`,n&&`color${ce(n)}`],thumb:["thumb",e&&"checked"],track:["track",e&&"checked"],action:["action",o&&"focusVisible"],input:["input"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Be(p,mc,{})},gc=({theme:t,ownerState:e})=>(r={})=>{var o;const a=((o=t.variants[`${e.variant}${r.state||""}`])==null?void 0:o[e.color])||{};return{"--Switch-track-background":a.backgroundColor,"--Switch-track-color":a.color,"--Switch-track-borderColor":e.variant==="outlined"?a.borderColor:"currentColor","--Switch-thumb-background":a.color,"--Switch-thumb-color":a.backgroundColor}},vc=H("div",{name:"JoySwitch",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,o;const a=gc({theme:t,ownerState:e});return y({"--variant-borderWidth":(r=t.variants[e.variant])==null||(o=r[e.color])==null?void 0:o["--variant-borderWidth"],"--Switch-track-radius":t.vars.radius.lg,"--Switch-thumb-shadow":e.variant==="soft"?"none":"0 0 0 1px var(--Switch-track-background)"},e.size==="sm"&&{"--Switch-track-width":"40px","--Switch-track-height":"20px","--Switch-thumb-size":"12px","--Switch-gap":"6px",fontSize:t.vars.fontSize.sm},e.size==="md"&&{"--Switch-track-width":"48px","--Switch-track-height":"24px","--Switch-thumb-size":"16px","--Switch-gap":"8px",fontSize:t.vars.fontSize.md},e.size==="lg"&&{"--Switch-track-width":"64px","--Switch-track-height":"32px","--Switch-thumb-size":"24px","--Switch-gap":"12px"},{"--internal-paddingBlock":"max((var(--Switch-track-height) - 2 * var(--variant-borderWidth, 0px) - var(--Switch-thumb-size)) / 2, 0px)","--Switch-thumb-radius":"max(var(--Switch-track-radius) - var(--internal-paddingBlock), min(var(--internal-paddingBlock) / 2, var(--Switch-track-radius) / 2))","--Switch-thumb-width":"var(--Switch-thumb-size)","--Switch-thumb-offset":"max((var(--Switch-track-height) - var(--Switch-thumb-size)) / 2, 0px)"},a(),{"&:hover":y({},a({state:"Hover"})),[`&.${Cr.checked}`]:y({},a(),{"&:hover":y({},a({state:"Hover"}))}),[`&.${Cr.disabled}`]:y({pointerEvents:"none",color:t.vars.palette.text.tertiary},a({state:"Disabled"})),display:"inline-flex",alignItems:"center",alignSelf:"center",fontFamily:t.vars.fontFamily.body,position:"relative",padding:"calc((var(--Switch-thumb-size) / 2) - (var(--Switch-track-height) / 2)) calc(-1 * var(--Switch-thumb-offset))",backgroundColor:"initial",border:"none"})}),xc=H("div",{name:"JoySwitch",slot:"Action",overridesResolver:(t,e)=>e.action})(({theme:t})=>({borderRadius:"var(--Switch-track-radius)",position:"absolute",top:0,left:0,bottom:0,right:0,[t.focus.selector]:t.focus.default})),bc=H("input",{name:"JoySwitch",slot:"Input",overridesResolver:(t,e)=>e.input})({margin:0,height:"100%",width:"100%",opacity:0,position:"absolute",cursor:"pointer"}),yc=H("span",{name:"JoySwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>y({position:"relative",color:"var(--Switch-track-color)",height:"var(--Switch-track-height)",width:"var(--Switch-track-width)",display:"flex",flexShrink:0,justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",border:"var(--variant-borderWidth, 0px) solid",borderColor:"var(--Switch-track-borderColor)",backgroundColor:"var(--Switch-track-background)",borderRadius:"var(--Switch-track-radius)",fontFamily:t.vars.fontFamily.body},e.size==="sm"&&{fontSize:t.vars.fontSize.xs},e.size==="md"&&{fontSize:t.vars.fontSize.sm},e.size==="lg"&&{fontSize:t.vars.fontSize.md})),Cc=H("span",{name:"JoySwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})({"--Icon-fontSize":"calc(var(--Switch-thumb-size) * 0.75)",transition:"left 0.2s",display:"inline-flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"50%",left:"calc(50% - var(--Switch-track-width) / 2 + var(--Switch-thumb-width) / 2 + var(--Switch-thumb-offset))",transform:"translate(-50%, -50%)",width:"var(--Switch-thumb-width)",height:"var(--Switch-thumb-size)",borderRadius:"var(--Switch-thumb-radius)",boxShadow:"var(--Switch-thumb-shadow)",color:"var(--Switch-thumb-color)",backgroundColor:"var(--Switch-thumb-background)",[`&.${Cr.checked}`]:{left:"calc(50% + var(--Switch-track-width) / 2 - var(--Switch-thumb-width) / 2 - var(--Switch-thumb-offset))"}}),Nc=H("span",{name:"JoySwitch",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({display:"inline-flex",marginInlineEnd:"var(--Switch-gap)"}),Sc=H("span",{name:"JoySwitch",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({display:"inline-flex",marginInlineStart:"var(--Switch-gap)"}),wc=g.forwardRef(function(e,r){var o,a,n,l,p;const i=_e({props:e,name:"JoySwitch"}),{checked:u,defaultChecked:c,disabled:m,onBlur:d,onChange:h,onFocus:f,onFocusVisible:v,readOnly:x,id:$,color:C,variant:k="solid",size:b="md",startDecorator:w,endDecorator:_}=i,z=ve(i,pc),D=g.useContext(Os),F=(o=(a=e.disabled)!=null?a:D==null?void 0:D.disabled)!=null?o:m,L=(n=(l=e.size)!=null?l:D==null?void 0:D.size)!=null?n:b,{getColor:N}=Fe(k),S=N(e.color,D!=null&&D.error?"danger":(p=D==null?void 0:D.color)!=null?p:C),O={checked:u,defaultChecked:c,disabled:F,onBlur:d,onChange:h,onFocus:f,onFocusVisible:v,readOnly:x},{getInputProps:P,checked:E,disabled:I,focusVisible:A,readOnly:B}=Xo(O),M=y({},i,{id:$,checked:E,disabled:I,focusVisible:A,readOnly:B,color:E?S||"primary":S||"neutral",variant:k,size:L}),U=fc(M),[re,te]=X("root",{ref:r,className:U.root,elementType:vc,externalForwardedProps:z,ownerState:M}),[ie,ge]=X("startDecorator",{additionalProps:{"aria-hidden":!0},className:U.startDecorator,elementType:Nc,externalForwardedProps:z,ownerState:M}),[T,K]=X("endDecorator",{additionalProps:{"aria-hidden":!0},className:U.endDecorator,elementType:Sc,externalForwardedProps:z,ownerState:M}),[q,G]=X("track",{className:U.track,elementType:yc,externalForwardedProps:z,ownerState:M}),[se,Z]=X("thumb",{className:U.thumb,elementType:Cc,externalForwardedProps:z,ownerState:M}),[Q,pe]=X("action",{className:U.action,elementType:xc,externalForwardedProps:z,ownerState:M}),[ae,he]=X("input",{additionalProps:{id:$??(D==null?void 0:D.htmlFor),"aria-describedby":D==null?void 0:D["aria-describedby"]},className:U.input,elementType:bc,externalForwardedProps:z,getSlotProps:P,ownerState:M});return s.jsxs(re,y({},te,{children:[w&&s.jsx(ie,y({},ge,{children:typeof w=="function"?w(M):w})),s.jsxs(q,y({},G,{children:[G==null?void 0:G.children,s.jsx(se,y({},Z))]})),s.jsx(Q,y({},pe,{children:s.jsx(ae,y({},he))})),_&&s.jsx(T,y({},K,{children:typeof _=="function"?_(M):_}))]}))}),Nr=wc;function Ic(t){return Me("JoyTextarea",t)}const jc=$e("JoyTextarea",["root","textarea","startDecorator","endDecorator","formControl","disabled","error","focused","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft"]),Ss=jc,Ec=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","size","color","variant","startDecorator","endDecorator","minRows","maxRows"],Tc=t=>{const{disabled:e,variant:r,color:o,size:a}=t,n={root:["root",e&&"disabled",r&&`variant${ce(r)}`,o&&`color${ce(o)}`,a&&`size${ce(a)}`],textarea:["textarea"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Be(n,Ic,{})},kc=H("div",{name:"JoyTextarea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,o,a,n,l;const p=(r=t.variants[`${e.variant}`])==null?void 0:r[e.color];return[y({"--Textarea-radius":t.vars.radius.sm,"--Textarea-gap":"0.5rem","--Textarea-placeholderColor":"inherit","--Textarea-placeholderOpacity":.5,"--Textarea-focusedThickness":t.vars.focus.thickness},e.color==="context"?{"--Textarea-focusedHighlight":t.vars.palette.focusVisible}:{"--Textarea-focusedHighlight":(o=t.vars.palette[e.color==="neutral"?"primary":e.color])==null?void 0:o[500]},e.size==="sm"&&{"--Textarea-minHeight":"2rem","--Textarea-paddingBlock":"calc(0.5rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.5rem","--Textarea-decorator-childHeight":"min(1.5rem, var(--Textarea-minHeight))","--Icon-fontSize":"1.25rem"},e.size==="md"&&{"--Textarea-minHeight":"2.5rem","--Textarea-paddingBlock":"calc(0.5rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.75rem","--Textarea-decorator-childHeight":"min(2rem, var(--Textarea-minHeight))","--Icon-fontSize":"1.5rem"},e.size==="lg"&&{"--Textarea-minHeight":"3rem","--Textarea-paddingBlock":"calc(0.75rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"1rem","--Textarea-gap":"0.75rem","--Textarea-decorator-childHeight":"min(2.375rem, var(--Textarea-minHeight))","--Icon-fontSize":"1.75rem"},{"--_Textarea-paddingBlock":"max((var(--Textarea-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Textarea-decorator-childHeight)) / 2, 0px)","--Textarea-decorator-childRadius":"max(var(--Textarea-radius) - var(--variant-borderWidth, 0px) - var(--_Textarea-paddingBlock), min(var(--_Textarea-paddingBlock) + var(--variant-borderWidth, 0px), var(--Textarea-radius) / 2))","--Button-minHeight":"var(--Textarea-decorator-childHeight)","--IconButton-size":"var(--Textarea-decorator-childHeight)","--Button-radius":"var(--Textarea-decorator-childRadius)","--IconButton-radius":"var(--Textarea-decorator-childRadius)",boxSizing:"border-box",minWidth:0,minHeight:"var(--Textarea-minHeight)",cursor:"text",position:"relative",display:"flex",flexDirection:"column",paddingInlineStart:"var(--Textarea-paddingInline)",paddingBlock:"var(--Textarea-paddingBlock)",borderRadius:"var(--Textarea-radius)",fontFamily:t.vars.fontFamily.body,fontSize:t.vars.fontSize.md,lineHeight:t.vars.lineHeight.md},e.size==="sm"&&{fontSize:t.vars.fontSize.sm,lineHeight:t.vars.lineHeight.sm},{transition:"border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)"}}),y({},p,{backgroundColor:(a=p==null?void 0:p.backgroundColor)!=null?a:t.vars.palette.background.surface,[`&:hover:not(.${Ss.focused})`]:y({},(n=t.variants[`${e.variant}Hover`])==null?void 0:n[e.color],{backgroundColor:null,cursor:"text"}),[`&.${Ss.disabled}`]:(l=t.variants[`${e.variant}Disabled`])==null?void 0:l[e.color],[`&.${Ss.focused}`]:{"&:before":{boxShadow:"inset 0 0 0 var(--Textarea-focusedThickness) var(--Textarea-focusedHighlight)"}}})]}),$c=H(qa,{name:"JoyTextarea",slot:"Textarea",overridesResolver:(t,e)=>e.textarea})({resize:"none",border:"none",minWidth:0,outline:0,padding:0,paddingInlineEnd:"var(--Textarea-paddingInline)",flex:"auto",alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit","&:-webkit-autofill":{WebkitBackgroundClip:"text",WebkitTextFillColor:"currentColor"},"&::-webkit-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"}}),Rc=H("div",{name:"JoyTextarea",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})(({theme:t})=>({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockEnd:"var(--Textarea-gap)",color:t.vars.palette.text.tertiary,cursor:"initial"})),Dc=H("div",{name:"JoyTextarea",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})(({theme:t})=>({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockStart:"var(--Textarea-gap)",color:t.vars.palette.text.tertiary,cursor:"initial"})),Pc=g.forwardRef(function(e,r){var o,a,n,l,p,i,u;const c=_e({props:e,name:"JoyTextarea"}),m=qo(c,Ss),{propsToForward:d,rootStateClasses:h,inputStateClasses:f,getRootProps:v,getInputProps:x,formControl:$,focused:C,error:k=!1,disabled:b=!1,size:w="md",color:_="neutral",variant:z="outlined",startDecorator:D,endDecorator:F,minRows:L,maxRows:N}=m,S=ve(m,Ec),O=(o=(a=e.disabled)!=null?a:$==null?void 0:$.disabled)!=null?o:b,P=(n=(l=e.error)!=null?l:$==null?void 0:$.error)!=null?n:k,E=(p=(i=e.size)!=null?i:$==null?void 0:$.size)!=null?p:w,{getColor:I}=Fe(z),A=I(e.color,P?"danger":(u=$==null?void 0:$.color)!=null?u:_),B=y({},c,{color:A,disabled:O,error:P,focused:C,size:E,variant:z}),M=Tc(B),[U,re]=X("root",{ref:r,className:[M.root,h],elementType:kc,externalForwardedProps:S,getSlotProps:v,ownerState:B}),[te,ie]=X("textarea",{additionalProps:{id:$==null?void 0:$.htmlFor,"aria-describedby":$==null?void 0:$["aria-describedby"]},className:[M.textarea,f],elementType:$c,internalForwardedProps:{minRows:L,maxRows:N},externalForwardedProps:S,getSlotProps:G=>x(y({},G,d)),ownerState:B}),[ge,T]=X("startDecorator",{className:M.startDecorator,elementType:Rc,externalForwardedProps:S,ownerState:B}),[K,q]=X("endDecorator",{className:M.endDecorator,elementType:Dc,externalForwardedProps:S,ownerState:B});return s.jsxs(U,y({},re,{children:[D&&s.jsx(ge,y({},T,{children:D})),s.jsx(te,y({},ie)),F&&s.jsx(K,y({},q,{children:F}))]}))}),ro=Pc;function Lc(t){return Me("JoyTooltip",t)}$e("JoyTooltip",["root","tooltipArrow","arrow","touch","placementLeft","placementRight","placementTop","placementBottom","colorPrimary","colorDanger","colorInfo","colorNeutral","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);const Ac=["slots","slotProps"],Oc=["children","className","arrow","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","disablePortal","direction","keepMounted","modifiers","placement","title","color","variant","size"],Mc=t=>ve(t,Ac),zc=t=>{const{arrow:e,variant:r,color:o,size:a,placement:n,touch:l}=t,p={root:["root",e&&"tooltipArrow",l&&"touch",a&&`size${ce(a)}`,o&&`color${ce(o)}`,r&&`variant${ce(r)}`,`tooltipPlacement${ce(n.split("-")[0])}`],arrow:["arrow"]};return Be(p,Lc,{})},_c=H("div",{name:"JoyTooltip",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>{var r,o,a;const n=(r=e.variants[t.variant])==null?void 0:r[t.color];return y({},t.size==="sm"&&{"--Icon-fontSize":"1rem","--Tooltip-arrow-size":"8px",padding:e.spacing(.5,.625),fontSize:e.vars.fontSize.xs},t.size==="md"&&{"--Icon-fontSize":"1.125rem","--Tooltip-arrow-size":"10px",padding:e.spacing(.625,.75),fontSize:e.vars.fontSize.sm},t.size==="lg"&&{"--Icon-fontSize":"1.25rem","--Tooltip-arrow-size":"12px",padding:e.spacing(.75,1),fontSize:e.vars.fontSize.md},{zIndex:1500,pointerEvents:"none",borderRadius:e.vars.radius.xs,boxShadow:e.shadow.sm,fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.md,lineHeight:e.vars.lineHeight.sm,wordWrap:"break-word",position:"relative"},!t.disableInteractive&&{pointerEvents:"auto"},!t.open&&{pointerEvents:"none"},n,!n.backgroundColor&&{backgroundColor:e.vars.palette.background.surface},{"&::before":{content:'""',display:"block",position:"absolute",width:(o=t.placement)!=null&&o.match(/(top|bottom)/)?"100%":"calc(10px + var(--variant-borderWidth, 0px))",height:(a=t.placement)!=null&&a.match(/(top|bottom)/)?"calc(10px + var(--variant-borderWidth, 0px))":"100%"},'&[data-popper-placement*="bottom"]::before':{top:0,left:0,transform:"translateY(-100%)"},'&[data-popper-placement*="left"]::before':{top:0,right:0,transform:"translateX(100%)"},'&[data-popper-placement*="right"]::before':{top:0,left:0,transform:"translateX(-100%)"},'&[data-popper-placement*="top"]::before':{bottom:0,left:0,transform:"translateY(100%)"}})}),Fc=H("span",{name:"JoyTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t,ownerState:e})=>{var r,o,a;const n=(r=t.variants[e.variant])==null?void 0:r[e.color];return{"--unstable_Tooltip-arrow-rotation":0,width:"var(--Tooltip-arrow-size)",height:"var(--Tooltip-arrow-size)",boxSizing:"border-box","&:before":{content:'""',display:"block",position:"absolute",width:0,height:0,border:"calc(var(--Tooltip-arrow-size) / 2) solid",borderLeftColor:"transparent",borderBottomColor:"transparent",borderTopColor:(o=n==null?void 0:n.backgroundColor)!=null?o:t.vars.palette.background.surface,borderRightColor:(a=n==null?void 0:n.backgroundColor)!=null?a:t.vars.palette.background.surface,borderRadius:"0px 2px 0px 0px",boxShadow:`var(--variant-borderWidth, 0px) calc(-1 * var(--variant-borderWidth, 0px)) 0px 0px ${n.borderColor}`,transformOrigin:"center center",transform:"rotate(calc(-45deg + 90deg * var(--unstable_Tooltip-arrow-rotation)))"},'[data-popper-placement*="bottom"] &':{top:"calc(0.5px + var(--Tooltip-arrow-size) * -1 / 2)"},'[data-popper-placement*="top"] &':{"--unstable_Tooltip-arrow-rotation":2,bottom:"calc(0.5px + var(--Tooltip-arrow-size) * -1 / 2)"},'[data-popper-placement*="left"] &':{"--unstable_Tooltip-arrow-rotation":1,right:"calc(0.5px + var(--Tooltip-arrow-size) * -1 / 2)"},'[data-popper-placement*="right"] &':{"--unstable_Tooltip-arrow-rotation":3,left:"calc(0.5px + var(--Tooltip-arrow-size) * -1 / 2)"}}});let fs=!1,Ut=null;function oo(t,e){return r=>{e&&e(r),t(r)}}function no(t,e){return r=>{e&&e(r),t(r)}}const Bc=g.forwardRef(function(e,r){const o=_e({props:e,name:"JoyTooltip"}),{children:a,className:n,arrow:l=!1,describeChild:p=!1,disableFocusListener:i=!1,disableHoverListener:u=!1,disableInteractive:c=!1,disableTouchListener:m=!1,enterDelay:d=100,enterNextDelay:h=0,enterTouchDelay:f=700,followCursor:v=!1,id:x,leaveDelay:$=0,leaveTouchDelay:C=1500,onClose:k,onOpen:b,open:w,disablePortal:_,direction:z,keepMounted:D,placement:F="bottom",title:L,color:N="neutral",variant:S="solid",size:O="md"}=o,P=ve(o,Oc),{getColor:E}=Fe(S),I=_?E(e.color,N):N,[A,B]=g.useState(),[M,U]=g.useState(null),re=g.useRef(!1),te=c||v,ie=g.useRef(),ge=g.useRef(),T=g.useRef(),K=g.useRef(),[q,G]=Qt({controlled:w,default:!1,name:"Tooltip",state:"open"});let se=q;const Z=ts(x),Q=g.useRef(),pe=g.useCallback(()=>{Q.current!==void 0&&(document.body.style.WebkitUserSelect=Q.current,Q.current=void 0),clearTimeout(K.current)},[]);g.useEffect(()=>()=>{clearTimeout(ie.current),clearTimeout(ge.current),clearTimeout(T.current),pe()},[pe]);const ae=le=>{Ut&&clearTimeout(Ut),fs=!0,G(!0),b&&!se&&b(le)},he=Gt(le=>{Ut&&clearTimeout(Ut),Ut=setTimeout(()=>{fs=!1},800+$),G(!1),k&&se&&k(le),clearTimeout(ie.current),ie.current=setTimeout(()=>{re.current=!1},150)}),W=le=>{re.current&&le.type!=="touchstart"||(A&&A.removeAttribute("title"),clearTimeout(ge.current),clearTimeout(T.current),d||fs&&h?ge.current=setTimeout(()=>{ae(le)},fs?h:d):ae(le))},Ve=le=>{clearTimeout(ge.current),clearTimeout(T.current),T.current=setTimeout(()=>{he(le)},$)},{isFocusVisibleRef:oe,onBlur:Pe,onFocus:Ze,ref:gt}=Vo(),[,Je]=g.useState(!1),et=le=>{Pe(le),oe.current===!1&&(Je(!1),Ve(le))},Le=le=>{A||B(le.currentTarget),Ze(le),oe.current===!0&&(Je(!0),W(le))},ot=le=>{re.current=!0;const Ae=a.props;Ae.onTouchStart&&Ae.onTouchStart(le)},nt=W,Ct=Ve,at=le=>{ot(le),clearTimeout(T.current),clearTimeout(ie.current),pe(),Q.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",K.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Q.current,W(le)},f)},je=le=>{a.props.onTouchEnd&&a.props.onTouchEnd(le),pe(),clearTimeout(T.current),T.current=setTimeout(()=>{he(le)},C)};g.useEffect(()=>{if(!se)return;function le(Ae){(Ae.key==="Escape"||Ae.key==="Esc")&&he(Ae)}return document.addEventListener("keydown",le),()=>{document.removeEventListener("keydown",le)}},[he,se]);const Ne=pt(B,r),tt=pt(gt,Ne),vt=pt(a.ref,tt);typeof L!="number"&&!L&&(se=!1);const it=g.useRef({x:0,y:0}),ke=g.useRef(null),De=le=>{const Ae=a.props;Ae.onMouseMove&&Ae.onMouseMove(le),it.current={x:le.clientX,y:le.clientY},ke.current&&ke.current.update()},He={},xe=typeof L=="string";p?(He.title=!se&&xe&&!u?L:null,He["aria-describedby"]=se?Z:null):(He["aria-label"]=xe?L:null,He["aria-labelledby"]=se&&!xe?Z:null);const ue=y({},He,Mc(P),a.props,{className:_t(n,a.props.className),onTouchStart:ot,ref:vt},v?{onMouseMove:De}:{}),be={};m||(ue.onTouchStart=at,ue.onTouchEnd=je),u||(ue.onMouseOver=oo(nt,ue.onMouseOver),ue.onMouseLeave=oo(Ct,ue.onMouseLeave),te||(be.onMouseOver=nt,be.onMouseLeave=Ct)),i||(ue.onFocus=no(Le,ue.onFocus),ue.onBlur=no(et,ue.onBlur),te||(be.onFocus=Le,be.onBlur=et));const Ue=y({},o,{arrow:l,disableInteractive:te,placement:F,touch:re.current,color:I,variant:S,size:O}),lt=zc(Ue),[ct,Nt]=X("root",{additionalProps:y({id:Z,popperRef:ke,placement:F,anchorEl:v?{getBoundingClientRect:()=>({top:it.current.y,left:it.current.x,right:it.current.x,bottom:it.current.y,width:0,height:0})}:A,open:A?se:!1,disablePortal:_,keepMounted:D,direction:z},be),ref:null,className:lt.root,elementType:Ho,externalForwardedProps:P,ownerState:Ue,internalForwardedProps:{component:_c}}),[Tt,kt]=X("arrow",{ref:U,className:lt.arrow,elementType:Fc,externalForwardedProps:P,ownerState:Ue}),Ht=g.useMemo(()=>[{name:"arrow",enabled:Boolean(M),options:{element:M,padding:6}},{name:"offset",options:{offset:[0,10]}},...Nt.modifiers||[]],[M,Nt.modifiers]),$t=s.jsxs(ct,y({},Nt,{modifiers:Ht,children:[L,l?s.jsx(Tt,y({},kt)):null]}));return s.jsxs(g.Fragment,{children:[g.isValidElement(a)&&g.cloneElement(a,ue),_?$t:s.jsx(Uo.Provider,{value:void 0,children:$t})]})}),Vc=Bc,Rr=()=>({state:$s(e=>e.editor),getState:()=>Ce.getState().editor,setEditMemoWithId:e=>{Ce.dispatch(Vr(e))},clearEditMemo:()=>{Ce.dispatch(Vr())},setMemoVisibility:e=>{Ce.dispatch($n(e))},setResourceList:e=>{Ce.dispatch(Hr(e))},clearResourceList:()=>{Ce.dispatch(Hr([]))}});function tr(t,e){return ma(t,e)}var Hc="[object Number]";function Uc(t){return typeof t=="number"||ha(t)&&pa(t)==Hc}function Wc(t){return t===void 0}function nn(t){return fa(t).toLowerCase()}function Jc(t){return t&&t.length?ga(t):[]}const rs=()=>{const t=$s(r=>r.tag),e=Te();return{state:t,getState:()=>Ce.getState().tag,fetchTags:async()=>{const r={};e.isVisitorMode()&&(r.creatorId=e.getUserIdFromPath());const{data:o}=(await Rn(r)).data;Ce.dispatch(Dn(o))},upsertTag:async r=>{await Pn(r),Ce.dispatch(Ln(r))},deleteTag:async r=>{await An(r),Ce.dispatch(On(r))}}},Gc=32<<20,gs=t=>({...t,createdTs:t.createdTs*1e3,updatedTs:t.updatedTs*1e3}),os=()=>{const t=$s(e=>e.resource);return{state:t,getState:()=>Ce.getState().resource,async fetchResourceList(){const{data:e}=(await Mn()).data,r=e.map(o=>gs(o));return Ce.dispatch(Qs(r)),r},async createResource(e){const{data:r}=(await zn(e)).data,o=gs(r),a=t.resources;return Ce.dispatch(Qs([o,...a])),o},async createResourceWithBlob(e){const{name:r,size:o}=e;if(o>Gc)return Promise.reject("overload max size: 32MB");const a=new FormData;a.append("file",e,r);const{data:n}=(await _n(a)).data,l=gs(n),p=t.resources;return Ce.dispatch(Qs([l,...p])),l},async deleteResourceById(e){await Fn(e),Ce.dispatch(Bn(e))},async patchResource(e){const{data:r}=(await Vn(e)).data,o=gs(r);return Ce.dispatch(Hn(o)),o}}},sr=t=>({...t,createdTs:t.createdTs*1e3,updatedTs:t.updatedTs*1e3}),Ft=()=>{const t=$s(e=>e.shortcut);return{state:t,getState:()=>Ce.getState().shortcut,getMyAllShortcuts:async()=>{const{data:e}=(await Un()).data,r=e.map(o=>sr(o));Ce.dispatch(Wn(r))},getShortcutById:e=>{for(const r of t.shortcuts)if(r.id===e)return r;return null},createShortcut:async e=>{const{data:r}=(await Jn(e)).data,o=sr(r);Ce.dispatch(Gn(o))},patchShortcut:async e=>{const{data:r}=(await Xn(e)).data,o=sr(r);Ce.dispatch(Yn(o))},deleteShortcutById:async e=>{await qn(e),Ce.dispatch(Qn(e))}}},rr=new Map,ao=async(t,e=!0)=>{if(e&&rr.has(t))return Promise.resolve(rr.get(t));const o=await(await fetch(t)).blob();return new Promise(a=>{const n=new FileReader;n.onloadend=()=>{const l=n.result;rr.set(t,l),a(l)},n.readAsDataURL(o)})},an=async(t,e)=>{if(!t||!e)return;if(t.tagName==="IMG"){const o=t.getAttribute("src")??"";let a=!1;try{e.src=await ao(o)}catch{a=!0}if(a)try{e.src=await ao(`/o/get/image?url=${o}`)}catch{}}const r=window.getComputedStyle(t);for(const o of r)e.style.setProperty(o,r.getPropertyValue(o),r.getPropertyPriority(o));for(let o=0;o<e.childElementCount;o++)await an(t.children[o],e.children[o])},Xc=async t=>{const e=document.createElement(t.tagName);return e.innerHTML=t.innerHTML,await an(t,e),e},Yc=(t,e)=>new Promise((r,o)=>{t.loading="eager",t.onload=()=>{setTimeout(()=>{r()},200)},t.onerror=()=>{o("Image load failed")},t.src=e}),ln=t=>{const{width:e,height:r}=window.getComputedStyle(t);return{width:parseInt(e.replace("px","")),height:parseInt(r.replace("px",""))}},qc=t=>{const e=new XMLSerializer().serializeToString(t);return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`},Qc=(t,e,r)=>{const o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg");a.setAttribute("width",`${t}`),a.setAttribute("height",`${e}`),a.setAttribute("viewBox",`0 0 ${t} ${e}`);const n=document.createElementNS(o,"foreignObject");return n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("externalResourcesRequired","true"),n.appendChild(r),a.appendChild(n),a},Kc=async(t,e)=>{const{width:r,height:o}=ln(t),a=await Xc(t);e!=null&&e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor);const n=Qc(r,o,a);return qc(n)},Zc=async(t,e)=>{const r=(e==null?void 0:e.pixelRatio)||1,{width:o,height:a}=ln(t),n=document.createElement("canvas"),l=n.getContext("2d");if(!l)return Promise.reject("Canvas error");n.width=o*r,n.height=a*r,n.style.width=`${o}`,n.style.height=`${a}`,e!=null&&e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,n.width,n.height));const p=await Kc(t,e),i=new Image;return i.style.zIndex="-1",i.style.position="fixed",i.style.top="0",document.body.append(i),await Yc(i,p),l.drawImage(i,0,0,n.width,n.height),i.remove(),n},cn=async(t,e)=>(await Zc(t,e)).toDataURL(),Bt=(t=!1)=>{const[e,r]=g.useState(t),o=g.useCallback(a=>{r(a!==void 0?a:n=>!n)},[]);return[e,o]};const ed=t=>{const{className:e,datestamp:r,handleDateStampChange:o}=t,[a,n]=g.useState(or(r));g.useEffect(()=>{n(or(r))},[r]);const l=new Date(a),p=l.getDay()===0?7:l.getDay(),i=[];for(let d=1;d<p;d++)i.push({date:0,datestamp:l.getTime()-ht*(7-d)});const u=td(a);for(let d=1;d<=u;d++)i.push({date:d,datestamp:l.getTime()+ht*(d-1)});const c=d=>{o(d)},m=d=>{const h=l.getFullYear(),f=l.getMonth()+1;let v=0;f===1&&d===-1?v=new Date(`${h-1}/12/1`).getTime():f===12&&d===1?v=new Date(`${h+1}/1/1`).getTime():v=new Date(`${h}/${f+d}/1`).getTime(),n(or(v))};return s.jsxs("div",{className:`date-picker-wrapper ${e}`,children:[s.jsxs("div",{className:"date-picker-header",children:[s.jsx("span",{className:"btn-text",onClick:()=>m(-1),children:s.jsx(V.ChevronLeft,{className:"icon-img"})}),s.jsxs("span",{className:"normal-text",children:[l.getFullYear(),"/",l.getMonth()+1]}),s.jsx("span",{className:"btn-text",onClick:()=>m(1),children:s.jsx(V.ChevronRight,{className:"icon-img"})})]}),s.jsxs("div",{className:"date-picker-day-container",children:[s.jsxs("div",{className:"date-picker-day-header",children:[s.jsx("span",{className:"day-item",children:"Mon"}),s.jsx("span",{className:"day-item",children:"Tue"}),s.jsx("span",{className:"day-item",children:"Web"}),s.jsx("span",{className:"day-item",children:"Thu"}),s.jsx("span",{className:"day-item",children:"Fri"}),s.jsx("span",{className:"day-item",children:"Sat"}),s.jsx("span",{className:"day-item",children:"Sun"})]}),i.map(d=>d.date===0?s.jsx("span",{className:"day-item null",children:""},d.datestamp):s.jsx("span",{className:`day-item ${d.datestamp===r?"current":""}`,onClick:()=>c(d.datestamp),children:d.date},d.datestamp))]})]})};function td(t){const e=new Date(t),r=new Date(`${e.getFullYear()}/${e.getMonth()+1}/1`);return((r.getMonth()===11?new Date(`${r.getFullYear()+1}/1/1`):new Date(`${r.getFullYear()}/${r.getMonth()+2}/1`)).getTime()-r.getTime())/ht}function or(t){const e=new Date(t);return new Date(`${e.getFullYear()}/${e.getMonth()+1}/1`).getTime()}const sd=t=>{const{memo:e}=t,r=Kn(e.displayTs),o={enableExpand:!1};return s.jsxs("div",{className:"daily-memo-wrapper",children:[s.jsx("div",{className:"time-wrapper",children:s.jsx("span",{className:"normal-text",children:r})}),s.jsxs("div",{className:"memo-container",children:[s.jsx(Ds,{content:e.content,displayConfig:o}),s.jsx(Ps,{resourceList:e.resourceList})]}),s.jsx("div",{className:"split-line"})]})};const rd=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],od=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],nd=t=>{const{t:e}=de(),o=qe().state.memos,[a,n]=g.useState(gr(vr(t.currentDateStamp))),[l,p]=Bt(!1),i=g.useRef(null),u=new Date(a),c=o.filter(h=>h.rowStatus==="NORMAL"&&Oe(h.displayTs)>=a&&Oe(h.displayTs)<a+ht).sort((h,f)=>Oe(h.displayTs)-Oe(f.displayTs)),m=()=>{i.current&&(p(!1),cn(i.current,{pixelRatio:window.devicePixelRatio*2}).then(h=>{Ls(h)}).catch(()=>{}))},d=h=>{n(h),p(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsxs("p",{className:"title-text",onClick:()=>p(),children:[s.jsx("span",{className:"icon-text",children:""})," ",e("sidebar.daily-review")]}),s.jsxs("div",{className:"btns-container",children:[s.jsx("button",{className:"btn-text",onClick:()=>n(a-ht),children:s.jsx(V.ChevronLeft,{className:"icon-img"})}),s.jsx("button",{className:"btn-text",onClick:()=>n(a+ht),children:s.jsx(V.ChevronRight,{className:"icon-img"})}),s.jsx("button",{className:"btn-text share",onClick:m,children:s.jsx(V.Share2,{size:16})}),s.jsx("span",{className:"split-line",children:"/"}),s.jsx("button",{className:"btn-text",onClick:()=>t.destroy(),children:s.jsx(V.X,{className:"icon-img"})})]}),s.jsx(ed,{className:`date-picker ${l?"":"!hidden"}`,datestamp:a,handleDateStampChange:d})]}),s.jsxs("div",{className:"dialog-content-container",ref:i,children:[s.jsxs("div",{className:"date-card-container",children:[s.jsx("div",{className:"year-text",children:u.getFullYear()}),s.jsxs("div",{className:"date-container",children:[s.jsx("div",{className:"month-text",children:rd[u.getMonth()]}),s.jsx("div",{className:"date-text",children:u.getDate()}),s.jsx("div",{className:"day-text",children:od[u.getDay()]})]})]}),c.length===0?s.jsx("div",{className:"tip-container",children:s.jsx("p",{className:"tip-text",children:e("daily-review.oops-nothing")})}):s.jsx("div",{className:"dailymemos-wrapper",children:c.map(h=>s.jsx(sd,{memo:h},`${h.id}-${h.updatedTs}`))})]})]})};function ad(t=Date.now()){Ie({className:"daily-review-dialog",dialogName:"daily-review-dialog"},nd,{currentDateStamp:t})}const Dr=t=>{const{trigger:e,actions:r,className:o,actionsClassName:a,positionClassName:n}=t,[l,p]=Bt(!1),i=g.useRef(null);return g.useEffect(()=>{if(l){const u=c=>{var m;(m=i.current)!=null&&m.contains(c.target)||p(!1)};window.addEventListener("click",u,{capture:!0,once:!0})}},[l]),s.jsxs("div",{ref:i,className:`relative flex flex-col justify-start items-start select-none ${o??""}`,onClick:()=>p(),children:[e||s.jsx("button",{className:"flex flex-row justify-center items-center border dark:border-zinc-700 p-1 rounded shadow text-gray-600 dark:text-gray-200 cursor-pointer hover:opacity-80",children:s.jsx(V.MoreHorizontal,{className:"w-4 h-auto"})}),s.jsx("div",{className:`w-auto absolute flex flex-col justify-start items-start bg-white dark:bg-zinc-700 z-10 p-1 rounded-md shadow ${a??""} ${l?"":"!hidden"} ${n??"top-full right-0 mt-1"}`,children:r})]})};const nr={title:"",content:"",style:"info",closeBtnText:"common.close",confirmBtnText:"common.confirm",onClose:()=>null,onConfirm:()=>null},id=t=>{const{t:e}=de(),{title:r,content:o,destroy:a,closeBtnText:n,confirmBtnText:l,onClose:p,onConfirm:i,style:u}={...nr,closeBtnText:e(nr.closeBtnText),confirmBtnText:e(nr.confirmBtnText),...t},c=()=>{p(),a()},m=async()=>{i(),a()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:r}),s.jsx("button",{className:"btn close-btn",onClick:c,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsx("p",{className:"content-text",children:o}),s.jsxs("div",{className:"btns-container",children:[s.jsx("span",{className:"btn cancel-btn",onClick:c,children:n}),s.jsx("span",{className:`btn confirm-btn ${u}`,onClick:m,children:l})]})]})]})},es=t=>{Ie({className:`common-dialog ${(t==null?void 0:t.className)??""}`,dialogName:`common-dialog ${(t==null?void 0:t.className)??""}`},id,t)},ld=["image/*","text/*","audio/*","video/*","application/*"],cd=t=>{const{destroy:e,onCancel:r,onConfirm:o}=t,a=os(),[n,l]=g.useState({selectedMode:"local-file",uploadingFlag:!1}),[p,i]=g.useState({filename:"",externalLink:"",type:""}),[u,c]=g.useState([]),m=g.useRef(null),d=()=>{r&&r(),e()},h=b=>{l(w=>({...w,selectedMode:b}))},f=b=>{const w=b.target.value;i(_=>({..._,externalLink:w}))},v=b=>{const w=b.target.value;i(_=>({..._,filename:w}))},x=b=>{i(w=>({...w,type:b}))},$=async()=>{if(!m.current||!m.current.files)return;const b=[];for(const w of m.current.files)b.push(w);c(b)},C=()=>{if(n.selectedMode==="local-file"){if(!m.current||!m.current.files||m.current.files.length===0)return!1}else if(n.selectedMode==="external-link"&&(p.filename===""||p.externalLink===""||p.type===""))return!1;return!0},k=async()=>{if(n.uploadingFlag)return;l(w=>({...w,uploadingFlag:!0}));const b=[];try{if(n.selectedMode==="local-file"){if(!m.current||!m.current.files)return;for(const w of m.current.files){const _=await a.createResourceWithBlob(w);b.push(_)}}else{const w=await a.createResource(p);b.push(w)}}catch(w){console.error(w),Y.error(w.response.data.message)}o&&o(b),e()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:"Create Resource"}),s.jsx("button",{className:"btn close-btn",onClick:d,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container !w-80",children:[s.jsx(ps,{className:"!mb-1",level:"body2",children:"Upload method"}),s.jsxs(Is,{className:"w-full mb-2",onChange:(b,w)=>h(w),value:n.selectedMode,startDecorator:s.jsx(V.File,{className:"w-4 h-auto"}),children:[s.jsx(Zt,{value:"local-file",children:"Local file"}),s.jsx(Zt,{value:"external-link",children:"External link"})]}),n.selectedMode==="local-file"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full relative bg-blue-50 rounded-md flex flex-row justify-center items-center py-8",children:[s.jsx("label",{htmlFor:"files",className:"p-2 px-4 text-sm text-white cursor-pointer bg-blue-500 block rounded hover:opacity-80",children:"Choose a file..."}),s.jsx("input",{className:"absolute inset-0 hidden",ref:m,onChange:$,type:"file",id:"files",multiple:!0,accept:"*"})]}),s.jsx(Wo,{size:"sm",children:u.map(b=>s.jsx(Ms,{children:b.name},b.name))})]}),n.selectedMode==="external-link"&&s.jsxs(s.Fragment,{children:[s.jsx(ps,{className:"!mb-1",level:"body2",children:"Link"}),s.jsx(br,{className:"mb-2",placeholder:"File link",value:p.externalLink,onChange:f,fullWidth:!0}),s.jsx(ps,{className:"!mb-1",level:"body2",children:"File name"}),s.jsx(br,{className:"mb-2",placeholder:"File name",value:p.filename,onChange:v,fullWidth:!0}),s.jsx(ps,{className:"!mb-1",level:"body2",children:"Type"}),s.jsx(yl,{className:"w-full",size:"sm",placeholder:"File type",freeSolo:!0,options:ld,onChange:(b,w)=>x(w||"")})]}),s.jsxs("div",{className:"mt-2 w-full flex flex-row justify-end items-center space-x-1",children:[s.jsx(yt,{variant:"plain",color:"neutral",onClick:d,children:"Cancel"}),s.jsx(yt,{onClick:k,loading:n.uploadingFlag,disabled:!C(),children:"Create"})]})]})]})};function dn(t){Ie({dialogName:"create-resource-dialog"},cd,t)}const dd=t=>{if(t.length===0||t.length>=128)return!1;const e=/^([+\-.]).*/,r=/[/@#$%^&*()[\]]/;return!(e.test(t)||r.test(t))},ud=t=>{const{destroy:e,resourceId:r,resourceFilename:o}=t,{t:a}=de(),n=os(),[l,p]=g.useState(o),i=m=>{const d=m.target.value;p(d)},u=()=>{e()},c=async()=>{if(l===o){u();return}if(!dd(l)){Y.error(a("message.invalid-resource-filename"));return}try{await n.patchResource({id:r,filename:l}),Y.info(a("message.resource-filename-updated")),u()}catch(m){console.error(m),Y.error(m.response.data.message)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:a("message.change-resource-filename")}),s.jsx("button",{className:"btn close-btn",onClick:u,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsx("input",{className:"input-text",type:"text",value:l,onChange:i}),s.jsxs("div",{className:"btns-container",children:[s.jsx("button",{className:"btn-text",onClick:u,children:a("common.cancel")}),s.jsx("button",{className:"btn-primary",onClick:c,children:a("common.save")})]})]})]})};function md(t,e){Ie({className:"change-resource-filename-dialog",dialogName:"change-resource-filename-dialog"},ud,{resourceId:t,resourceFilename:e})}const hd=t=>{const{destroy:e}=t,{t:r}=de(),o=zt(),a=os(),n=a.state.resources;g.useEffect(()=>{a.fetchResourceList().catch(m=>{console.error(m),Y.error(m.response.data.message)}).finally(()=>{o.setFinish()})},[]);const l=m=>{const d=qt(m);m.type.startsWith("image")?Ls(n.filter(h=>h.type.startsWith("image")).map(h=>qt(h)),n.findIndex(h=>h.id===m.id)):window.open(d)},p=m=>{md(m.id,m.filename)},i=m=>{const d=qt(m);As(d),Y.success(r("message.succeed-copy-resource-link"))},u=()=>{let m=r("resources.warning-text-unused");const d=n.filter(h=>h.linkedMemoAmount===0?(m=m+`
- ${h.filename}`,!0):!1);if(d.length===0){Y.success(r("resources.no-unused-resources"));return}es({title:r("resources.delete-resource"),content:m,style:"warning",dialogName:"delete-unused-resources",onConfirm:async()=>{for(const h of d)await a.deleteResourceById(h.id)}})},c=m=>{let d=r("resources.warning-text");m.linkedMemoAmount>0&&(d=d+`
${r("resources.linked-amount")}: ${m.linkedMemoAmount}`),es({title:r("resources.delete-resource"),content:d,style:"warning",dialogName:"delete-resource-dialog",onConfirm:async()=>{await a.deleteResourceById(m.id)}})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:r("sidebar.resources")}),s.jsx("button",{className:"btn close-btn",onClick:e,children:s.jsx(V.X,{className:"icon-img"})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsxs("div",{className:"w-full flex flex-row justify-between items-center",children:[s.jsx("div",{className:"flex flex-row justify-start items-center space-x-2",children:s.jsx(yt,{onClick:()=>dn({}),startDecorator:s.jsx(V.Plus,{className:"w-5 h-auto"}),children:r("common.create")})}),s.jsx("div",{className:"flex flex-row justify-end items-center",children:s.jsx(yt,{color:"danger",onClick:u,startDecorator:s.jsx(V.Trash2,{className:"w-4 h-auto"}),children:s.jsx("span",{children:r("resources.clear")})})})]}),o.isLoading?s.jsx("div",{className:"loading-text-container",children:s.jsx("p",{className:"tip-text",children:r("resources.fetching-data")})}):s.jsxs("div",{className:"resource-table-container",children:[s.jsxs("div",{className:"fields-container",children:[s.jsx("span",{className:"field-text id-text",children:"ID"}),s.jsx("span",{className:"field-text name-text",children:r("resources.name")}),s.jsx("span",{})]}),n.length===0?s.jsx("p",{className:"tip-text",children:r("resources.no-resources")}):n.map(m=>s.jsxs("div",{className:"resource-container",children:[s.jsx("span",{className:"field-text id-text",children:m.id}),s.jsx("span",{className:"field-text name-text",onClick:()=>p(m),children:m.filename}),s.jsx("div",{className:"buttons-container",children:s.jsx(Dr,{actionsClassName:"!w-28",actions:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"w-full text-left text-sm leading-6 py-1 px-3 cursor-pointer rounded hover:bg-gray-100 dark:hover:bg-zinc-600",onClick:()=>l(m),children:r("resources.preview")}),s.jsx("button",{className:"w-full text-left text-sm leading-6 py-1 px-3 cursor-pointer rounded hover:bg-gray-100 dark:hover:bg-zinc-600",onClick:()=>i(m),children:r("resources.copy-link")}),s.jsx("button",{className:"w-full text-left text-sm leading-6 py-1 px-3 cursor-pointer rounded text-red-600 hover:bg-gray-100 dark:hover:bg-zinc-600",onClick:()=>c(m),children:r("common.delete")})]})})})]},m.id))]})]})]})};function pd(){Ie({className:"resources-dialog",dialogName:"resources-dialog"},hd,{})}const fd={minLength:4,maxLength:320,noSpace:!0,noChinese:!0},gd=({destroy:t})=>{const{t:e}=de(),r=Te(),[o,a]=g.useState(""),[n,l]=g.useState("");g.useEffect(()=>{},[]);const p=()=>{t()},i=m=>{const d=m.target.value;a(d)},u=m=>{const d=m.target.value;l(d)},c=async()=>{if(o===""||n===""){Y.error(e("message.fill-all"));return}if(o!==n){Y.error(e("message.new-password-not-match")),l("");return}const m=kr(o,fd);if(!m.result){Y.error(`${e("common.password")} ${e(m.reason)}`);return}try{const d=r.getState().user;await r.patchUser({id:d.id,password:o}),Y.info(e("message.password-changed")),p()}catch(d){console.error(d),Y.error(d.response.data.message)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container !w-64",children:[s.jsx("p",{className:"title-text",children:e("setting.account-section.change-password")}),s.jsx("button",{className:"btn close-btn",onClick:p,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsx("p",{className:"text-sm mb-1",children:e("common.new-password")}),s.jsx("input",{type:"password",autoComplete:"new-password",className:"input-text",placeholder:e("common.repeat-new-password"),value:o,onChange:i}),s.jsx("p",{className:"text-sm mb-1 mt-2",children:e("common.repeat-new-password")}),s.jsx("input",{type:"password",autoComplete:"new-password",className:"input-text",placeholder:e("common.repeat-new-password"),value:n,onChange:u}),s.jsxs("div",{className:"mt-4 w-full flex flex-row justify-end items-center space-x-2",children:[s.jsx("span",{className:"btn-text",onClick:p,children:e("common.cancel")}),s.jsx("span",{className:"btn-primary",onClick:c,children:e("common.save")})]})]})]})};function vd(){Ie({className:"change-password-dialog",dialogName:"change-password-dialog"},gd)}const xd={minLength:4,maxLength:320,noSpace:!0,noChinese:!0},bd=({destroy:t})=>{const{t:e}=de(),r=Te(),o=r.state.user,[a,n]=g.useState({username:o.username,nickname:o.nickname,email:o.email});g.useEffect(()=>{},[]);const l=()=>{t()},p=m=>{n(d=>({...d,nickname:m.target.value}))},i=m=>{n(d=>({...d,username:m.target.value}))},u=m=>{n(d=>({...d,email:m.target.value}))},c=async()=>{if(a.username===""){Y.error(e("message.fill-all"));return}const m=kr(a.username,xd);if(!m.result){Y.error(e("common.username")+": "+e(m.reason));return}try{const d=r.getState().user,h={id:d.id};tr(d.nickname,a.nickname)||(h.nickname=a.nickname),tr(d.username,a.username)||(h.username=a.username),tr(d.email,a.email)||(h.email=a.email),await r.patchUser(h),Y.info(e("message.update-succeed")),l()}catch(d){console.error(d),Y.error(d.response.data.error)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container !w-64",children:[s.jsx("p",{className:"title-text",children:e("setting.account-section.update-information")}),s.jsx("button",{className:"btn close-btn",onClick:l,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsxs("p",{className:"text-sm mb-1",children:[e("common.nickname"),s.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"(Display in the banner)"})]}),s.jsx("input",{type:"text",className:"input-text",value:a.nickname,onChange:p}),s.jsxs("p",{className:"text-sm mb-1 mt-2",children:[e("common.username"),s.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"(Using to sign in)"})]}),s.jsx("input",{type:"text",className:"input-text",value:a.username,onChange:i}),s.jsxs("p",{className:"text-sm mb-1 mt-2",children:[e("common.email"),s.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"(Optional)"})]}),s.jsx("input",{type:"text",className:"input-text",value:a.email,onChange:u}),s.jsxs("div",{className:"mt-4 w-full flex flex-row justify-end items-center space-x-2",children:[s.jsx("span",{className:"btn-text",onClick:l,children:e("common.cancel")}),s.jsx("span",{className:"btn-primary",onClick:c,children:e("common.save")})]})]})]})};function yd(){Ie({className:"update-account-dialog",dialogName:"update-account-dialog"},bd)}const Cd=()=>{const{t}=de(),e=Te(),r=e.state.user,o=`${window.location.origin}/api/memo?openId=${r.openId}`,a=async()=>{es({title:"Reset Open API",content:"The existing API will be invalidated and a new one will be generated, are you sure you want to reset?",style:"warning",dialogName:"reset-openid-dialog",onConfirm:async()=>{await e.patchUser({id:r.id,resetOpenId:!0})}})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"section-container account-section-container",children:[s.jsx("p",{className:"title-text",children:t("setting.account-section.title")}),s.jsxs("div",{className:"flex flex-row justify-start items-end",children:[s.jsx("span",{className:"text-2xl leading-10 font-medium",children:r.nickname}),s.jsxs("span",{className:"text-base ml-1 text-gray-500 leading-8",children:["(",r.username,")"]})]}),s.jsx("div",{className:"flex flex-row justify-start items-center text-base text-gray-600",children:r.email}),s.jsxs("div",{className:"w-full flex flex-row justify-start items-center mt-2 space-x-2",children:[s.jsx("button",{className:"btn-normal",onClick:yd,children:t("setting.account-section.update-information")}),s.jsx("button",{className:"btn-normal",onClick:vd,children:t("setting.account-section.change-password")})]})]}),s.jsxs("div",{className:"section-container openapi-section-container",children:[s.jsx("p",{className:"title-text",children:"Open API"}),s.jsx("p",{className:"value-text",children:o}),s.jsxs("span",{className:"btn-danger mt-2",onClick:a,children:[t("common.reset")," API"]}),s.jsx("div",{className:"usage-guide-container",children:s.jsx("pre",{children:`POST ${o}
Content-type: application/json
{
  "content": "Hello #memos from ${window.location.origin}"
}`})})]})]})};const Nd=()=>{const{t}=de(),e=Et(),r=Te(),{appearance:o,locale:a}=e.state,{setting:n,localSetting:l}=r.state.user,p=Ir.map(v=>({value:v.value,text:t(`memo.visibility.${v.text.toLowerCase()}`)})),i=Zn.map(v=>({value:v.value,text:t(`setting.preference-section.${v.value}`)})),u=async v=>{await r.upsertUserSetting("locale",v),e.setLocale(v)},c=async v=>{await r.upsertUserSetting("appearance",v),e.setAppearance(v)},m=async v=>{await r.upsertUserSetting("memoVisibility",v)},d=async v=>{await r.upsertUserSetting("memoDisplayTsOption",v)},h=v=>{r.upsertLocalSetting({...l,enableFoldMemo:v.target.checked})},f=v=>{r.upsertLocalSetting({...l,enablePowerfulEditor:v.target.checked})};return s.jsxs("div",{className:"section-container preferences-section-container",children:[s.jsx("p",{className:"title-text",children:t("common.basic")}),s.jsxs("div",{className:"form-label selector",children:[s.jsx("span",{className:"normal-text",children:t("common.language")}),s.jsx(Jo,{value:a,onChange:u})]}),s.jsxs("div",{className:"form-label selector",children:[s.jsx("span",{className:"normal-text",children:t("setting.preference-section.theme")}),s.jsx(Go,{value:o,onChange:c})]}),s.jsx("p",{className:"title-text",children:t("setting.preference")}),s.jsxs("div",{className:"form-label selector",children:[s.jsx("span",{className:"normal-text",children:t("setting.preference-section.default-memo-visibility")}),s.jsx(Is,{className:"!min-w-[10rem] w-auto text-sm",value:n.memoVisibility,onChange:(v,x)=>{x&&m(x)},children:p.map(v=>s.jsx(Zt,{value:v.value,className:"whitespace-nowrap",children:v.text},v.value))})]}),s.jsxs("label",{className:"form-label selector",children:[s.jsx("span",{className:"normal-text",children:t("setting.preference-section.default-memo-sort-option")}),s.jsx(Is,{className:"!min-w-[10rem] w-auto text-sm",value:n.memoDisplayTsOption,onChange:(v,x)=>{x&&d(x)},children:i.map(v=>s.jsx(Zt,{value:v.value,className:"whitespace-nowrap",children:v.text},v.value))})]}),s.jsxs("label",{className:"form-label selector",children:[s.jsx("span",{className:"normal-text",children:t("setting.preference-section.enable-folding-memo")}),s.jsx(Nr,{className:"ml-2",checked:l.enableFoldMemo,onChange:h})]}),s.jsxs("label",{className:"form-label selector",children:[s.jsx("span",{className:"normal-text",children:t("setting.preference-section.enable-powerful-editor")}),s.jsx(Nr,{className:"ml-2",checked:l.enablePowerfulEditor,onChange:f})]})]})},Sd={minLength:4,maxLength:320,noSpace:!0,noChinese:!0},wd=t=>{const{user:e,destroy:r}=t,{t:o}=de(),a=Te(),[n,l]=g.useState(""),[p,i]=g.useState("");g.useEffect(()=>{},[]);const u=()=>{r()},c=h=>{const f=h.target.value;l(f)},m=h=>{const f=h.target.value;i(f)},d=async()=>{if(n===""||p===""){Y.error(o("message.fill-all"));return}if(n!==p){Y.error(o("message.new-password-not-match")),i("");return}const h=kr(n,Sd);if(!h.result){Y.error(`${o("common.password")} ${o(h.reason)}`);return}try{await a.patchUser({id:e.id,password:n}),Y.info(o("message.password-changed")),u()}catch(f){console.error(f),Y.error(f.response.data.message)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container !w-64",children:[s.jsxs("p",{className:"title-text",children:[o("setting.account-section.change-password")," (",e.username,")"]}),s.jsx("button",{className:"btn close-btn",onClick:u,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsx("p",{className:"text-sm mb-1",children:o("common.new-password")}),s.jsx("input",{type:"password",className:"input-text",placeholder:o("common.repeat-new-password"),value:n,onChange:c}),s.jsx("p",{className:"text-sm mb-1 mt-2",children:o("common.repeat-new-password")}),s.jsx("input",{type:"password",className:"input-text",placeholder:o("common.repeat-new-password"),value:p,onChange:m}),s.jsxs("div",{className:"mt-4 w-full flex flex-row justify-end items-center space-x-2",children:[s.jsx("span",{className:"btn-text",onClick:u,children:o("common.cancel")}),s.jsx("span",{className:"btn-primary",onClick:d,children:o("common.save")})]})]})]})};function Id(t){Ie({className:"change-member-password-dialog",dialogName:"change-member-password-dialog"},wd,{user:t})}const jd=()=>{const{t}=de(),e=Te(),r=e.state.user,[o,a]=g.useState({createUserUsername:"",createUserPassword:""}),[n,l]=g.useState([]);g.useEffect(()=>{p()},[]);const p=async()=>{const{data:v}=(await ea()).data;l(v)},i=v=>{a({...o,createUserUsername:v.target.value})},u=v=>{a({...o,createUserPassword:v.target.value})},c=async()=>{if(o.createUserUsername===""||o.createUserPassword===""){Y.error(t("message.fill-form"));return}const v={username:o.createUserUsername,password:o.createUserPassword,role:"USER"};try{await ta(v)}catch(x){Y.error(x.response.data.message)}await p(),a({createUserUsername:"",createUserPassword:""})},m=v=>{Id(v)},d=v=>{es({title:"Archive Member",content:`Are you sure to archive ${v.username}?`,style:"warning",dialogName:"archive-user-dialog",onConfirm:async()=>{await e.patchUser({id:v.id,rowStatus:"ARCHIVED"}),p()}})},h=async v=>{await e.patchUser({id:v.id,rowStatus:"NORMAL"}),p()},f=v=>{es({title:"Delete Member",content:`Are you sure to delete ${v.username}? THIS ACTION IS IRREVERSIABLE.`,style:"warning",dialogName:"delete-user-dialog",onConfirm:async()=>{await e.deleteUser({id:v.id}),p()}})};return s.jsxs("div",{className:"section-container member-section-container",children:[s.jsx("p",{className:"title-text",children:t("setting.member-section.create-a-member")}),s.jsxs("div",{className:"create-member-container",children:[s.jsxs("div",{className:"input-form-container",children:[s.jsx("span",{className:"field-text",children:t("common.username")}),s.jsx("input",{type:"text",autoComplete:"new-password",placeholder:t("common.username"),value:o.createUserUsername,onChange:i})]}),s.jsxs("div",{className:"input-form-container",children:[s.jsx("span",{className:"field-text",children:t("common.password")}),s.jsx("input",{type:"password",autoComplete:"new-password",placeholder:t("common.password"),value:o.createUserPassword,onChange:u})]}),s.jsx("div",{className:"btns-container",children:s.jsx("button",{className:"btn-normal",onClick:c,children:t("common.create")})})]}),s.jsx("div",{className:"w-full flex flex-row justify-between items-center",children:s.jsx("div",{className:"title-text",children:t("setting.member-list")})}),s.jsxs("div",{className:"member-container field-container",children:[s.jsx("span",{className:"field-text",children:"ID"}),s.jsx("span",{className:"field-text username-field",children:t("common.username")}),s.jsx("span",{})]}),n.map(v=>s.jsxs("div",{className:`member-container ${v.rowStatus==="ARCHIVED"?"archived":""}`,children:[s.jsx("span",{className:"field-text id-text",children:v.id}),s.jsx("span",{className:"field-text username-text",children:v.username}),s.jsx("div",{className:"buttons-container",children:(r==null?void 0:r.id)===v.id?s.jsx("span",{className:"tip-text",children:t("common.yourself")}):s.jsx(Dr,{actions:s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"w-full text-left text-sm whitespace-nowrap leading-6 py-1 px-3 cursor-pointer rounded hover:bg-gray-100 dark:hover:bg-zinc-600",onClick:()=>m(v),children:t("setting.account-section.change-password")}),v.rowStatus==="NORMAL"?s.jsx("button",{className:"w-full text-left text-sm leading-6 py-1 px-3 cursor-pointer rounded hover:bg-gray-100 dark:hover:bg-zinc-600",onClick:()=>d(v),children:t("common.archive")}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"w-full text-left text-sm leading-6 py-1 px-3 cursor-pointer rounded hover:bg-gray-100 dark:hover:bg-zinc-600",onClick:()=>h(v),children:t("common.restore")}),s.jsx("button",{className:"w-full text-left text-sm leading-6 py-1 px-3 cursor-pointer rounded text-red-600 hover:bg-gray-100 dark:hover:bg-zinc-600",onClick:()=>f(v),children:t("common.delete")})]})]})})})]},v.id))]})},Ed=({destroy:t})=>{const{t:e}=de(),r=Et(),[o,a]=g.useState(r.state.systemStatus.customizedProfile),n=()=>{t()},l=h=>{a(f=>({...f,name:h.target.value}))},p=h=>{a(f=>({...f,logoUrl:h.target.value}))},i=h=>{a(f=>({...f,description:h.target.value}))},u=h=>{a(f=>({...f,locale:h}))},c=h=>{a(f=>({...f,appearance:h}))},m=()=>{a({name:"memos",logoUrl:"/logo.png",description:"",locale:"en",appearance:"system",externalUrl:""})},d=async()=>{if(o.name===""){Y.error("Please fill server name");return}try{await Cs({name:"customizedProfile",value:JSON.stringify(o)}),await r.fetchSystemStatus()}catch(h){console.error(h);return}Y.success(e("message.succeed-update-customized-profile")),t()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:e("setting.system-section.customize-server.title")}),s.jsx("button",{className:"btn close-btn",onClick:n,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container !w-80",children:[s.jsxs("p",{className:"text-sm mb-1",children:[e("setting.system-section.server-name"),s.jsxs("span",{className:"text-sm text-gray-400 ml-1",children:["(",e("setting.system-section.customize-server.default"),")"]})]}),s.jsx("input",{type:"text",className:"input-text",value:o.name,onChange:l}),s.jsx("p",{className:"text-sm mb-1 mt-2",children:e("setting.system-section.customize-server.icon-url")}),s.jsx("input",{type:"text",className:"input-text",value:o.logoUrl,onChange:p}),s.jsx("p",{className:"text-sm mb-1 mt-2",children:"Description"}),s.jsx("input",{type:"text",className:"input-text",value:o.description,onChange:i}),s.jsx("p",{className:"text-sm mb-1 mt-2",children:"Server locale"}),s.jsx(Jo,{className:"w-full",value:o.locale,onChange:u}),s.jsx("p",{className:"text-sm mb-1 mt-2",children:"Server appearance"}),s.jsx(Go,{className:"w-full",value:o.appearance,onChange:c}),s.jsxs("div",{className:"mt-4 w-full flex flex-row justify-between items-center space-x-2",children:[s.jsx("div",{className:"flex flex-row justify-start items-center",children:s.jsx("button",{className:"btn-normal",onClick:m,children:e("common.restore")})}),s.jsxs("div",{className:"flex flex-row justify-end items-center",children:[s.jsx("button",{className:"btn-text",onClick:n,children:e("common.cancel")}),s.jsx("button",{className:"btn-primary",onClick:d,children:e("common.save")})]})]})]})]})};function Td(){Ie({className:"update-customized-profile-dialog",dialogName:"update-customized-profile-dialog"},Ed)}const kd=t=>{if(t<=0)return"0 Bytes";const e=1024,r=2,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,a)).toFixed(r))+o[a]},$d=()=>{const{t}=de(),e=Et(),r=e.state.systemStatus,[o,a]=g.useState({dbSize:r.dbSize,allowSignUp:r.allowSignUp,additionalStyle:r.additionalStyle,additionalScript:r.additionalScript});g.useEffect(()=>{e.fetchSystemStatus()},[]),g.useEffect(()=>{a({dbSize:r.dbSize,allowSignUp:r.allowSignUp,additionalStyle:r.additionalStyle,additionalScript:r.additionalScript})},[r]);const n=async d=>{a({...o,allowSignUp:d}),await Cs({name:"allowSignUp",value:JSON.stringify(d)})},l=d=>{a({...o,additionalStyle:d})},p=()=>{Td()},i=async()=>{try{await sa(),await e.fetchSystemStatus()}catch(d){console.error(d);return}Y.success(t("message.succeed-vacuum-database"))},u=async()=>{try{await Cs({name:"additionalStyle",value:JSON.stringify(o.additionalStyle)})}catch(d){console.error(d);return}Y.success(t("message.succeed-update-additional-style"))},c=d=>{a({...o,additionalScript:d})},m=async()=>{try{await Cs({name:"additionalScript",value:JSON.stringify(o.additionalScript)})}catch(d){console.error(d);return}Y.success(t("message.succeed-update-additional-script"))};return s.jsxs("div",{className:"section-container system-section-container",children:[s.jsx("p",{className:"title-text",children:t("common.basic")}),s.jsxs("div",{className:"form-label",children:[s.jsxs("div",{className:"normal-text",children:[t("setting.system-section.server-name"),": ",s.jsx("span",{className:"font-mono font-bold",children:r.customizedProfile.name})]}),s.jsx(yt,{onClick:p,children:t("common.edit")})]}),s.jsxs("div",{className:"form-label",children:[s.jsxs("span",{className:"normal-text",children:[t("setting.system-section.database-file-size"),": ",s.jsx("span",{className:"font-mono font-bold",children:kd(o.dbSize)})]}),s.jsx(yt,{onClick:i,children:t("common.vacuum")})]}),s.jsx("p",{className:"title-text",children:t("sidebar.setting")}),s.jsxs("div",{className:"form-label",children:[s.jsx("span",{className:"normal-text",children:t("setting.system-section.allow-user-signup")}),s.jsx(Nr,{checked:o.allowSignUp,onChange:d=>n(d.target.checked)})]}),s.jsxs("div",{className:"form-label",children:[s.jsx("span",{className:"normal-text",children:t("setting.system-section.additional-style")}),s.jsx(yt,{onClick:u,children:t("common.save")})]}),s.jsx(ro,{className:"w-full",sx:{fontFamily:"monospace",fontSize:"14px"},minRows:4,maxRows:4,placeholder:t("setting.system-section.additional-style-placeholder"),value:o.additionalStyle,onChange:d=>l(d.target.value)}),s.jsxs("div",{className:"form-label mt-2",children:[s.jsx("span",{className:"normal-text",children:t("setting.system-section.additional-script")}),s.jsx(yt,{onClick:m,children:t("common.save")})]}),s.jsx(ro,{className:"w-full",color:"neutral",sx:{fontFamily:"monospace",fontSize:"14px"},minRows:4,maxRows:4,placeholder:t("setting.system-section.additional-script-placeholder"),value:o.additionalScript,onChange:d=>c(d.target.value)})]})};const Rd=t=>{const{destroy:e}=t,{t:r}=de(),a=Te().state.user,[n,l]=g.useState({selectedSection:"my-account"}),p=i=>{l({selectedSection:i})};return s.jsxs("div",{className:"dialog-content-container",children:[s.jsx("button",{className:"btn close-btn",onClick:e,children:s.jsx(V.X,{className:"icon-img"})}),s.jsxs("div",{className:"section-selector-container",children:[s.jsx("span",{className:"section-title",children:r("common.basic")}),s.jsxs("div",{className:"section-items-container",children:[s.jsxs("span",{onClick:()=>p("my-account"),className:`section-item ${n.selectedSection==="my-account"?"selected":""}`,children:[s.jsx("span",{className:"icon-text",children:""})," ",r("setting.my-account")]}),s.jsxs("span",{onClick:()=>p("preferences"),className:`section-item ${n.selectedSection==="preferences"?"selected":""}`,children:[s.jsx("span",{className:"icon-text",children:""})," ",r("setting.preference")]})]}),(a==null?void 0:a.role)==="HOST"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"section-title",children:r("common.admin")}),s.jsxs("div",{className:"section-items-container",children:[s.jsxs("span",{onClick:()=>p("member"),className:`section-item ${n.selectedSection==="member"?"selected":""}`,children:[s.jsx("span",{className:"icon-text",children:""})," ",r("setting.member")]}),s.jsxs("span",{onClick:()=>p("system"),className:`section-item ${n.selectedSection==="system"?"selected":""}`,children:[s.jsx("span",{className:"icon-text",children:""})," ",r("setting.system")]})]})]}):null]}),s.jsx("div",{className:"section-content-container",children:n.selectedSection==="my-account"?s.jsx(Cd,{}):n.selectedSection==="preferences"?s.jsx(Nd,{}):n.selectedSection==="member"?s.jsx(jd,{}):n.selectedSection==="system"?s.jsx($d,{}):null})]})};function Dd(){Ie({className:"setting-dialog",dialogName:"setting-dialog"},Rd,{})}const Pd=t=>{const{memo:e}=t,{t:r}=de(),o=qe(),[a,n]=Bt(!1),l=async()=>{if(a)try{await o.deleteMemoById(e.id)}catch(u){console.error(u),Y.error(u.response.data.message)}else n()},p=async()=>{try{await o.patchMemo({id:e.id,rowStatus:"NORMAL"}),await o.fetchMemos(),Y.info(r("message.restored-successfully"))}catch(u){console.error(u),Y.error(u.response.data.message)}},i=()=>{a&&n(!1)};return s.jsxs("div",{className:`memo-wrapper archived ${"memos-"+e.id}`,onMouseLeave:i,children:[s.jsxs("div",{className:"memo-top-wrapper",children:[s.jsxs("span",{className:"time-text",children:[r("common.archived-at")," ",xr(e.updatedTs)]}),s.jsxs("div",{className:"btns-container",children:[s.jsx("span",{className:"btn-text",onClick:p,children:r("common.restore")}),s.jsxs("span",{className:`btn-text ${a?"final-confirm":""}`,onClick:l,children:[r("common.delete"),a?"!":""]})]})]}),s.jsx(Ds,{content:e.content}),s.jsx(Ps,{resourceList:e.resourceList})]})};const Ld=t=>{const{t:e}=de(),{destroy:r}=t,o=qe(),a=o.state.memos,n=zt(),[l,p]=g.useState([]);return g.useEffect(()=>{o.fetchArchivedMemos().then(i=>{p(i)}).catch(i=>{console.error(i),Y.error(i.response.data.message)}).finally(()=>{n.setFinish()})},[a]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:e("archived.archived-memos")}),s.jsx("button",{className:"btn close-btn",onClick:r,children:s.jsx(V.X,{className:"icon-img"})})]}),s.jsx("div",{className:"dialog-content-container",children:n.isLoading?s.jsx("div",{className:"tip-text-container",children:s.jsx("p",{className:"tip-text",children:e("archived.fetching-data")})}):l.length===0?s.jsx("div",{className:"tip-text-container",children:s.jsx("p",{className:"tip-text",children:e("archived.no-archived-memos")})}):s.jsx("div",{className:"archived-memos-container",children:l.map(i=>s.jsx(Pd,{memo:i},`${i.id}-${i.updatedTs}`))})})]})};function Ad(){Ie({className:"archived-memo-dialog",dialogName:"archived-memo-dialog"},Ld,{})}const Od=()=>{const[t,e]=g.useState(0);return g.useEffect(()=>{ra().then(r=>{e(r)})},[]),s.jsxs("a",{className:"h-7 flex flex-row justify-start items-center border dark:border-zinc-600 rounded cursor-pointer hover:opacity-80",href:"https://github.com/usememos/memos",children:[s.jsxs("div",{className:"apply w-auto h-full px-2 flex flex-row justify-center items-center text-xs bg-gray-100 dark:bg-zinc-700",children:[s.jsx(V.Github,{className:"mr-1 w-4 h-4"}),"Star"]}),s.jsx("div",{className:"w-auto h-full flex flex-row justify-center items-center px-3 text-xs font-bold",children:t||""})]})};const Md=({destroy:t})=>{const{t:e}=de(),r=Et(),o=r.state.systemStatus.profile,a=r.state.systemStatus.customizedProfile,n=()=>{t()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsxs("p",{className:"title-text flex items-center",children:[e("common.about")," ",a.name]}),s.jsx("button",{className:"btn close-btn",onClick:n,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsx("p",{className:"text-sm",children:a.description||"No description"}),s.jsxs("div",{className:"mt-4 flex flex-row text-sm justify-start items-center",children:[s.jsxs("div",{className:"flex flex-row justify-start items-center mr-2",children:["Powered by",s.jsxs("a",{href:"https://usememos.com",className:"flex flex-row justify-start items-center mr-1 hover:underline",children:[s.jsx("img",{className:"w-6 h-auto",src:"/logo.png",alt:""}),"memos"]}),s.jsxs("span",{children:["v",o.version]})]}),s.jsx(Od,{})]}),s.jsxs("div",{className:"border-t mt-3 pt-2 text-sm flex flex-row justify-start items-center",children:[s.jsx("span",{className:"text-gray-500 mr-2",children:"Other projects:"}),s.jsxs("a",{href:"https://github.com/boojack/sticky-notes",className:"flex items-center underline text-blue-600 hover:opacity-80",children:[s.jsx("img",{className:"w-4 h-auto mr-1",src:"https://raw.githubusercontent.com/boojack/sticky-notes/main/public/sticky-notes.ico",alt:""}),s.jsx("span",{children:"Sticky notes"})]})]})]})]})};function zd(){Ie({className:"about-site-dialog",dialogName:"about-site-dialog"},Md)}const _d=()=>{const{t}=de(),e=ze(),r=Te(),o=qe(),a=rs(),{user:n,owner:l}=r.state,{memos:p}=o.state,i=a.state.tags,[u,c]=g.useState("Memos"),[m,d]=g.useState(0),[h,f]=g.useState(0),v=r.isVisitorMode();g.useEffect(()=>{if(v){if(!l)return;c(l.nickname||l.username),f(Math.ceil((Date.now()-Oe(l.createdTs))/1e3/3600/24))}else n&&(c(n.nickname||n.username),f(Math.ceil((Date.now()-Oe(n.createdTs))/1e3/3600/24)))},[v,n,l]),g.useEffect(()=>{jr(r.getCurrentUserId()).then(({data:{data:b}})=>{d(b.length)}).catch(b=>{console.error(b)})},[p]);const x=g.useCallback(()=>{e.clearQuery()},[]),$=()=>{Ad()},C=()=>{zd()},k=async()=>{await r.doSignOut(),window.location.href="/auth"};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"user-banner-container",children:[s.jsxs("div",{className:"username-container",onClick:x,children:[s.jsx("span",{className:"username-text",children:u}),!v&&(n==null?void 0:n.role)==="HOST"?s.jsx("span",{className:"tag",children:"MOD"}):null]}),s.jsx(Dr,{trigger:s.jsx(V.MoreHorizontal,{className:"ml-2 w-5 h-auto cursor-pointer dark:text-gray-200"}),actionsClassName:"min-w-36",actions:s.jsxs(s.Fragment,{children:[!r.isVisitorMode()&&s.jsx(s.Fragment,{children:s.jsxs("button",{className:"w-full px-3 whitespace-nowrap text-left leading-10 cursor-pointer rounded dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:$,children:[s.jsx("span",{className:"mr-1",children:""})," ",t("sidebar.archived")]})}),s.jsxs("button",{className:"w-full px-3 whitespace-nowrap text-left leading-10 cursor-pointer rounded dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:C,children:[s.jsx("span",{className:"mr-1",children:""})," ",t("common.about")]}),!r.isVisitorMode()&&s.jsxs("button",{className:"w-full px-3 whitespace-nowrap text-left leading-10 cursor-pointer rounded dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:k,children:[s.jsx("span",{className:"mr-1",children:""})," ",t("common.sign-out")]})]})})]}),s.jsxs("div",{className:"amount-text-container",children:[s.jsxs("div",{className:"status-text memos-text",children:[s.jsx("span",{className:"amount-text",children:m}),s.jsx("span",{className:"type-text",children:t("amount-text.memo",{count:m})})]}),s.jsxs("div",{className:"status-text tags-text",children:[s.jsx("span",{className:"amount-text",children:i.length}),s.jsx("span",{className:"type-text",children:t("amount-text.tag",{count:i.length})})]}),s.jsxs("div",{className:"status-text duration-text",children:[s.jsx("span",{className:"amount-text",children:h}),s.jsx("span",{className:"type-text",children:t("amount-text.day",{count:h})})]})]})]})};const io={width:12,height:7},lo=(t,e)=>{const r=[];for(let o=1;o<=t;o++)r.push({timestamp:e+ht*o,count:0});return r},Fd=()=>{const{t}=de(),e=ze(),r=Te(),o=qe(),a=gr(Date.now()),n=new Date(a).getDay()+1,l=new Array(7-n).fill(0),p=(io.width-1)*io.height+n,i=a-p*ht,u=o.state.memos,[c,m]=g.useState(lo(p,i)),[d,h]=g.useState(null),f=g.useRef(null);g.useEffect(()=>(jr(r.getCurrentUserId()).then(({data:{data:C}})=>{const k=lo(p,i);for(const b of C){const w=(gr(b*1e3)-i)/864e5-1;if(w>=0){const _=+w.toFixed(0);k[_].count+=1}}m([...k])}).catch(C=>{console.error(C)}),()=>{x()}),[u.length]);const v=g.useCallback((C,k)=>{const b=document.createElement("div");b.className="usage-detail-container pop-up";const w=oa(C.target);b.style.left=w.left+"px",b.style.top=w.top-2+"px",b.innerHTML=`${k.count} memos on <span className="date-text">${new Date(k.timestamp).toDateString()}</span>`,document.body.appendChild(b),b.offsetLeft-b.clientWidth/2<0&&(b.style.left=w.left+b.clientWidth*.4+"px",b.className+=" offset-left")},[]),x=g.useCallback(()=>{document.body.querySelectorAll("div.usage-detail-container.pop-up").forEach(C=>C.remove())},[]),$=g.useCallback(C=>{var k,b;((b=(k=e.getState().query)==null?void 0:k.duration)==null?void 0:b.from)===C.timestamp?(e.setFromAndToQuery(),h(null)):C.count>0&&(e.setFromAndToQuery(C.timestamp,C.timestamp+ht),h(C))},[]);return s.jsxs("div",{className:"usage-heat-map-wrapper",ref:f,children:[s.jsxs("div",{className:"day-tip-text-container",children:[s.jsx("span",{className:"tip-text",children:t("days.sun")}),s.jsx("span",{className:"tip-text"}),s.jsx("span",{className:"tip-text",children:t("days.tue")}),s.jsx("span",{className:"tip-text"}),s.jsx("span",{className:"tip-text",children:t("days.thu")}),s.jsx("span",{className:"tip-text"}),s.jsx("span",{className:"tip-text",children:t("days.sat")})]}),s.jsxs("div",{className:"usage-heat-map",children:[c.map((C,k)=>{const b=C.count,w=b<=0?"":b<=1?"stat-day-l1-bg":b<=2?"stat-day-l2-bg":b<=4?"stat-day-l3-bg":"stat-day-l4-bg";return s.jsx("div",{className:"stat-wrapper",onMouseEnter:_=>v(_,C),onMouseLeave:x,onClick:()=>$(C),children:s.jsx("span",{className:`stat-container ${w} ${d===C?"current":""} ${a===C.timestamp?"today":""}`})},k)}),l.map((C,k)=>s.jsx("div",{className:"stat-wrapper",children:s.jsx("span",{className:"null"})},k))]})]})},Bd=[{text:"And",value:"AND"},{text:"Or",value:"OR"}],At={TAG:{text:"filter.type.tag",value:"TAG",operators:[{text:"filter.operator.contains",value:"CONTAIN"},{text:"filter.operator.not-contains",value:"NOT_CONTAIN"}]},TYPE:{text:"filter.type.type",value:"TYPE",operators:[{text:"filter.operator.is",value:"IS"},{text:"filter.operator.is-not",value:"IS_NOT"}],values:[{text:"filter.value.not-tagged",value:"NOT_TAGGED"},{text:"filter.value.linked",value:"LINKED"}]},TEXT:{text:"filter.type.text",value:"TEXT",operators:[{text:"filter.operator.contains",value:"CONTAIN"},{text:"filter.operator.not-contains",value:"NOT_CONTAIN"}]},DISPLAY_TIME:{text:"filter.type.display-time",value:"DISPLAY_TIME",operators:[{text:"filter.operator.before",value:"BEFORE"},{text:"filter.operator.after",value:"AFTER"}]},VISIBILITY:{text:"filter.type.visibility",value:"VISIBILITY",operators:[{text:"filter.operator.is",value:"IS"},{text:"filter.operator.is-not",value:"IS_NOT"}],values:[{text:"memo.visibility.public",value:"PUBLIC"},{text:"memo.visibility.protected",value:"PROTECTED"},{text:"memo.visibility.private",value:"PRIVATE"}]}},Sr=At.TYPE.values,Vd=t=>{for(const e of Sr)if(e.value===t)return e.text;return""},Hd=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),Ud=(t,e)=>{let r=!0;for(const o of e){const{relation:a}=o,n=Wd(t,o);a==="OR"?r=r||n:r=r&&n}return r},Wd=(t,e)=>{const{type:r,value:{operator:o,value:a}}=e;if(a==="")return!0;let n=!0;if(r==="TAG"){let l=!0;const p=new Set;for(const i of Array.from(t.content.match(new RegExp(Ot,"g"))??[])){const c=i.replace(Ot,"$1").trim().split("/");let m="";for(const d of c)m+=d,p.add(m),m+="/"}p.has(a)||(l=!1),o==="NOT_CONTAIN"&&(l=!l),n=l}else if(r==="TYPE"){let l=!1;(a==="NOT_TAGGED"&&t.content.match(Ot)===null||a==="LINKED"&&t.content.match(Fo)!==null)&&(l=!0),o==="IS_NOT"&&(l=!l),n=l}else if(r==="TEXT")if(a.startsWith("^")){const l=new RegExp(a.slice(1));n=o==="NOT_CONTAIN"?!l.test(t.content):l.test(t.content)}else{let l=t.content.toLowerCase().includes(a.toLowerCase());o==="NOT_CONTAIN"&&(l=!l),n=l}else{if(r==="DISPLAY_TIME")return o==="BEFORE"?t.displayTs<rt(a).valueOf():t.displayTs>rt(a).valueOf();if(r==="VISIBILITY"){let l=t.visibility===a;o==="IS_NOT"&&(l=!l),n=l}}return n};const co={text:"common.select",value:""},Jd=t=>{const{className:e,dataSource:r,handleValueChanged:o,value:a}=t,{t:n}=de(),[l,p]=Bt(!1),i=g.useRef(null);let u={text:n(co.text),value:co.value};for(const d of r)if(d.value===a){u=d;break}g.useEffect(()=>{if(l){const d=h=>{var f;(f=i.current)!=null&&f.contains(h.target)||p(!1)};window.addEventListener("click",d,{capture:!0,once:!0})}},[l]);const c=d=>{o&&o(d.value),p(!1)},m=d=>{d.stopPropagation(),p()};return s.jsxs("div",{className:`selector-wrapper ${e??""}`,ref:i,children:[s.jsxs("div",{className:`current-value-container ${l?"active":""}`,onClick:m,children:[s.jsx("span",{className:"value-text",children:u.text}),s.jsx("span",{className:"arrow-text",children:s.jsx(V.ChevronDown,{className:"icon-img"})})]}),s.jsx("div",{className:`items-wrapper ${l?"":"!hidden"}`,children:r.length>0?r.map(d=>s.jsx("div",{className:`item-container ${d.value===a?"selected":""}`,onClick:()=>{c(d)},children:d.text},d.value)):s.jsx("p",{className:"tip-text",children:n("common.null")})})]})},Xt=g.memo(Jd);const Gd=t=>{const{destroy:e,shortcutId:r}=t,o=Ft(),[a,n]=g.useState(""),[l,p]=g.useState([]),i=zt(!1),{t:u}=de();g.useEffect(()=>{if(r){const v=o.getShortcutById(r);if(v){n(v.title);const x=JSON.parse(v.payload);Array.isArray(x)&&p(x)}}},[r]);const c=v=>{const x=v.target.value;n(x)},m=async()=>{if(!a){Y.error(u("shortcut-list.title-required"));return}for(const v of l)if(!v.value.value){Y.error(u("shortcut-list.value-required"));return}try{r?await o.patchShortcut({id:r,title:a,payload:JSON.stringify(l)}):await o.createShortcut({title:a,payload:JSON.stringify(l)})}catch(v){console.error(v),Y.error(v.response.data.message)}e()},d=()=>{if(l.length>0&&l[l.length-1].value.value===""){Y.info(u("shortcut-list.fill-previous"));return}p([...l,Hd()])},h=g.useCallback((v,x)=>{p($=>{const C=[...$];return C[v]=x,C})},[]),f=g.useCallback(v=>{p(x=>x.filter((C,k)=>k!==v))},[]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:u(r?"shortcut-list.edit-shortcut":"shortcut-list.create-shortcut")}),s.jsx("button",{className:"btn close-btn",onClick:e,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsxs("div",{className:"form-item-container input-form-container",children:[s.jsx("span",{className:"normal-text",children:u("common.title")}),s.jsx("input",{className:"title-input",type:"text",placeholder:u("shortcut-list.shortcut-title"),value:a,onChange:c})]}),s.jsxs("div",{className:"form-item-container filter-form-container",children:[s.jsx("span",{className:"normal-text",children:u("common.filter")}),s.jsxs("div",{className:"filters-wrapper",children:[l.map((v,x)=>s.jsx(Xd,{index:x,filter:v,handleFilterChange:h,handleFilterRemove:f},x)),s.jsx("div",{className:"create-filter-btn",onClick:d,children:u("filter.new-filter")})]})]})]}),s.jsxs("div",{className:"dialog-footer-container",children:[s.jsx("div",{}),s.jsx("div",{className:"btns-container",children:s.jsx("button",{className:`btn-primary ${i.isLoading?"requesting":""}`,onClick:m,children:u("common.save")})})]})]})},Xd=t=>{const{index:e,filter:r,handleFilterChange:o,handleFilterRemove:a}=t,{t:n}=de(),l=rs(),[p,i]=g.useState(r.value.value),u=Array.from(l.getState().tags),{type:c}=r,m=Object.values(At).map(({text:b,value:w})=>({text:n(b),value:w})),d=Object.values(At[c].operators).map(({text:b,value:w})=>({text:n(b),value:w})),h=c==="TYPE"?At.TYPE.values.map(({text:b,value:w})=>({text:n(b),value:w})):c==="VISIBILITY"?At.VISIBILITY.values.map(({text:b,value:w})=>({text:n(b),value:w})):u.sort().map(b=>({text:b,value:b})),f=rt().format("9999-12-31T23:59");g.useEffect(()=>{if(c==="DISPLAY_TIME"){const b=rt().format("YYYY-MM-DDTHH:mm");C(b)}else i(r.value.value)},[c]);const v=b=>{["AND","OR"].includes(b)&&o(e,{...r,relation:b})},x=b=>{if(r.type!==b){const w=Object.values(At[b].operators);o(e,{...r,type:b,value:{operator:w[0].value,value:""}})}},$=b=>{o(e,{...r,value:{...r.value,operator:b}})},C=b=>{i(b),o(e,{...r,value:{...r.value,value:b}})},k=()=>{a(e)};return s.jsxs("div",{className:"memo-filter-input-wrapper",children:[e>0?s.jsx(Xt,{className:"relation-selector",dataSource:Bd,value:r.relation,handleValueChanged:v}):null,s.jsx(Xt,{className:"type-selector",dataSource:m,value:r.type,handleValueChanged:x}),s.jsx(Xt,{className:"operator-selector",dataSource:d,value:r.value.operator,handleValueChanged:$}),c==="TEXT"?s.jsx("input",{type:"text",className:"value-inputer",value:p,onChange:b=>{C(b.target.value)},placeholder:n("filter.text-placeholder")}):c==="DISPLAY_TIME"?s.jsx("input",{className:"datetime-selector",type:"datetime-local",value:p,max:f,onChange:b=>{C(b.target.value)}}):s.jsx(Xt,{className:"value-selector",dataSource:h,value:p,handleValueChanged:C}),s.jsx(V.X,{className:"remove-btn",onClick:k})]})};function un(t){Ie({className:"create-shortcut-dialog",dialogName:"create-shortcut-dialog"},Gd,{shortcutId:t})}const Yd=()=>{const{t}=de(),e=ze(),r=Ft(),o=e.state.query,a=r.state.shortcuts,n=zt(),l=a.filter(u=>u.rowStatus==="ARCHIVED").sort((u,c)=>Oe(c.createdTs)-Oe(u.createdTs)),p=a.filter(u=>u.rowStatus==="NORMAL").sort((u,c)=>Oe(c.createdTs)-Oe(u.createdTs)),i=l.concat(p);return g.useEffect(()=>{r.getMyAllShortcuts().catch(()=>{}).finally(()=>{n.setFinish()})},[]),s.jsxs("div",{className:"shortcuts-wrapper",children:[s.jsxs("p",{className:"title-text",children:[s.jsx("span",{className:"normal-text",children:t("common.shortcuts")}),s.jsx("button",{className:"btn",onClick:()=>un(),children:s.jsx(V.Plus,{className:"icon-img"})})]}),s.jsx("div",{className:"shortcuts-container",children:i.map(u=>s.jsx(qd,{shortcut:u,isActive:u.id===Number(o==null?void 0:o.shortcutId)},u.id))})]})},qd=t=>{const{shortcut:e,isActive:r}=t,{t:o}=de(),a=ze(),n=Ft(),[l,p]=Bt(!1),i=()=>{r?a.setMemoShortcut(void 0):a.setMemoShortcut(e.id)},u=async h=>{var f;if(h.stopPropagation(),l)try{await n.deleteShortcutById(e.id),((f=a.getState().query)==null?void 0:f.shortcutId)===e.id&&a.setMemoShortcut(void 0)}catch(v){console.error(v),Y.error(v.response.data.message)}else p()},c=h=>{h.stopPropagation(),un(e.id)},m=async h=>{h.stopPropagation();try{const f={id:e.id,rowStatus:e.rowStatus==="ARCHIVED"?"NORMAL":"ARCHIVED"};await n.patchShortcut(f)}catch{}},d=()=>{p(!1)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:`shortcut-container ${r?"active":""}`,onClick:i,children:[s.jsx("div",{className:"shortcut-text-container",children:s.jsx("span",{className:"shortcut-text",children:e.title})}),s.jsxs("div",{className:"btns-container",children:[s.jsx("span",{className:"action-btn toggle-btn",children:s.jsx(V.MoreHorizontal,{className:"icon-img"})}),s.jsx("div",{className:"action-btns-wrapper",children:s.jsxs("div",{className:"action-btns-container",children:[s.jsx("span",{className:"btn",onClick:m,children:e.rowStatus==="ARCHIVED"?o("common.unpin"):o("common.pin")}),s.jsx("span",{className:"btn",onClick:c,children:o("common.edit")}),s.jsxs("span",{className:`btn delete-btn ${l?"final-confirm":""}`,onClick:u,onMouseLeave:d,children:[o("common.delete"),l?"!":""]})]})})]})]})})},ar=t=>{const e=va(`#${t}`,xa.regexp);return!(!e||e[1]!==t)},Qd=t=>{const{destroy:e}=t,r=rs(),[o,a]=g.useState(""),[n,l]=g.useState([]),[p,i]=g.useState(!1),u=r.state.tags,c=n.filter(C=>!u.includes(C));g.useEffect(()=>{na().then(({data:C})=>{l(C.data.filter(k=>ar(k)))})},[]);const m=C=>{C.key==="Enter"&&v()},d=C=>{const k=C.target.value;a(k.trim())},h=async C=>{await r.upsertTag(C)},f=()=>{i(C=>!C)},v=async()=>{if(!ar(o)){Y.error("Invalid tag name");return}try{await r.upsertTag(o),a("")}catch(C){console.error(C),Y.error(C.response.data.message)}},x=async C=>{await r.deleteTag(C)},$=async()=>{for(const C of n)ar(C)&&await r.upsertTag(C)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:"Create Tag"}),s.jsx("button",{className:"btn close-btn",onClick:()=>e(),children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container !w-80",children:[s.jsx(br,{className:"mb-2",size:"md",placeholder:"TAG_NAME",value:o,onChange:d,onKeyDown:m,fullWidth:!0,startDecorator:s.jsx(V.Hash,{className:"w-4 h-auto"}),endDecorator:s.jsx(V.Check,{onClick:v,className:"w-4 h-auto cursor-pointer hover:opacity-80"})}),u.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"w-full mt-2 mb-1 text-sm text-gray-400",children:"All tags"}),s.jsx("div",{className:"w-full flex flex-row justify-start items-start flex-wrap",children:u.map(C=>s.jsxs("span",{className:"max-w-[120px] text-sm mr-2 mt-1 font-mono cursor-pointer truncate dark:text-gray-300 hover:opacity-60 hover:line-through",onClick:()=>x(C),children:["#",C]},C))})]}),c.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-4 mb-1 text-sm w-full flex flex-row justify-start items-center",children:[s.jsx("span",{className:"text-gray-400",children:"Tag suggestions"}),s.jsx("button",{className:"btn-normal ml-2 px-2 py-0 leading-6 font-mono",onClick:f,children:p?"hide":"show"})]}),p&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full flex flex-row justify-start items-start flex-wrap",children:c.map(C=>s.jsxs("span",{className:"max-w-[120px] text-sm mr-2 mt-1 font-mono cursor-pointer truncate dark:text-gray-300 hover:opacity-60",onClick:()=>h(C),children:["#",C]},C))}),s.jsx("button",{className:"btn-normal mt-2 px-2 py-0 leading-6 font-mono",onClick:$,children:"Save all"})]})]})]})]})};function Kd(){Ie({className:"create-tag-dialog",dialogName:"create-tag-dialog"},Qd)}const Zd=()=>{const{t}=de(),e=ze(),r=rs(),o=r.state.tags,a=e.state.query,[n,l]=g.useState([]);return g.useEffect(()=>{r.fetchTags()},[]),g.useEffect(()=>{const p=Array.from(o).sort(),i={subTags:[]};for(const u of p){const c=u.split("/");let m=i,d="";for(let h=0;h<c.length;h++){const f=c[h];h===0?d+=f:d+="/"+f;let v=null;for(const x of m.subTags)if(x.text===d){v=x;break}v||(v={key:f,text:d,subTags:[]},m.subTags.push(v)),m=v}}l(i.subTags)},[o]),s.jsxs("div",{className:"tags-wrapper",children:[s.jsxs("div",{className:"w-full flex flex-row justify-start items-center px-4 mb-1",children:[s.jsx("span",{className:"text-sm leading-6 font-mono text-gray-400",children:t("common.tags")}),s.jsx("button",{onClick:()=>Kd(),className:"flex flex-col justify-center items-center w-5 h-5 bg-gray-200 dark:bg-zinc-700 rounded ml-2 hover:shadow",children:s.jsx(V.Plus,{className:"w-4 h-4 text-gray-400"})})]}),s.jsxs("div",{className:"tags-container",children:[n.map((p,i)=>s.jsx(mn,{tag:p,tagQuery:a==null?void 0:a.tag},p.text+"-"+i)),n.length<=3&&s.jsx("p",{className:"tip-text",children:t("tag-list.tip-text")})]})]})},mn=t=>{const e=ze(),{tag:r,tagQuery:o}=t,a=o===r.text,n=r.subTags.length>0,[l,p]=Bt(!1),i=()=>{a?e.setTagQuery(void 0):e.setTagQuery(r.text)},u=c=>{c.stopPropagation(),p()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`tag-item-container ${a?"active":""}`,onClick:i,children:[s.jsxs("div",{className:"tag-text-container",children:[s.jsx("span",{className:"icon-text",children:"#"}),s.jsx("span",{className:"tag-text",children:r.key})]}),s.jsx("div",{className:"btns-container",children:n?s.jsx("span",{className:`action-btn toggle-btn ${l?"shown":""}`,onClick:u,children:s.jsx(V.ChevronRight,{className:"icon-img"})}):null})]}),n?s.jsx("div",{className:`subtags-container ${l?"":"!hidden"}`,children:r.subTags.map((c,m)=>s.jsx(mn,{tag:c,tagQuery:o},c.text+"-"+m))}):null]})};const eu=()=>{const{t}=de(),e=Te(),o=ze().state.query;g.useEffect(()=>{wr(!1)},[o]);const a=()=>{Dd()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mask",onClick:()=>wr(!1)}),s.jsxs("aside",{className:"sidebar-wrapper",children:[s.jsx(_d,{}),s.jsx(Fd,{}),s.jsxs("div",{className:"action-btns-container",children:[s.jsxs("button",{className:"btn action-btn",onClick:()=>ad(),children:[s.jsx("span",{className:"icon",children:""})," ",t("sidebar.daily-review")]}),s.jsxs(aa,{to:"/explore",className:"btn action-btn",children:[s.jsx("span",{className:"icon",children:""})," ",t("common.explore")]}),s.jsxs("button",{className:"btn action-btn",onClick:()=>pd(),children:[s.jsx("span",{className:"icon",children:""})," ",t("sidebar.resources")]}),!e.isVisitorMode()&&s.jsx(s.Fragment,{children:s.jsxs("button",{className:"btn action-btn",onClick:a,children:[s.jsx("span",{className:"icon",children:""})," ",t("sidebar.setting")]})})]}),!e.isVisitorMode()&&s.jsxs(s.Fragment,{children:[s.jsx(Yd,{}),s.jsx(Zd,{})]})]})]})},wr=t=>{const e=document.body.querySelector(".sidebar-wrapper"),r=document.body.querySelector(".mask");Wc(t)&&(t=!e.classList.contains("show")),t?(e.classList.add("show"),r.classList.add("show")):(e.classList.remove("show"),r.classList.remove("show"))};function tu(t,e=0){const r=g.useRef(!1),o=g.useRef(),a=g.useRef(t),n=g.useCallback(()=>r.current,[]),l=g.useCallback(()=>{r.current=!1,o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{r.current=!0,a.current()},e)},[e]),p=g.useCallback(()=>{r.current=null,o.current&&clearTimeout(o.current)},[]);return g.useEffect(()=>{a.current=t},[t]),g.useEffect(()=>(l(),p),[e]),[n,p,l]}function su(t,e=0,r=[]){const[o,a,n]=tu(t,e);return g.useEffect(n,r),[o,a]}const ru=()=>{const{t}=de(),e=ze(),r=ba(),o=e.state.query.type,[a,n]=g.useState(""),[l,p]=g.useState(!1),i=g.useRef(null);g.useEffect(()=>{const h=f=>{if(!i.current||r.getState().dialogStack.length)return;if((f.ctrlKey||f.metaKey)&&f.key==="f"){f.preventDefault(),i.current.focus();return}};return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[]),g.useEffect(()=>{const h=e.getState().query.text;n(h===void 0?"":h)},[e.state.query.text]),su(()=>{e.setTextQuery(a.length===0?void 0:a)},200,[a]);const u=h=>{const{type:f}=e.getState().query??{};h===f&&(h=void 0),e.setMemoTypeQuery(h)},c=h=>{const f=h.currentTarget.value;n(f)},m=()=>{p(!0)},d=()=>{p(!1)};return s.jsxs("div",{className:`search-bar-container ${l?"is-focus":""}`,children:[s.jsxs("div",{className:"search-bar-inputer",children:[s.jsx(V.Search,{className:"icon-img"}),s.jsx("input",{className:"text-input",autoComplete:"new-password",type:"text",placeholder:"",ref:i,value:a,onChange:c,onFocus:m,onBlur:d})]}),s.jsx("div",{className:"quickly-action-wrapper",children:s.jsxs("div",{className:"quickly-action-container",children:[s.jsx("p",{className:"title-text",children:t("search.quickly-filter").toUpperCase()}),s.jsxs("div",{className:"section-container types-container",children:[s.jsxs("span",{className:"section-text",children:[t("common.type").toUpperCase(),":"]}),s.jsx("div",{className:"values-container",children:Sr.map((h,f)=>s.jsxs("div",{children:[s.jsx("span",{className:`type-item ${o===h.value?"selected":""}`,onClick:()=>{u(h.value)},children:t(h.text)}),f+1<Sr.length?s.jsx("span",{className:"split-text",children:"/"}):null]},h.value))})]})]})})]})};let uo=Date.now();const ou=()=>{const t=ze(),e=qe(),r=Ft(),o=t.state.query,a=r.state.shortcuts,[n,l]=g.useState("MEMOS");g.useEffect(()=>{if(!(o!=null&&o.shortcutId)){l("MEMOS");return}const i=r.getShortcutById(o==null?void 0:o.shortcutId);i&&l(i.title)},[o,a]);const p=g.useCallback(()=>{const i=Date.now();i-uo>1*1e3&&(uo=i,e.fetchMemos().catch(()=>{}))},[]);return s.jsxs("div",{className:"memos-header-container",children:[s.jsxs("div",{className:"title-container",children:[s.jsx("div",{className:"action-btn",onClick:()=>wr(!0),children:s.jsx(V.Menu,{className:"icon-img"})}),s.jsx("span",{className:"title-text",onClick:p,children:n})]}),s.jsx(ru,{})]})};const nu=g.forwardRef(function(e,r){var d;const{className:o,initialContent:a,placeholder:n,fullscreen:l,onPaste:p,onContentChange:i}=e,u=g.useRef(null);g.useEffect(()=>{u.current&&a&&(u.current.value=a,i(a))},[]),g.useEffect(()=>{u.current&&!l&&c()},[(d=u.current)==null?void 0:d.value,l]);const c=()=>{u.current&&(u.current.style.height="auto",u.current.style.height=(u.current.scrollHeight??0)+"px")};g.useImperativeHandle(r,()=>({focus:()=>{var h;(h=u.current)==null||h.focus()},insertText:(h="",f="",v="")=>{if(!u.current)return;const x=u.current.selectionStart,$=u.current.selectionEnd,C=u.current.value,k=C.slice(0,x)+f+(h||C.slice(x,$))+v+C.slice($);u.current.value=k,u.current.focus(),u.current.selectionEnd=$+f.length+h.length,i(u.current.value),c()},removeText:(h,f)=>{if(!u.current)return;const v=u.current.value,x=v.slice(0,h)+v.slice(h+f);u.current.value=x,u.current.focus(),u.current.selectionEnd=h,i(u.current.value),c()},setContent:h=>{u.current&&(u.current.value=h,u.current.focus(),i(u.current.value),c())},getContent:()=>{var h;return((h=u.current)==null?void 0:h.value)??""},getCursorPosition:()=>{var h;return((h=u.current)==null?void 0:h.selectionStart)??0},getSelectedContent:()=>{var v,x,$;const h=(v=u.current)==null?void 0:v.selectionStart,f=(x=u.current)==null?void 0:x.selectionEnd;return(($=u.current)==null?void 0:$.value.slice(h,f))??""},setCursorPosition:(h,f)=>{var x;const v=isNaN(f)?h:f;(x=u.current)==null||x.setSelectionRange(h,v)}}),[]);const m=g.useCallback(()=>{var h;i(((h=u.current)==null?void 0:h.value)??""),c()},[]);return s.jsx("div",{className:"common-editor-wrapper "+o,children:s.jsx("textarea",{className:"common-editor-inputer",rows:1,placeholder:n,ref:u,onPaste:p,onInput:m})})}),au=t=>{const{className:e,resourceType:r}=t;let o=V.FileText;return r.includes("image")&&(o=V.Image),s.jsx(o,{className:e})};const iu=t=>{const{destroy:e}=t,{t:r}=de(),o=zt(),a=Rr(),n=os(),l=n.state.resources,[p,i]=g.useState({checkedArray:[]});g.useEffect(()=>{n.fetchResourceList().catch(d=>{console.error(d),Y.error(d.response.data.message)}).finally(()=>{o.setFinish()})},[]),g.useEffect(()=>{const d=a.state.resourceList.map(h=>h.id);i({checkedArray:l.map(h=>d.includes(h.id))})},[l]);const u=d=>{const h=qt(d);d.type.startsWith("image")?Ls(l.filter(f=>f.type.startsWith("image")).map(f=>qt(f)),l.findIndex(f=>f.id===d.id)):window.open(h)},c=d=>{const h=p.checkedArray;h[d]=!h[d],i({checkedArray:h})},m=()=>{const d=l.filter((h,f)=>p.checkedArray[f]);a.setResourceList(d),e()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:r("sidebar.resources")}),s.jsx("button",{className:"btn close-btn",onClick:e,children:s.jsx(V.X,{className:"icon-img"})})]}),s.jsxs("div",{className:"dialog-content-container",children:[o.isLoading?s.jsx("div",{className:"loading-text-container",children:s.jsx("p",{className:"tip-text",children:r("resources.fetching-data")})}):s.jsxs("div",{className:"resource-table-container",children:[s.jsxs("div",{className:"fields-container",children:[s.jsx("span",{className:"field-text id-text",children:"ID"}),s.jsx("span",{className:"field-text name-text",children:r("resources.name")}),s.jsx("span",{})]}),l.length===0?s.jsx("p",{className:"tip-text",children:r("resources.no-resources")}):l.map((d,h)=>s.jsxs("div",{className:"resource-container",children:[s.jsx("span",{className:"field-text id-text",children:d.id}),s.jsx(Vc,{placement:"top-start",title:d.filename,children:s.jsx("span",{className:"field-text name-text",children:d.filename})}),s.jsxs("div",{className:"flex justify-end",children:[s.jsx(V.Eye,{className:" text-left text-sm leading-6 px-1 mr-2 cursor-pointer hover:opacity-80",onClick:()=>u(d),children:r("resources.preview")}),s.jsx(uc,{checked:p.checkedArray[h],onChange:()=>c(h)})]})]},d.id))]}),s.jsxs("div",{className:"flex justify-between w-full mt-2 px-2",children:[s.jsxs("span",{className:"text-sm font-mono text-gray-400 leading-8",children:[r("message.count-selected-resources"),": ",p.checkedArray.filter(d=>d).length]}),s.jsx("div",{className:"flex flex-row justify-start items-center",children:s.jsxs("div",{className:"text-sm cursor-pointer px-3 py-1 rounded flex flex-row justify-center items-center border border-blue-600 text-blue-600 bg-blue-50 hover:opacity-80",onClick:m,children:[s.jsx(V.PlusSquare,{className:" w-4 h-auto mr-1"}),s.jsx("span",{children:r("common.confirm")})]})})]})]})]})};function lu(){Ie({className:"resources-selector-dialog",dialogName:"resources-selector-dialog"},iu,{})}const mo=["- [ ] ","- [x] ","- [X] ","* ","- "],cu=/^(\d+)\. $/,ho=["[]","()",'""',"''","{}","``","","","","",""],du=()=>Er(["editorContentCache"]).editorContentCache??"",ir=t=>{Rs({editorContentCache:t})},uu=t=>{Rs({editingMemoVisibilityCache:t})},mu=()=>{const{t,i18n:e}=de(),r=Te(),o=Rr(),a=ze(),n=qe(),l=rs(),p=os(),[i,u]=g.useState({isUploadingResource:!1,fullscreen:!1,isRequesting:!1}),[c,m]=g.useState(!1),d=o.state,h=g.useRef(d),f=g.useRef(null),v=g.useRef(null),x=r.state.user,$=x.setting,C=x.localSetting,k=l.state.tags,b=Ir.map(T=>({value:T.value,text:t(`memo.visibility.${nn(T.value)}`)}));g.useEffect(()=>{const{editingMemoIdCache:T,editingMemoVisibilityCache:K}=Er(["editingMemoIdCache","editingMemoVisibilityCache"]);T&&o.setEditMemoWithId(T),K?o.setMemoVisibility(K):o.setMemoVisibility($.memoVisibility)},[]),g.useEffect(()=>{d.editMemoId?(n.getMemoById(d.editMemoId??cs).then(T=>{var K;T&&(re(),o.setMemoVisibility(T.visibility),o.setResourceList(T.resourceList),(K=f.current)==null||K.setContent(T.content??""))}),Rs({editingMemoIdCache:d.editMemoId})):Ks(["editingMemoIdCache"]),h.current=d},[d.editMemoId]);const w=T=>{if(!f.current)return;const K=T.ctrlKey||T.metaKey,q=T.shiftKey;if(!q&&K){if(T.key==="Enter"){N();return}if(T.key==="b"){T.preventDefault(),f.current.insertText("","**","**");return}if(T.key==="i"){T.preventDefault(),f.current.insertText("","*","*");return}if(T.key==="e"){T.preventDefault(),f.current.insertText("","`","`");return}if(T.key==="k"){T.preventDefault();const G=f.current.getSelectedContent();if(f.current.insertText("","[","](url)"),G){const se=f.current.getCursorPosition()+2,Z=se+3;f.current.setCursorPosition(se,Z)}}}if(!q&&T.key==="Enter"){const G=f.current.getCursorPosition(),se=f.current.getContent().slice(0,G),Z=ya(se.split(`
`));if(Z)if(mo.includes(Z)||cu.test(Z))T.preventDefault(),f.current.removeText(G-Z.length,Z.length);else{let Q=!1;for(const pe of mo)if(Z.startsWith(pe)){T.preventDefault(),f.current.insertText("",`
${pe}`),Q=!0;break}if(!Q){const pe=/^(\d+)\. /.exec(Z);if(pe){const ae=parseInt(pe[1]);Uc(ae)&&(T.preventDefault(),f.current.insertText("",`
${ae+1}. `))}}}return}if(!q&&T.key==="Escape"){i.fullscreen&&A();return}if(T.key==="Tab"){T.preventDefault();const G=" ".repeat(ds),se=f.current.getCursorPosition(),Z=f.current.getSelectedContent();if(q){const Q=f.current.getContent().slice(0,se);for(let pe=Q.length-1;pe>=0;pe--){if(Q[pe]!==`
`)continue;const ae=pe+1,he=Q.substring(ae,pe+ds+1)===G,W=Q.substring(ae,pe+2)===" ";if(!he&&!W)break;const Ve=he?ds:1;f.current.removeText(ae,Ve);const oe=se-Ve;let Pe=oe;Z&&(Pe+=Z.length),f.current.setCursorPosition(oe,Pe)}return}else{f.current.insertText(G),Z&&f.current.setCursorPosition(se+ds);return}}if(C.enablePowerfulEditor){for(const G of ho)if(T.key===G[0]){T.preventDefault(),f.current.insertText("",G[0],G[1]);return}if(T.key==="Backspace"){const G=f.current.getCursorPosition(),se=f.current.getContent(),Z=se==null?void 0:se.slice(G-1,G),Q=se==null?void 0:se.slice(G,G+1);ho.includes(`${Z}${Q}`)&&(T.preventDefault(),f.current.removeText(G-1,2));return}}},_=async T=>{const K=[];for(const q of T){const G=await F(q);G&&(K.push(G),d.editMemoId&&await la(d.editMemoId,G.id))}if(K.length>0){const q=o.getState().resourceList;o.setResourceList([...q,...K])}},z=async T=>{T.dataTransfer&&T.dataTransfer.files.length>0&&(T.preventDefault(),await _(T.dataTransfer.files))},D=async T=>{T.clipboardData&&T.clipboardData.files.length>0&&(T.preventDefault(),await _(T.clipboardData.files))},F=async T=>{u(q=>({...q,isUploadingResource:!0}));let K;try{K=await p.createResourceWithBlob(T)}catch(q){console.error(q),Y.error(q.response.data.message)}return u(q=>({...q,isUploadingResource:!1})),K},L=g.useCallback(()=>{if(d.editMemoId){const T=document.getElementsByClassName(`memos-${d.editMemoId}`);T.length!==0&&T[0].scrollIntoView({behavior:"smooth"})}},[d.editMemoId]),N=async()=>{var G,se;if(i.isRequesting)return;u(Z=>({...Z,isRequesting:!0}));const T=((G=f.current)==null?void 0:G.getContent())??"";try{const{editMemoId:Z}=o.getState();if(Z&&Z!==cs){const Q=await n.getMemoById(Z??cs);Q&&await n.patchMemo({id:Q.id,content:T,visibility:d.memoVisibility,resourceIdList:d.resourceList.map(pe=>pe.id)}),o.clearEditMemo()}else await n.createMemo({content:T,visibility:d.memoVisibility,resourceIdList:d.resourceList.map(Q=>Q.id)}),a.clearQuery()}catch(Z){console.error(Z),Y.error(Z.response.data.message)}u(Z=>({...Z,isRequesting:!1}));const K=Ca(T),q=Jc(K.filter(Z=>Z.parserName==="tag").map(Z=>Z.matchedContent.slice(1)));for(const Z of q)await l.upsertTag(Z);u(Z=>({...Z,fullscreen:!1})),o.clearResourceList(),ir(""),Ks(["editingMemoVisibilityCache"]),(se=f.current)==null||se.setContent(""),L()},S=()=>{var T;d.editMemoId&&(o.clearEditMemo(),o.clearResourceList(),(T=f.current)==null||T.setContent(""),ir(""),Ks(["editingMemoVisibilityCache"])),L()},O=T=>{m(T!==""),ir(T)},P=()=>{var q,G;if(!f.current)return;const T=f.current.getCursorPosition(),K=f.current.getContent().slice(0,T);K===""||K.endsWith(`
`)?(q=f.current)==null||q.insertText("","- [ ] "):(G=f.current)==null||G.insertText("",`
- [ ] `)},E=()=>{var q,G;if(!f.current)return;const T=f.current.getCursorPosition(),K=f.current.getContent().slice(0,T);K===""||K.endsWith(`
`)?(q=f.current)==null||q.insertText("","```\n","\n```"):(G=f.current)==null||G.insertText("","\n```\n","\n```")},I=()=>{dn({onConfirm:T=>{o.setResourceList([...d.resourceList,...T])}})},A=()=>{u(T=>({...T,fullscreen:!T.fullscreen}))},B=g.useCallback(T=>{var K,q;v.current!==T.target&&((K=v.current)!=null&&K.contains(T.target))&&((q=f.current)==null||q.insertText(`#${T.target.textContent} `??""),re())},[]),M=async T=>{o.setResourceList(d.resourceList.filter(K=>K.id!==T)),d.editMemoId&&await ia(d.editMemoId,T)},U=async T=>{const K=T;o.setMemoVisibility(K),uu(K)},re=()=>{var T;(T=f.current)==null||T.focus()},te=()=>{},ie=Boolean(d.editMemoId&&d.editMemoId!==cs),ge=g.useMemo(()=>({className:"memo-editor",initialContent:du(),placeholder:t("editor.placeholder"),fullscreen:i.fullscreen,onContentChange:O,onPaste:D}),[i.fullscreen,e.language]);return s.jsxs("div",{className:`memo-editor-container ${ie?"edit-ing":""} ${i.fullscreen?"fullscreen":""}`,tabIndex:0,onKeyDown:w,onDrop:z,onFocus:re,onBlur:te,children:[s.jsx(nu,{ref:f,...ge}),s.jsx("div",{className:"common-tools-wrapper",children:s.jsxs("div",{className:"common-tools-container",children:[s.jsxs("div",{className:"action-btn tag-action",children:[s.jsx(V.Hash,{className:"icon-img"}),s.jsx("div",{ref:v,className:"tag-list",onClick:B,children:k.length>0?k.map(T=>s.jsx("span",{className:"item-container",children:T},T)):s.jsx("p",{className:"tip-text italic",onClick:T=>T.stopPropagation(),children:"No tags found"})})]}),s.jsx("button",{className:"action-btn",children:s.jsx(V.CheckSquare,{className:"icon-img",onClick:P})}),s.jsx("button",{className:"action-btn",children:s.jsx(V.Code,{className:"icon-img",onClick:E})}),s.jsxs("div",{className:"action-btn resource-btn",children:[s.jsx(V.FileText,{className:"icon-img"}),s.jsxs("div",{className:"resource-action-list",children:[s.jsxs("div",{className:"resource-action-item",onClick:I,children:[s.jsx(V.Plus,{className:"icon-img"}),s.jsx("span",{children:t("common.create")})]}),s.jsxs("div",{className:"resource-action-item",onClick:lu,children:[s.jsx(V.Database,{className:"icon-img"}),s.jsx("span",{children:t("editor.resources")})]})]})]}),s.jsx("button",{className:"action-btn",onClick:A,children:i.fullscreen?s.jsx(V.Minimize,{className:"icon-img"}):s.jsx(V.Maximize,{className:"icon-img"})})]})}),d.resourceList&&d.resourceList.length>0&&s.jsx("div",{className:"resource-list-wrapper",children:d.resourceList.map(T=>s.jsxs("div",{className:"resource-container",children:[s.jsx(au,{resourceType:"resource.type",className:"icon-img"}),s.jsx("span",{className:"name-text",children:T.filename}),s.jsx(V.X,{className:"close-icon",onClick:()=>M(T.id)})]},T.id))}),s.jsxs("div",{className:"editor-footer-container",children:[s.jsx(Xt,{className:"visibility-selector",value:d.memoVisibility,dataSource:b,handleValueChanged:U}),s.jsxs("div",{className:"buttons-container",children:[s.jsx("button",{className:`action-btn cancel-btn ${ie?"":"!hidden"}`,onClick:S,children:t("editor.cancel-edit")}),s.jsxs("button",{className:"action-btn confirm-btn",disabled:!(c||d.resourceList.length>0)||i.isUploadingResource||i.isRequesting,onClick:N,children:[t("editor.save"),s.jsx("img",{className:"icon-img w-4 h-auto",src:"/logo.png"})]})]})]})]})};const hu=()=>{const{t}=de(),e=ze(),r=Ft(),o=e.state.query,{tag:a,duration:n,type:l,text:p,shortcutId:i,visibility:u}=o,c=i?r.getShortcutById(i):null,m=Boolean(a||n&&n.from<n.to||l||p||c||u);return s.jsxs("div",{className:`filter-query-container ${m?"":"!hidden"}`,children:[s.jsxs("span",{className:"mx-2 text-gray-400",children:[t("common.filter"),":"]}),s.jsxs("div",{className:"filter-item-container "+(c?"":"!hidden"),onClick:()=>{e.setMemoShortcut(void 0)},children:[s.jsx(V.Target,{className:"icon-text"})," ",c==null?void 0:c.title]}),s.jsxs("div",{className:"filter-item-container "+(a?"":"!hidden"),onClick:()=>{e.setTagQuery(void 0)},children:[s.jsx(V.Tag,{className:"icon-text"})," ",a]}),s.jsxs("div",{className:"filter-item-container "+(l?"":"!hidden"),onClick:()=>{e.setMemoTypeQuery(void 0)},children:[s.jsx(V.Box,{className:"icon-text"})," ",t(Vd(l))]}),s.jsxs("div",{className:"filter-item-container "+(u?"":"!hidden"),onClick:()=>{e.setMemoVisibilityQuery(void 0)},children:[s.jsx(V.Eye,{className:"icon-text"})," ",u]}),n&&n.from<n.to?s.jsxs("div",{className:"filter-item-container",onClick:()=>{e.setFromAndToQuery()},children:[s.jsx(V.Calendar,{className:"icon-text"})," ",vr(n.from)," to ",vr(n.to)]}):null,s.jsxs("div",{className:"filter-item-container "+(p?"":"!hidden"),onClick:()=>{e.setTextQuery(void 0)},children:[s.jsx(V.Search,{className:"icon-text"})," ",p]})]})};var pu=Object.defineProperty,Ts=Object.getOwnPropertySymbols,hn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,po=(t,e,r)=>e in t?pu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fu=(t,e)=>{for(var r in e||(e={}))hn.call(e,r)&&po(t,r,e[r]);if(Ts)for(var r of Ts(e))pn.call(e,r)&&po(t,r,e[r]);return t},gu=(t,e)=>{var r={};for(var o in t)hn.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&Ts)for(var o of Ts(t))e.indexOf(o)<0&&pn.call(t,o)&&(r[o]=t[o]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var It;(t=>{const e=class{constructor(i,u,c,m){if(this.version=i,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],i<e.MIN_VERSION||i>e.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=i*4+17;let d=[];for(let f=0;f<this.size;f++)d.push(!1);for(let f=0;f<this.size;f++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(c);if(this.drawCodewords(h),m==-1){let f=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const x=this.getPenaltyScore();x<f&&(m=v,f=x),this.applyMask(v)}}n(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(i,u){const c=t.QrSegment.makeSegments(i);return e.encodeSegments(c,u)}static encodeBinary(i,u){const c=t.QrSegment.makeBytes(i);return e.encodeSegments([c],u)}static encodeSegments(i,u,c=1,m=40,d=-1,h=!0){if(!(e.MIN_VERSION<=c&&c<=m&&m<=e.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");let f,v;for(f=c;;f++){const k=e.getNumDataCodewords(f,u)*8,b=p.getTotalBits(i,f);if(b<=k){v=b;break}if(f>=m)throw new RangeError("Data too long")}for(const k of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])h&&v<=e.getNumDataCodewords(f,k)*8&&(u=k);let x=[];for(const k of i){o(k.mode.modeBits,4,x),o(k.numChars,k.mode.numCharCountBits(f),x);for(const b of k.getData())x.push(b)}n(x.length==v);const $=e.getNumDataCodewords(f,u)*8;n(x.length<=$),o(0,Math.min(4,$-x.length),x),o(0,(8-x.length%8)%8,x),n(x.length%8==0);for(let k=236;x.length<$;k^=253)o(k,8,x);let C=[];for(;C.length*8<x.length;)C.push(0);return x.forEach((k,b)=>C[b>>>3]|=k<<7-(b&7)),new e(f,u,C,d)}getModule(i,u){return 0<=i&&i<this.size&&0<=u&&u<this.size&&this.modules[u][i]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const i=this.getAlignmentPatternPositions(),u=i.length;for(let c=0;c<u;c++)for(let m=0;m<u;m++)c==0&&m==0||c==0&&m==u-1||c==u-1&&m==0||this.drawAlignmentPattern(i[c],i[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(i){const u=this.errorCorrectionLevel.formatBits<<3|i;let c=u;for(let d=0;d<10;d++)c=c<<1^(c>>>9)*1335;const m=(u<<10|c)^21522;n(m>>>15==0);for(let d=0;d<=5;d++)this.setFunctionModule(8,d,a(m,d));this.setFunctionModule(8,7,a(m,6)),this.setFunctionModule(8,8,a(m,7)),this.setFunctionModule(7,8,a(m,8));for(let d=9;d<15;d++)this.setFunctionModule(14-d,8,a(m,d));for(let d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,a(m,d));for(let d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,a(m,d));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let i=this.version;for(let c=0;c<12;c++)i=i<<1^(i>>>11)*7973;const u=this.version<<12|i;n(u>>>18==0);for(let c=0;c<18;c++){const m=a(u,c),d=this.size-11+c%3,h=Math.floor(c/3);this.setFunctionModule(d,h,m),this.setFunctionModule(h,d,m)}}drawFinderPattern(i,u){for(let c=-4;c<=4;c++)for(let m=-4;m<=4;m++){const d=Math.max(Math.abs(m),Math.abs(c)),h=i+m,f=u+c;0<=h&&h<this.size&&0<=f&&f<this.size&&this.setFunctionModule(h,f,d!=2&&d!=4)}}drawAlignmentPattern(i,u){for(let c=-2;c<=2;c++)for(let m=-2;m<=2;m++)this.setFunctionModule(i+m,u+c,Math.max(Math.abs(m),Math.abs(c))!=1)}setFunctionModule(i,u,c){this.modules[u][i]=c,this.isFunction[u][i]=!0}addEccAndInterleave(i){const u=this.version,c=this.errorCorrectionLevel;if(i.length!=e.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const m=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],d=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],h=Math.floor(e.getNumRawDataModules(u)/8),f=m-h%m,v=Math.floor(h/m);let x=[];const $=e.reedSolomonComputeDivisor(d);for(let k=0,b=0;k<m;k++){let w=i.slice(b,b+v-d+(k<f?0:1));b+=w.length;const _=e.reedSolomonComputeRemainder(w,$);k<f&&w.push(0),x.push(w.concat(_))}let C=[];for(let k=0;k<x[0].length;k++)x.forEach((b,w)=>{(k!=v-d||w>=f)&&C.push(b[k])});return n(C.length==h),C}drawCodewords(i){if(i.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let m=0;m<this.size;m++)for(let d=0;d<2;d++){const h=c-d,v=(c+1&2)==0?this.size-1-m:m;!this.isFunction[v][h]&&u<i.length*8&&(this.modules[v][h]=a(i[u>>>3],7-(u&7)),u++)}}n(u==i.length*8)}applyMask(i){if(i<0||i>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let m;switch(i){case 0:m=(c+u)%2==0;break;case 1:m=u%2==0;break;case 2:m=c%3==0;break;case 3:m=(c+u)%3==0;break;case 4:m=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:m=c*u%2+c*u%3==0;break;case 6:m=(c*u%2+c*u%3)%2==0;break;case 7:m=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&m&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let i=0;for(let d=0;d<this.size;d++){let h=!1,f=0,v=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[d][x]==h?(f++,f==5?i+=e.PENALTY_N1:f>5&&i++):(this.finderPenaltyAddHistory(f,v),h||(i+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),h=this.modules[d][x],f=1);i+=this.finderPenaltyTerminateAndCount(h,f,v)*e.PENALTY_N3}for(let d=0;d<this.size;d++){let h=!1,f=0,v=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][d]==h?(f++,f==5?i+=e.PENALTY_N1:f>5&&i++):(this.finderPenaltyAddHistory(f,v),h||(i+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),h=this.modules[x][d],f=1);i+=this.finderPenaltyTerminateAndCount(h,f,v)*e.PENALTY_N3}for(let d=0;d<this.size-1;d++)for(let h=0;h<this.size-1;h++){const f=this.modules[d][h];f==this.modules[d][h+1]&&f==this.modules[d+1][h]&&f==this.modules[d+1][h+1]&&(i+=e.PENALTY_N2)}let u=0;for(const d of this.modules)u=d.reduce((h,f)=>h+(f?1:0),u);const c=this.size*this.size,m=Math.ceil(Math.abs(u*20-c*10)/c)-1;return n(0<=m&&m<=9),i+=m*e.PENALTY_N4,n(0<=i&&i<=2568888),i}getAlignmentPatternPositions(){if(this.version==1)return[];{const i=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(i*2-2))*2;let c=[6];for(let m=this.size-7;c.length<i;m-=u)c.splice(1,0,m);return c}}static getNumRawDataModules(i){if(i<e.MIN_VERSION||i>e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*i+128)*i+64;if(i>=2){const c=Math.floor(i/7)+2;u-=(25*c-10)*c-55,i>=7&&(u-=36)}return n(208<=u&&u<=29648),u}static getNumDataCodewords(i,u){return Math.floor(e.getNumRawDataModules(i)/8)-e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][i]*e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][i]}static reedSolomonComputeDivisor(i){if(i<1||i>255)throw new RangeError("Degree out of range");let u=[];for(let m=0;m<i-1;m++)u.push(0);u.push(1);let c=1;for(let m=0;m<i;m++){for(let d=0;d<u.length;d++)u[d]=e.reedSolomonMultiply(u[d],c),d+1<u.length&&(u[d]^=u[d+1]);c=e.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(i,u){let c=u.map(m=>0);for(const m of i){const d=m^c.shift();c.push(0),u.forEach((h,f)=>c[f]^=e.reedSolomonMultiply(h,d))}return c}static reedSolomonMultiply(i,u){if(i>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let m=7;m>=0;m--)c=c<<1^(c>>>7)*285,c^=(u>>>m&1)*i;return n(c>>>8==0),c}finderPenaltyCountPatterns(i){const u=i[1];n(u<=this.size*3);const c=u>0&&i[2]==u&&i[3]==u*3&&i[4]==u&&i[5]==u;return(c&&i[0]>=u*4&&i[6]>=u?1:0)+(c&&i[6]>=u*4&&i[0]>=u?1:0)}finderPenaltyTerminateAndCount(i,u,c){return i&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(i,u){u[0]==0&&(i+=this.size),u.pop(),u.unshift(i)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function o(i,u,c){if(u<0||u>31||i>>>u)throw new RangeError("Value out of range");for(let m=u-1;m>=0;m--)c.push(i>>>m&1)}function a(i,u){return(i>>>u&1)!=0}function n(i){if(!i)throw new Error("Assertion error")}const l=class{constructor(i,u,c){if(this.mode=i,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(i){let u=[];for(const c of i)o(c,8,u);return new l(l.Mode.BYTE,i.length,u)}static makeNumeric(i){if(!l.isNumeric(i))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<i.length;){const m=Math.min(i.length-c,3);o(parseInt(i.substr(c,m),10),m*3+1,u),c+=m}return new l(l.Mode.NUMERIC,i.length,u)}static makeAlphanumeric(i){if(!l.isAlphanumeric(i))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=i.length;c+=2){let m=l.ALPHANUMERIC_CHARSET.indexOf(i.charAt(c))*45;m+=l.ALPHANUMERIC_CHARSET.indexOf(i.charAt(c+1)),o(m,11,u)}return c<i.length&&o(l.ALPHANUMERIC_CHARSET.indexOf(i.charAt(c)),6,u),new l(l.Mode.ALPHANUMERIC,i.length,u)}static makeSegments(i){return i==""?[]:l.isNumeric(i)?[l.makeNumeric(i)]:l.isAlphanumeric(i)?[l.makeAlphanumeric(i)]:[l.makeBytes(l.toUtf8ByteArray(i))]}static makeEci(i){let u=[];if(i<0)throw new RangeError("ECI assignment value out of range");if(i<1<<7)o(i,8,u);else if(i<1<<14)o(2,2,u),o(i,14,u);else if(i<1e6)o(6,3,u),o(i,21,u);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,u)}static isNumeric(i){return l.NUMERIC_REGEX.test(i)}static isAlphanumeric(i){return l.ALPHANUMERIC_REGEX.test(i)}getData(){return this.bitData.slice()}static getTotalBits(i,u){let c=0;for(const m of i){const d=m.mode.numCharCountBits(u);if(m.numChars>=1<<d)return 1/0;c+=4+d+m.bitData.length}return c}static toUtf8ByteArray(i){i=encodeURI(i);let u=[];for(let c=0;c<i.length;c++)i.charAt(c)!="%"?u.push(i.charCodeAt(c)):(u.push(parseInt(i.substr(c+1,2),16)),c+=2);return u}};let p=l;p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=p})(It||(It={}));(t=>{(e=>{const r=class{constructor(a,n){this.ordinal=a,this.formatBits=n}};let o=r;o.LOW=new r(0,1),o.MEDIUM=new r(1,0),o.QUARTILE=new r(2,3),o.HIGH=new r(3,2),e.Ecc=o})(t.QrCode||(t.QrCode={}))})(It||(It={}));(t=>{(e=>{const r=class{constructor(a,n){this.modeBits=a,this.numBitsCharCount=n}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let o=r;o.NUMERIC=new r(1,[10,12,14]),o.ALPHANUMERIC=new r(2,[9,11,13]),o.BYTE=new r(4,[8,16,16]),o.KANJI=new r(8,[8,10,12]),o.ECI=new r(7,[0,0,0]),e.Mode=o})(t.QrSegment||(t.QrSegment={}))})(It||(It={}));var Yt=It;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vu={L:Yt.QrCode.Ecc.LOW,M:Yt.QrCode.Ecc.MEDIUM,Q:Yt.QrCode.Ecc.QUARTILE,H:Yt.QrCode.Ecc.HIGH},xu=128,bu="L",yu="#FFFFFF",Cu="#000000",Nu=!1,fn=4,Su=.1;function wu(t,e=0){const r=[];return t.forEach(function(o,a){let n=null;o.forEach(function(l,p){if(!l&&n!==null){r.push(`M${n+e} ${a+e}h${p-n}v1H${n+e}z`),n=null;return}if(p===o.length-1){if(!l)return;n===null?r.push(`M${p+e},${a+e} h1v1H${p+e}z`):r.push(`M${n+e},${a+e} h${p+1-n}v1H${n+e}z`);return}l&&n===null&&(n=p)})}),r.join("")}function Iu(t,e){return t.slice().map((r,o)=>o<e.y||o>=e.y+e.h?r:r.map((a,n)=>n<e.x||n>=e.x+e.w?a:!1))}function ju(t,e,r,o){if(o==null)return null;const a=r?fn:0,n=t.length+a*2,l=Math.floor(e*Su),p=n/e,i=(o.width||l)*p,u=(o.height||l)*p,c=o.x==null?t.length/2-i/2:o.x*p,m=o.y==null?t.length/2-u/2:o.y*p;let d=null;if(o.excavate){let h=Math.floor(c),f=Math.floor(m),v=Math.ceil(i+c-h),x=Math.ceil(u+m-f);d={x:h,y:f,w:v,h:x}}return{x:c,y:m,h:u,w:i,excavation:d}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function Eu(t){const e=t,{value:r,size:o=xu,level:a=bu,bgColor:n=yu,fgColor:l=Cu,includeMargin:p=Nu,imageSettings:i}=e,u=gu(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let c=Yt.QrCode.encodeText(r,vu[a]).getModules();const m=p?fn:0,d=c.length+m*2,h=ju(c,o,p,i);let f=null;i!=null&&h!=null&&(h.excavation!=null&&(c=Iu(c,h.excavation)),f=us.createElement("image",{xlinkHref:i.src,height:h.h,width:h.w,x:h.x+m,y:h.y+m,preserveAspectRatio:"none"}));const v=wu(c,m);return us.createElement("svg",fu({height:o,width:o,viewBox:`0 0 ${d} ${d}`},u),us.createElement("path",{fill:n,d:`M0,0 h${d}v${d}H0z`,shapeRendering:"crispEdges"}),us.createElement("path",{fill:l,d:v,shapeRendering:"crispEdges"}),f)}const Tu=t=>{const{memo:e,destroy:r}=t,{t:o}=de(),a=Te(),n=qe(),l=Et(),p=a.state.user,{systemStatus:i}=l.state,[u,c]=g.useState({memoAmount:0,memoVisibility:e.visibility,generatedImgUrl:""}),m=zt(),d=g.useRef(null),h={...e,createdAtStr:xr(e.displayTs)},f=Math.ceil((Date.now()-Oe(p.createdTs))/1e3/3600/24);g.useEffect(()=>{jr(p.id).then(({data:{data:b}})=>{c(w=>({...w,memoAmount:b.length})),m.setFinish()}).catch(b=>{console.error(b)})},[]),g.useEffect(()=>{m.isLoading||d.current&&cn(d.current,{pixelRatio:window.devicePixelRatio*2}).then(b=>{c(w=>({...w,generatedImgUrl:b}))}).catch(b=>{console.error(b)})},[m.isLoading]);const v=()=>{r()},x=()=>{const b=document.createElement("a");b.href=u.generatedImgUrl,b.download=`memos-${xr(Date.now())}.png`,b.click()},$=()=>{As(`${window.location.origin}/m/${h.id}`),Y.success(o("message.succeed-copy-link"))},C=Ir.map(b=>({value:b.value,text:o(`memo.visibility.${nn(b.value)}`)})),k=async b=>{const w=b;c({...u,memoVisibility:w}),await n.patchMemo({id:h.id,visibility:w})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsxs("p",{className:"title-text",children:[o("common.share")," Memo"]}),s.jsx("button",{className:"btn close-btn",onClick:v,children:s.jsx(V.X,{className:"icon-img"})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsxs("div",{className:"memo-container",ref:d,children:[u.generatedImgUrl!==""&&s.jsx("img",{className:"memo-shortcut-img",src:u.generatedImgUrl}),s.jsx("span",{className:"time-text",children:h.createdAtStr}),s.jsxs("div",{className:"memo-content-wrapper",children:[s.jsx(Ds,{content:h.content,displayConfig:{enableExpand:!1}}),s.jsx(Ps,{resourceList:h.resourceList})]}),s.jsxs("div",{className:"watermark-container",children:[s.jsx("div",{className:"logo-container",children:s.jsx("img",{className:"logo-img",src:`${i.customizedProfile.logoUrl||"/logo.png"}`,alt:""})}),s.jsxs("div",{className:"userinfo-container",children:[s.jsx("span",{className:"name-text",children:p.nickname||p.username}),s.jsxs("span",{className:"usage-text",children:[u.memoAmount," MEMOS / ",f," DAYS"]})]}),s.jsx(Eu,{value:`${window.location.origin}/m/${h.id}`,size:64,bgColor:"#F3F4F6",fgColor:"#4B5563",level:"L",includeMargin:!1})]})]}),s.jsxs("div",{className:"px-4 py-3 w-full flex flex-row justify-between items-center",children:[s.jsx(Is,{className:"!min-w-[10rem] w-auto text-sm",value:u.memoVisibility,onChange:(b,w)=>{w&&k(w)},children:C.map(b=>s.jsx(Zt,{value:b.value,className:"whitespace-nowrap",children:b.text},b.value))}),s.jsxs("div",{className:"flex flex-row justify-end items-center",children:[s.jsxs("button",{disabled:u.generatedImgUrl==="",className:"btn-normal mr-2",onClick:x,children:[u.generatedImgUrl===""?s.jsx(V.Loader,{className:"w-4 h-auto mr-1 animate-spin"}):s.jsx(V.Download,{className:"w-4 h-auto mr-1"}),s.jsx("span",{children:o("common.image")})]}),s.jsxs("button",{className:"btn-normal",onClick:$,children:[s.jsx(V.Link,{className:"w-4 h-auto mr-1"}),s.jsx("span",{children:o("common.link")})]})]})]})]})]})};function ku(t){Ie({className:"share-memo-dialog",dialogName:"share-memo-dialog"},Tu,{memo:t})}const $u=t=>{const{memoId:e,destroy:r}=t,o=()=>`<iframe style="width:100%;height:auto;min-width:256px;" src="${window.location.origin}/m/${e}/embed" frameBorder="0"></iframe>`,a=()=>{As(o()),Y.success("Succeed to copy code to clipboard.")};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:"Embed Memo"}),s.jsx("button",{className:"btn close-btn",onClick:()=>r(),children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container !w-80",children:[s.jsx("p",{className:"text-base leading-6 mb-2",children:"Copy and paste the below codes into your blog or website."}),s.jsx("pre",{className:"w-full font-mono text-sm p-3 border rounded-lg",children:s.jsx("code",{className:"w-full break-all whitespace-pre-wrap",children:o()})}),s.jsxs("p",{className:"w-full text-sm leading-6 flex flex-row justify-between items-center mt-2",children:[s.jsx("span",{className:"italic opacity-80",children:"* Only the public memo supports."}),s.jsx("span",{className:"btn-primary",onClick:a,children:"Copy"})]})]})]})};function Ru(t){Ie({className:"embed-memo-dialog",dialogName:"embed-memo-dialog"},$u,{memoId:t})}const Du=t=>{const{t:e}=de(),{destroy:r,memoId:o}=t,a=qe(),[n,l]=g.useState(""),p=rt().format("YYYY-MM-DDTHH:mm");g.useEffect(()=>{a.getMemoById(o).then(m=>{if(m){const d=rt(m.createdTs).format("YYYY-MM-DDTHH:mm");l(d)}else Y.error(e("message.memo-not-found")),r()})},[]);const i=()=>{r()},u=m=>{const d=m.target.value;l(d)},c=async()=>{const m=rt().unix(),d=rt(n).unix();if(d>m){Y.error(e("message.invalid-created-datetime"));return}try{await a.patchMemo({id:o,createdTs:d}),Y.info(e("message.memo-updated-datetime")),i()}catch(h){console.error(h),Y.error(h.response.data.message)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dialog-header-container",children:[s.jsx("p",{className:"title-text",children:e("message.change-memo-created-time")}),s.jsx("button",{className:"btn close-btn",onClick:i,children:s.jsx(V.X,{})})]}),s.jsxs("div",{className:"dialog-content-container",children:[s.jsx("p",{className:"w-full bg-yellow-100 border border-yellow-400 rounded p-2 text-xs leading-4",children:"THIS IS NOT A NORMAL BEHAVIOR. PLEASE MAKE SURE YOU REALLY NEED IT."}),s.jsx("input",{className:"input-text mt-2",type:"datetime-local",value:n,max:p,onChange:u}),s.jsxs("div",{className:"btns-container",children:[s.jsx("span",{className:"btn-text",onClick:i,children:e("common.cancel")}),s.jsx("span",{className:"btn-primary",onClick:c,children:e("common.save")})]})]})]})};function Pu(t){Ie({className:"change-memo-created-ts-dialog",dialogName:"change-memo-created-ts-dialog"},Du,{memoId:t})}const fo=(t,e="en")=>Date.now()-t<1e3*60*60*24?rt(t).locale(e).fromNow():rt(t).locale(e).format("YYYY/MM/DD HH:mm:ss"),Lu=t=>{const{memo:e}=t,{t:r,i18n:o}=de(),a=ca(),n=Rr(),l=ze(),p=Te(),i=qe(),[u,c]=g.useState(fo(e.displayTs,o.language)),m=g.useRef(null),d=p.isVisitorMode();g.useEffect(()=>{let D=-1;return Date.now()-e.displayTs<1e3*60*60*24&&(D=setInterval(()=>{c(fo(e.displayTs,o.language))},1e3*1)),()=>{clearInterval(D)}},[o.language]);const h=()=>{a(`/m/${e.id}`)},f=()=>{Ru(e.id)},v=()=>{As(e.content),Y.success(r("message.succeed-copy-content"))},x=async()=>{try{e.pinned?await i.unpinMemo(e.id):await i.pinMemo(e.id)}catch{}},$=()=>{n.setEditMemoWithId(e.id)},C=async()=>{try{await i.patchMemo({id:e.id,rowStatus:"ARCHIVED"})}catch(D){console.error(D),Y.error(D.response.data.message)}n.getState().editMemoId===e.id&&n.clearEditMemo()},k=()=>{ku(e)},b=async D=>{var L,N,S;const F=D.target;if(F.className==="tag-span"){const O=F.innerText.slice(1);((L=l.getState().query)==null?void 0:L.tag)===O?l.setTagQuery(void 0):l.setTagQuery(O)}else if(F.classList.contains("todo-block")){if(p.isVisitorMode())return;const O=(N=F.dataset)==null?void 0:N.value,P=[...((S=m.current)==null?void 0:S.querySelectorAll(`span.todo-block[data-value=${O}]`))??[]];for(const E of P)if(E===F){const I=P.indexOf(E),A=e.content.split(O==="DONE"?/- \[x\] /:/- \[ \] /);let B="";for(let M=0;M<A.length;M++)M===0?B+=`${A[M]}`:(M===I+1?B+=O==="DONE"?"- [ ] ":"- [x] ":B+=O==="DONE"?"- [x] ":"- [ ] ",B+=`${A[M]}`);await i.patchMemo({id:e.id,content:B})}}else if(F.tagName==="IMG"){const O=F.getAttribute("src");O&&Ls([O],0)}},w=D=>{const F=D.target;F.className!=="tag-span"&&(F.classList.contains("todo-block")||n.setEditMemoWithId(e.id))},_=()=>{Pu(e.id)},z=D=>{var L;((L=l.getState().query)==null?void 0:L.visibility)===D?l.setMemoVisibilityQuery(void 0):l.setMemoVisibilityQuery(D)};return s.jsxs("div",{className:`memo-wrapper ${"memos-"+e.id} ${e.pinned?"pinned":""}`,ref:m,children:[e.pinned&&s.jsx("div",{className:"corner-container"}),s.jsxs("div",{className:"memo-top-wrapper",children:[s.jsxs("div",{className:"status-text-container",children:[s.jsx("span",{className:"time-text",onDoubleClick:_,children:u}),e.visibility!=="PRIVATE"&&!d&&s.jsx("span",{className:`status-text ${e.visibility.toLocaleLowerCase()}`,onClick:()=>z(e.visibility),children:e.visibility})]}),!d&&s.jsxs("div",{className:"btns-container",children:[s.jsx("span",{className:"btn more-action-btn",children:s.jsx(V.MoreHorizontal,{className:"icon-img"})}),s.jsx("div",{className:"more-action-btns-wrapper",children:s.jsxs("div",{className:"more-action-btns-container",children:[s.jsxs("div",{className:"btns-container",children:[s.jsxs("div",{className:"btn",onClick:x,children:[s.jsx(V.Flag,{className:`icon-img ${e.pinned?"text-green-600":""}`}),s.jsx("span",{className:"tip-text",children:e.pinned?r("common.unpin"):r("common.pin")})]}),s.jsxs("div",{className:"btn",onClick:$,children:[s.jsx(V.Edit3,{className:"icon-img"}),s.jsx("span",{className:"tip-text",children:r("common.edit")})]}),s.jsxs("div",{className:"btn",onClick:k,children:[s.jsx(V.Share,{className:"icon-img"}),s.jsx("span",{className:"tip-text",children:r("common.share")})]})]}),s.jsx("span",{className:"btn",onClick:v,children:r("memo.copy")}),s.jsx("span",{className:"btn",onClick:h,children:r("memo.view-detail")}),s.jsx("span",{className:"btn",onClick:f,children:"Embed memo"}),s.jsx("span",{className:"btn archive-btn",onClick:C,children:r("common.archive")})]})})]})]}),s.jsx(Ds,{content:e.content,onMemoContentClick:b,onMemoContentDoubleClick:w}),s.jsx(Ps,{resourceList:e.resourceList})]})},Au=g.memo(Lu);const Ou=()=>{var F;const{t}=de(),e=Te(),r=qe(),o=Ft(),n=ze().state.query,l=(F=e.state.user)==null?void 0:F.setting.memoDisplayTsOption,{memos:p,isFetching:i}=r.state,[u,c]=g.useState(!1),{tag:m,duration:d,type:h,text:f,shortcutId:v,visibility:x}=n??{},$=v?o.getShortcutById(v):null,k=Boolean(m||d&&d.from<d.to||h||f||$||x)||$?p.filter(L=>{let N=!0;if($){const S=JSON.parse($.payload);Array.isArray(S)&&(N=Ud(L,S))}if(m){const S=new Set;for(const O of Array.from(L.content.match(new RegExp(Ot,"g"))??[])){const E=O.replace(Ot,"$1").trim().split("/");let I="";for(const A of E)I+=A,S.add(I),I+="/"}S.has(m)||(N=!1)}return d&&d.from<d.to&&(Oe(L.displayTs)<d.from||Oe(L.displayTs)>d.to)&&(N=!1),h&&(h==="NOT_TAGGED"&&L.content.match(Ot)!==null||h==="LINKED"&&L.content.match(Fo)===null)&&(N=!1),f&&!L.content.toLowerCase().includes(f.toLowerCase())&&(N=!1),x&&(N=L.visibility===x),N}):p,b=k.filter(L=>L.pinned),w=k.filter(L=>!L.pinned),_=(L,N)=>N.displayTs-L.displayTs;b.sort(_),w.sort(_);const z=b.concat(w).filter(L=>L.rowStatus==="NORMAL");g.useEffect(()=>{r.fetchMemos().then(L=>{L.length<ms?c(!0):c(!1)}).catch(L=>{console.error(L),Y.error(L.response.data.message)})},[l]),g.useEffect(()=>{const L=document.body.querySelector(".page-wrapper");L&&L.scrollTo(0,0)},[n]),g.useEffect(()=>{i||u||z.length<ms&&D()},[i,u,n,z.length]);const D=async()=>{try{(await r.fetchMemos(ms,p.length)).length<ms?c(!0):c(!1)}catch(L){console.error(L),Y.error(L.response.data.message)}};return s.jsxs("div",{className:"memo-list-container",children:[z.map(L=>s.jsx(Au,{memo:L},`${L.id}-${L.displayTs}`)),i?s.jsx("div",{className:"status-text-container fetching-tip",children:s.jsx("p",{className:"status-text",children:t("memo-list.fetching-data")})}):s.jsx("div",{className:"status-text-container",children:s.jsx("p",{className:"status-text",children:u?z.length===0?t("message.no-memos"):t("message.memos-ready"):s.jsx(s.Fragment,{children:s.jsx("span",{className:"cursor-pointer hover:text-green-600",onClick:D,children:t("memo-list.fetch-more")})})})})]})};var ft={},Mu={get exports(){return ft},set exports(t){ft=t}};const zu="2.0.0",_u=256,Fu=Number.MAX_SAFE_INTEGER||9007199254740991,Bu=16;var zs={SEMVER_SPEC_VERSION:zu,MAX_LENGTH:_u,MAX_SAFE_INTEGER:Fu,MAX_SAFE_COMPONENT_LENGTH:Bu};const Vu=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var _s=Vu;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=zs,o=_s;e=t.exports={};const a=e.re=[],n=e.src=[],l=e.t={};let p=0;const i=(u,c,m)=>{const d=p++;o(u,d,c),l[u]=d,n[d]=c,a[d]=new RegExp(c,m?"g":void 0)};i("NUMERICIDENTIFIER","0|[1-9]\\d*"),i("NUMERICIDENTIFIERLOOSE","[0-9]+"),i("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),i("MAINVERSION",`(${n[l.NUMERICIDENTIFIER]})\\.(${n[l.NUMERICIDENTIFIER]})\\.(${n[l.NUMERICIDENTIFIER]})`),i("MAINVERSIONLOOSE",`(${n[l.NUMERICIDENTIFIERLOOSE]})\\.(${n[l.NUMERICIDENTIFIERLOOSE]})\\.(${n[l.NUMERICIDENTIFIERLOOSE]})`),i("PRERELEASEIDENTIFIER",`(?:${n[l.NUMERICIDENTIFIER]}|${n[l.NONNUMERICIDENTIFIER]})`),i("PRERELEASEIDENTIFIERLOOSE",`(?:${n[l.NUMERICIDENTIFIERLOOSE]}|${n[l.NONNUMERICIDENTIFIER]})`),i("PRERELEASE",`(?:-(${n[l.PRERELEASEIDENTIFIER]}(?:\\.${n[l.PRERELEASEIDENTIFIER]})*))`),i("PRERELEASELOOSE",`(?:-?(${n[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[l.PRERELEASEIDENTIFIERLOOSE]})*))`),i("BUILDIDENTIFIER","[0-9A-Za-z-]+"),i("BUILD",`(?:\\+(${n[l.BUILDIDENTIFIER]}(?:\\.${n[l.BUILDIDENTIFIER]})*))`),i("FULLPLAIN",`v?${n[l.MAINVERSION]}${n[l.PRERELEASE]}?${n[l.BUILD]}?`),i("FULL",`^${n[l.FULLPLAIN]}$`),i("LOOSEPLAIN",`[v=\\s]*${n[l.MAINVERSIONLOOSE]}${n[l.PRERELEASELOOSE]}?${n[l.BUILD]}?`),i("LOOSE",`^${n[l.LOOSEPLAIN]}$`),i("GTLT","((?:<|>)?=?)"),i("XRANGEIDENTIFIERLOOSE",`${n[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),i("XRANGEIDENTIFIER",`${n[l.NUMERICIDENTIFIER]}|x|X|\\*`),i("XRANGEPLAIN",`[v=\\s]*(${n[l.XRANGEIDENTIFIER]})(?:\\.(${n[l.XRANGEIDENTIFIER]})(?:\\.(${n[l.XRANGEIDENTIFIER]})(?:${n[l.PRERELEASE]})?${n[l.BUILD]}?)?)?`),i("XRANGEPLAINLOOSE",`[v=\\s]*(${n[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[l.XRANGEIDENTIFIERLOOSE]})(?:${n[l.PRERELEASELOOSE]})?${n[l.BUILD]}?)?)?`),i("XRANGE",`^${n[l.GTLT]}\\s*${n[l.XRANGEPLAIN]}$`),i("XRANGELOOSE",`^${n[l.GTLT]}\\s*${n[l.XRANGEPLAINLOOSE]}$`),i("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),i("COERCERTL",n[l.COERCE],!0),i("LONETILDE","(?:~>?)"),i("TILDETRIM",`(\\s*)${n[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",i("TILDE",`^${n[l.LONETILDE]}${n[l.XRANGEPLAIN]}$`),i("TILDELOOSE",`^${n[l.LONETILDE]}${n[l.XRANGEPLAINLOOSE]}$`),i("LONECARET","(?:\\^)"),i("CARETTRIM",`(\\s*)${n[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",i("CARET",`^${n[l.LONECARET]}${n[l.XRANGEPLAIN]}$`),i("CARETLOOSE",`^${n[l.LONECARET]}${n[l.XRANGEPLAINLOOSE]}$`),i("COMPARATORLOOSE",`^${n[l.GTLT]}\\s*(${n[l.LOOSEPLAIN]})$|^$`),i("COMPARATOR",`^${n[l.GTLT]}\\s*(${n[l.FULLPLAIN]})$|^$`),i("COMPARATORTRIM",`(\\s*)${n[l.GTLT]}\\s*(${n[l.LOOSEPLAIN]}|${n[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",i("HYPHENRANGE",`^\\s*(${n[l.XRANGEPLAIN]})\\s+-\\s+(${n[l.XRANGEPLAIN]})\\s*$`),i("HYPHENRANGELOOSE",`^\\s*(${n[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[l.XRANGEPLAINLOOSE]})\\s*$`),i("STAR","(<|>)?=?\\s*\\*"),i("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),i("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Mu,ft);const Hu=["includePrerelease","loose","rtl"],Uu=t=>t?typeof t!="object"?{loose:!0}:Hu.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};var Fs=Uu;const go=/^[0-9]+$/,gn=(t,e)=>{const r=go.test(t),o=go.test(e);return r&&o&&(t=+t,e=+e),t===e?0:r&&!o?-1:o&&!r?1:t<e?-1:1},Wu=(t,e)=>gn(e,t);var vn={compareIdentifiers:gn,rcompareIdentifiers:Wu};const vs=_s,{MAX_LENGTH:vo,MAX_SAFE_INTEGER:xs}=zs,{re:xo,t:bo}=ft,Ju=Fs,{compareIdentifiers:Pt}=vn;let st=class{constructor(e,r){if(r=Ju(r),e instanceof st){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>vo)throw new TypeError(`version is longer than ${vo} characters`);vs("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const o=e.trim().match(r.loose?xo[bo.LOOSE]:xo[bo.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>xs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xs||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){const n=+a;if(n>=0&&n<xs)return n}return a}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(vs("SemVer.compare",this.version,this.options,e),!(e instanceof st)){if(typeof e=="string"&&e===this.version)return 0;e=new st(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof st||(e=new st(e,this.options)),Pt(this.major,e.major)||Pt(this.minor,e.minor)||Pt(this.patch,e.patch)}comparePre(e){if(e instanceof st||(e=new st(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const o=this.prerelease[r],a=e.prerelease[r];if(vs("prerelease compare",r,o,a),o===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(o===void 0)return-1;if(o===a)continue;return Pt(o,a)}while(++r)}compareBuild(e){e instanceof st||(e=new st(e,this.options));let r=0;do{const o=this.build[r],a=e.build[r];if(vs("prerelease compare",r,o,a),o===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(o===void 0)return-1;if(o===a)continue;return Pt(o,a)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);o===-1&&this.prerelease.push(0)}r&&(Pt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var Re=st;const{MAX_LENGTH:Gu}=zs,{re:yo,t:Co}=ft,No=Re,Xu=Fs,Yu=(t,e)=>{if(e=Xu(e),t instanceof No)return t;if(typeof t!="string"||t.length>Gu||!(e.loose?yo[Co.LOOSE]:yo[Co.FULL]).test(t))return null;try{return new No(t,e)}catch{return null}};var Vt=Yu;const qu=Vt,Qu=(t,e)=>{const r=qu(t,e);return r?r.version:null};var Ku=Qu;const Zu=Vt,em=(t,e)=>{const r=Zu(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var tm=em;const So=Re,sm=(t,e,r,o)=>{typeof r=="string"&&(o=r,r=void 0);try{return new So(t instanceof So?t.version:t,r).inc(e,o).version}catch{return null}};var rm=sm;const wo=Re,om=(t,e,r)=>new wo(t,r).compare(new wo(e,r));var Qe=om;const nm=Qe,am=(t,e,r)=>nm(t,e,r)===0;var Pr=am;const Io=Vt,im=Pr,lm=(t,e)=>{if(im(t,e))return null;{const r=Io(t),o=Io(e),a=r.prerelease.length||o.prerelease.length,n=a?"pre":"",l=a?"prerelease":"";for(const p in r)if((p==="major"||p==="minor"||p==="patch")&&r[p]!==o[p])return n+p;return l}};var cm=lm;const dm=Re,um=(t,e)=>new dm(t,e).major;var mm=um;const hm=Re,pm=(t,e)=>new hm(t,e).minor;var fm=pm;const gm=Re,vm=(t,e)=>new gm(t,e).patch;var xm=vm;const bm=Vt,ym=(t,e)=>{const r=bm(t,e);return r&&r.prerelease.length?r.prerelease:null};var Cm=ym;const Nm=Qe,Sm=(t,e,r)=>Nm(e,t,r);var wm=Sm;const Im=Qe,jm=(t,e)=>Im(t,e,!0);var Em=jm;const jo=Re,Tm=(t,e,r)=>{const o=new jo(t,r),a=new jo(e,r);return o.compare(a)||o.compareBuild(a)};var Lr=Tm;const km=Lr,$m=(t,e)=>t.sort((r,o)=>km(r,o,e));var Rm=$m;const Dm=Lr,Pm=(t,e)=>t.sort((r,o)=>Dm(o,r,e));var Lm=Pm;const Am=Qe,Om=(t,e,r)=>Am(t,e,r)>0;var Bs=Om;const Mm=Qe,zm=(t,e,r)=>Mm(t,e,r)<0;var Ar=zm;const _m=Qe,Fm=(t,e,r)=>_m(t,e,r)!==0;var xn=Fm;const Bm=Qe,Vm=(t,e,r)=>Bm(t,e,r)>=0;var Or=Vm;const Hm=Qe,Um=(t,e,r)=>Hm(t,e,r)<=0;var Mr=Um;const Wm=Pr,Jm=xn,Gm=Bs,Xm=Or,Ym=Ar,qm=Mr,Qm=(t,e,r,o)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Wm(t,r,o);case"!=":return Jm(t,r,o);case">":return Gm(t,r,o);case">=":return Xm(t,r,o);case"<":return Ym(t,r,o);case"<=":return qm(t,r,o);default:throw new TypeError(`Invalid operator: ${e}`)}};var bn=Qm;const Km=Re,Zm=Vt,{re:bs,t:ys}=ft,eh=(t,e)=>{if(t instanceof Km)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(bs[ys.COERCE]);else{let o;for(;(o=bs[ys.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||o.index+o[0].length!==r.index+r[0].length)&&(r=o),bs[ys.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;bs[ys.COERCERTL].lastIndex=-1}return r===null?null:Zm(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var th=eh,lr,Eo;function sh(){return Eo||(Eo=1,lr=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),lr}var rh=me;me.Node=jt;me.create=me;function me(t){var e=this;if(e instanceof me||(e=new me),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(a){e.push(a)});else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)e.push(arguments[r]);return e}me.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};me.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};me.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};me.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)nh(this,arguments[t]);return this.length};me.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ah(this,arguments[t]);return this.length};me.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};me.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};me.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,o=0;r!==null;o++)t.call(e,r.value,o,this),r=r.next};me.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,o=this.length-1;r!==null;o--)t.call(e,r.value,o,this),r=r.prev};me.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};me.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};me.prototype.map=function(t,e){e=e||this;for(var r=new me,o=this.head;o!==null;)r.push(t.call(e,o.value,this)),o=o.next;return r};me.prototype.mapReverse=function(t,e){e=e||this;for(var r=new me,o=this.tail;o!==null;)r.push(t.call(e,o.value,this)),o=o.prev;return r};me.prototype.reduce=function(t,e){var r,o=this.head;if(arguments.length>1)r=e;else if(this.head)o=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=0;o!==null;a++)r=t(r,o.value,a),o=o.next;return r};me.prototype.reduceReverse=function(t,e){var r,o=this.tail;if(arguments.length>1)r=e;else if(this.tail)o=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;o!==null;a--)r=t(r,o.value,a),o=o.prev;return r};me.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};me.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};me.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new me;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=0,a=this.head;a!==null&&o<t;o++)a=a.next;for(;a!==null&&o<e;o++,a=a.next)r.push(a.value);return r};me.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new me;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=this.length,a=this.tail;a!==null&&o>e;o--)a=a.prev;for(;a!==null&&o>t;o--,a=a.prev)r.push(a.value);return r};me.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var o=0,a=this.head;a!==null&&o<t;o++)a=a.next;for(var n=[],o=0;a&&o<e;o++)n.push(a.value),a=this.removeNode(a);a===null&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var o=0;o<r.length;o++)a=oh(this,a,r[o]);return n};me.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var o=r.prev;r.prev=r.next,r.next=o}return this.head=e,this.tail=t,this};function oh(t,e,r){var o=e===t.head?new jt(r,null,e,t):new jt(r,e,e.next,t);return o.next===null&&(t.tail=o),o.prev===null&&(t.head=o),t.length++,o}function nh(t,e){t.tail=new jt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ah(t,e){t.head=new jt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function jt(t,e,r,o){if(!(this instanceof jt))return new jt(t,e,r,o);this.list=o,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{sh()(me)}catch{}const ih=rh,St=Symbol("max"),mt=Symbol("length"),Lt=Symbol("lengthCalculator"),Kt=Symbol("allowStale"),wt=Symbol("maxAge"),dt=Symbol("dispose"),To=Symbol("noDisposeOnSet"),we=Symbol("lruList"),Ye=Symbol("cache"),yn=Symbol("updateAgeOnGet"),cr=()=>1;class lh{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[St]=e.max||1/0;const r=e.length||cr;if(this[Lt]=typeof r!="function"?cr:r,this[Kt]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[wt]=e.maxAge||0,this[dt]=e.dispose,this[To]=e.noDisposeOnSet||!1,this[yn]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[St]=e||1/0,Wt(this)}get max(){return this[St]}set allowStale(e){this[Kt]=!!e}get allowStale(){return this[Kt]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[wt]=e,Wt(this)}get maxAge(){return this[wt]}set lengthCalculator(e){typeof e!="function"&&(e=cr),e!==this[Lt]&&(this[Lt]=e,this[mt]=0,this[we].forEach(r=>{r.length=this[Lt](r.value,r.key),this[mt]+=r.length})),Wt(this)}get lengthCalculator(){return this[Lt]}get length(){return this[mt]}get itemCount(){return this[we].length}rforEach(e,r){r=r||this;for(let o=this[we].tail;o!==null;){const a=o.prev;ko(this,e,o,r),o=a}}forEach(e,r){r=r||this;for(let o=this[we].head;o!==null;){const a=o.next;ko(this,e,o,r),o=a}}keys(){return this[we].toArray().map(e=>e.key)}values(){return this[we].toArray().map(e=>e.value)}reset(){this[dt]&&this[we]&&this[we].length&&this[we].forEach(e=>this[dt](e.key,e.value)),this[Ye]=new Map,this[we]=new ih,this[mt]=0}dump(){return this[we].map(e=>ks(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[we]}set(e,r,o){if(o=o||this[wt],o&&typeof o!="number")throw new TypeError("maxAge must be a number");const a=o?Date.now():0,n=this[Lt](r,e);if(this[Ye].has(e)){if(n>this[St])return Mt(this,this[Ye].get(e)),!1;const i=this[Ye].get(e).value;return this[dt]&&(this[To]||this[dt](e,i.value)),i.now=a,i.maxAge=o,i.value=r,this[mt]+=n-i.length,i.length=n,this.get(e),Wt(this),!0}const l=new ch(e,r,n,a,o);return l.length>this[St]?(this[dt]&&this[dt](e,r),!1):(this[mt]+=l.length,this[we].unshift(l),this[Ye].set(e,this[we].head),Wt(this),!0)}has(e){if(!this[Ye].has(e))return!1;const r=this[Ye].get(e).value;return!ks(this,r)}get(e){return dr(this,e,!0)}peek(e){return dr(this,e,!1)}pop(){const e=this[we].tail;return e?(Mt(this,e),e.value):null}del(e){Mt(this,this[Ye].get(e))}load(e){this.reset();const r=Date.now();for(let o=e.length-1;o>=0;o--){const a=e[o],n=a.e||0;if(n===0)this.set(a.k,a.v);else{const l=n-r;l>0&&this.set(a.k,a.v,l)}}}prune(){this[Ye].forEach((e,r)=>dr(this,r,!1))}}const dr=(t,e,r)=>{const o=t[Ye].get(e);if(o){const a=o.value;if(ks(t,a)){if(Mt(t,o),!t[Kt])return}else r&&(t[yn]&&(o.value.now=Date.now()),t[we].unshiftNode(o));return a.value}},ks=(t,e)=>{if(!e||!e.maxAge&&!t[wt])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[wt]&&r>t[wt]},Wt=t=>{if(t[mt]>t[St])for(let e=t[we].tail;t[mt]>t[St]&&e!==null;){const r=e.prev;Mt(t,e),e=r}},Mt=(t,e)=>{if(e){const r=e.value;t[dt]&&t[dt](r.key,r.value),t[mt]-=r.length,t[Ye].delete(r.key),t[we].removeNode(e)}};class ch{constructor(e,r,o,a,n){this.key=e,this.value=r,this.length=o,this.now=a,this.maxAge=n||0}}const ko=(t,e,r,o)=>{let a=r.value;ks(t,a)&&(Mt(t,r),t[Kt]||(a=void 0)),a&&e.call(o,a.value,a.key,t)};var dh=lh,ur,$o;function Ke(){if($o)return ur;$o=1;class t{constructor(S,O){if(O=o(O),S instanceof t)return S.loose===!!O.loose&&S.includePrerelease===!!O.includePrerelease?S:new t(S.raw,O);if(S instanceof a)return this.raw=S.value,this.set=[[S]],this.format(),this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=S,this.set=S.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${S}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(E=>!d(E[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const E of this.set)if(E.length===1&&h(E[0])){this.set=[E];break}}}this.format()}format(){return this.range=this.set.map(S=>S.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(S){S=S.trim();const P=`parseRange:${Object.keys(this.options).join(",")}:${S}`,E=r.get(P);if(E)return E;const I=this.options.loose,A=I?p[i.HYPHENRANGELOOSE]:p[i.HYPHENRANGE];S=S.replace(A,F(this.options.includePrerelease)),n("hyphen replace",S),S=S.replace(p[i.COMPARATORTRIM],u),n("comparator trim",S),S=S.replace(p[i.TILDETRIM],c),S=S.replace(p[i.CARETTRIM],m),S=S.split(/\s+/).join(" ");let B=S.split(" ").map(te=>v(te,this.options)).join(" ").split(/\s+/).map(te=>D(te,this.options));I&&(B=B.filter(te=>(n("loose invalid filter",te,this.options),!!te.match(p[i.COMPARATORLOOSE])))),n("range list",B);const M=new Map,U=B.map(te=>new a(te,this.options));for(const te of U){if(d(te))return[te];M.set(te.value,te)}M.size>1&&M.has("")&&M.delete("");const re=[...M.values()];return r.set(P,re),re}intersects(S,O){if(!(S instanceof t))throw new TypeError("a Range is required");return this.set.some(P=>f(P,O)&&S.set.some(E=>f(E,O)&&P.every(I=>E.every(A=>I.intersects(A,O)))))}test(S){if(!S)return!1;if(typeof S=="string")try{S=new l(S,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(L(this.set[O],S,this.options))return!0;return!1}}ur=t;const e=dh,r=new e({max:1e3}),o=Fs,a=Vs(),n=_s,l=Re,{re:p,t:i,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:m}=ft,d=N=>N.value==="<0.0.0-0",h=N=>N.value==="",f=(N,S)=>{let O=!0;const P=N.slice();let E=P.pop();for(;O&&P.length;)O=P.every(I=>E.intersects(I,S)),E=P.pop();return O},v=(N,S)=>(n("comp",N,S),N=k(N,S),n("caret",N),N=$(N,S),n("tildes",N),N=w(N,S),n("xrange",N),N=z(N,S),n("stars",N),N),x=N=>!N||N.toLowerCase()==="x"||N==="*",$=(N,S)=>N.trim().split(/\s+/).map(O=>C(O,S)).join(" "),C=(N,S)=>{const O=S.loose?p[i.TILDELOOSE]:p[i.TILDE];return N.replace(O,(P,E,I,A,B)=>{n("tilde",N,P,E,I,A,B);let M;return x(E)?M="":x(I)?M=`>=${E}.0.0 <${+E+1}.0.0-0`:x(A)?M=`>=${E}.${I}.0 <${E}.${+I+1}.0-0`:B?(n("replaceTilde pr",B),M=`>=${E}.${I}.${A}-${B} <${E}.${+I+1}.0-0`):M=`>=${E}.${I}.${A} <${E}.${+I+1}.0-0`,n("tilde return",M),M})},k=(N,S)=>N.trim().split(/\s+/).map(O=>b(O,S)).join(" "),b=(N,S)=>{n("caret",N,S);const O=S.loose?p[i.CARETLOOSE]:p[i.CARET],P=S.includePrerelease?"-0":"";return N.replace(O,(E,I,A,B,M)=>{n("caret",N,E,I,A,B,M);let U;return x(I)?U="":x(A)?U=`>=${I}.0.0${P} <${+I+1}.0.0-0`:x(B)?I==="0"?U=`>=${I}.${A}.0${P} <${I}.${+A+1}.0-0`:U=`>=${I}.${A}.0${P} <${+I+1}.0.0-0`:M?(n("replaceCaret pr",M),I==="0"?A==="0"?U=`>=${I}.${A}.${B}-${M} <${I}.${A}.${+B+1}-0`:U=`>=${I}.${A}.${B}-${M} <${I}.${+A+1}.0-0`:U=`>=${I}.${A}.${B}-${M} <${+I+1}.0.0-0`):(n("no pr"),I==="0"?A==="0"?U=`>=${I}.${A}.${B}${P} <${I}.${A}.${+B+1}-0`:U=`>=${I}.${A}.${B}${P} <${I}.${+A+1}.0-0`:U=`>=${I}.${A}.${B} <${+I+1}.0.0-0`),n("caret return",U),U})},w=(N,S)=>(n("replaceXRanges",N,S),N.split(/\s+/).map(O=>_(O,S)).join(" ")),_=(N,S)=>{N=N.trim();const O=S.loose?p[i.XRANGELOOSE]:p[i.XRANGE];return N.replace(O,(P,E,I,A,B,M)=>{n("xRange",N,P,E,I,A,B,M);const U=x(I),re=U||x(A),te=re||x(B),ie=te;return E==="="&&ie&&(E=""),M=S.includePrerelease?"-0":"",U?E===">"||E==="<"?P="<0.0.0-0":P="*":E&&ie?(re&&(A=0),B=0,E===">"?(E=">=",re?(I=+I+1,A=0,B=0):(A=+A+1,B=0)):E==="<="&&(E="<",re?I=+I+1:A=+A+1),E==="<"&&(M="-0"),P=`${E+I}.${A}.${B}${M}`):re?P=`>=${I}.0.0${M} <${+I+1}.0.0-0`:te&&(P=`>=${I}.${A}.0${M} <${I}.${+A+1}.0-0`),n("xRange return",P),P})},z=(N,S)=>(n("replaceStars",N,S),N.trim().replace(p[i.STAR],"")),D=(N,S)=>(n("replaceGTE0",N,S),N.trim().replace(p[S.includePrerelease?i.GTE0PRE:i.GTE0],"")),F=N=>(S,O,P,E,I,A,B,M,U,re,te,ie,ge)=>(x(P)?O="":x(E)?O=`>=${P}.0.0${N?"-0":""}`:x(I)?O=`>=${P}.${E}.0${N?"-0":""}`:A?O=`>=${O}`:O=`>=${O}${N?"-0":""}`,x(U)?M="":x(re)?M=`<${+U+1}.0.0-0`:x(te)?M=`<${U}.${+re+1}.0-0`:ie?M=`<=${U}.${re}.${te}-${ie}`:N?M=`<${U}.${re}.${+te+1}-0`:M=`<=${M}`,`${O} ${M}`.trim()),L=(N,S,O)=>{for(let P=0;P<N.length;P++)if(!N[P].test(S))return!1;if(S.prerelease.length&&!O.includePrerelease){for(let P=0;P<N.length;P++)if(n(N[P].semver),N[P].semver!==a.ANY&&N[P].semver.prerelease.length>0){const E=N[P].semver;if(E.major===S.major&&E.minor===S.minor&&E.patch===S.patch)return!0}return!1}return!0};return ur}var mr,Ro;function Vs(){if(Ro)return mr;Ro=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(c,m){if(m=r(m),c instanceof e){if(c.loose===!!m.loose)return c;c=c.value}l("comparator",c,m),this.options=m,this.loose=!!m.loose,this.parse(c),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(c){const m=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],d=c.match(m);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new p(d[2],this.options.loose):this.semver=t}toString(){return this.value}test(c){if(l("Comparator.test",c,this.options.loose),this.semver===t||c===t)return!0;if(typeof c=="string")try{c=new p(c,this.options)}catch{return!1}return n(c,this.operator,this.semver,this.options)}intersects(c,m){if(!(c instanceof e))throw new TypeError("a Comparator is required");if((!m||typeof m!="object")&&(m={loose:!!m,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new i(c.value,m).test(this.value);if(c.operator==="")return c.value===""?!0:new i(this.value,m).test(c.semver);const d=(this.operator===">="||this.operator===">")&&(c.operator===">="||c.operator===">"),h=(this.operator==="<="||this.operator==="<")&&(c.operator==="<="||c.operator==="<"),f=this.semver.version===c.semver.version,v=(this.operator===">="||this.operator==="<=")&&(c.operator===">="||c.operator==="<="),x=n(this.semver,"<",c.semver,m)&&(this.operator===">="||this.operator===">")&&(c.operator==="<="||c.operator==="<"),$=n(this.semver,">",c.semver,m)&&(this.operator==="<="||this.operator==="<")&&(c.operator===">="||c.operator===">");return d||h||f&&v||x||$}}mr=e;const r=Fs,{re:o,t:a}=ft,n=bn,l=_s,p=Re,i=Ke();return mr}const uh=Ke(),mh=(t,e,r)=>{try{e=new uh(e,r)}catch{return!1}return e.test(t)};var Hs=mh;const hh=Ke(),ph=(t,e)=>new hh(t,e).set.map(r=>r.map(o=>o.value).join(" ").trim().split(" "));var fh=ph;const gh=Re,vh=Ke(),xh=(t,e,r)=>{let o=null,a=null,n=null;try{n=new vh(e,r)}catch{return null}return t.forEach(l=>{n.test(l)&&(!o||a.compare(l)===-1)&&(o=l,a=new gh(o,r))}),o};var bh=xh;const yh=Re,Ch=Ke(),Nh=(t,e,r)=>{let o=null,a=null,n=null;try{n=new Ch(e,r)}catch{return null}return t.forEach(l=>{n.test(l)&&(!o||a.compare(l)===1)&&(o=l,a=new yh(o,r))}),o};var Sh=Nh;const hr=Re,wh=Ke(),Do=Bs,Ih=(t,e)=>{t=new wh(t,e);let r=new hr("0.0.0");if(t.test(r)||(r=new hr("0.0.0-0"),t.test(r)))return r;r=null;for(let o=0;o<t.set.length;++o){const a=t.set[o];let n=null;a.forEach(l=>{const p=new hr(l.semver.version);switch(l.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!n||Do(p,n))&&(n=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),n&&(!r||Do(r,n))&&(r=n)}return r&&t.test(r)?r:null};var jh=Ih;const Eh=Ke(),Th=(t,e)=>{try{return new Eh(t,e).range||"*"}catch{return null}};var kh=Th;const $h=Re,Cn=Vs(),{ANY:Rh}=Cn,Dh=Ke(),Ph=Hs,Po=Bs,Lo=Ar,Lh=Mr,Ah=Or,Oh=(t,e,r,o)=>{t=new $h(t,o),e=new Dh(e,o);let a,n,l,p,i;switch(r){case">":a=Po,n=Lh,l=Lo,p=">",i=">=";break;case"<":a=Lo,n=Ah,l=Po,p="<",i="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ph(t,e,o))return!1;for(let u=0;u<e.set.length;++u){const c=e.set[u];let m=null,d=null;if(c.forEach(h=>{h.semver===Rh&&(h=new Cn(">=0.0.0")),m=m||h,d=d||h,a(h.semver,m.semver,o)?m=h:l(h.semver,d.semver,o)&&(d=h)}),m.operator===p||m.operator===i||(!d.operator||d.operator===p)&&n(t,d.semver))return!1;if(d.operator===i&&l(t,d.semver))return!1}return!0};var zr=Oh;const Mh=zr,zh=(t,e,r)=>Mh(t,e,">",r);var _h=zh;const Fh=zr,Bh=(t,e,r)=>Fh(t,e,"<",r);var Vh=Bh;const Ao=Ke(),Hh=(t,e,r)=>(t=new Ao(t,r),e=new Ao(e,r),t.intersects(e));var Uh=Hh;const Wh=Hs,Jh=Qe;var Gh=(t,e,r)=>{const o=[];let a=null,n=null;const l=t.sort((c,m)=>Jh(c,m,r));for(const c of l)Wh(c,e,r)?(n=c,a||(a=c)):(n&&o.push([a,n]),n=null,a=null);a&&o.push([a,null]);const p=[];for(const[c,m]of o)c===m?p.push(c):!m&&c===l[0]?p.push("*"):m?c===l[0]?p.push(`<=${m}`):p.push(`${c} - ${m}`):p.push(`>=${c}`);const i=p.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return i.length<u.length?i:e};const Oo=Ke(),ws=Vs(),{ANY:pr}=ws,Jt=Hs,_r=Qe,Xh=(t,e,r={})=>{if(t===e)return!0;t=new Oo(t,r),e=new Oo(e,r);let o=!1;e:for(const a of t.set){for(const n of e.set){const l=Yh(a,n,r);if(o=o||l!==null,l)continue e}if(o)return!1}return!0},Yh=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===pr){if(e.length===1&&e[0].semver===pr)return!0;r.includePrerelease?t=[new ws(">=0.0.0-0")]:t=[new ws(">=0.0.0")]}if(e.length===1&&e[0].semver===pr){if(r.includePrerelease)return!0;e=[new ws(">=0.0.0")]}const o=new Set;let a,n;for(const h of t)h.operator===">"||h.operator===">="?a=Mo(a,h,r):h.operator==="<"||h.operator==="<="?n=zo(n,h,r):o.add(h.semver);if(o.size>1)return null;let l;if(a&&n){if(l=_r(a.semver,n.semver,r),l>0)return null;if(l===0&&(a.operator!==">="||n.operator!=="<="))return null}for(const h of o){if(a&&!Jt(h,String(a),r)||n&&!Jt(h,String(n),r))return null;for(const f of e)if(!Jt(h,String(f),r))return!1;return!0}let p,i,u,c,m=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1,d=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1;m&&m.prerelease.length===1&&n.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(const h of e){if(c=c||h.operator===">"||h.operator===">=",u=u||h.operator==="<"||h.operator==="<=",a){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator===">"||h.operator===">="){if(p=Mo(a,h,r),p===h&&p!==a)return!1}else if(a.operator===">="&&!Jt(a.semver,String(h),r))return!1}if(n){if(m&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===m.major&&h.semver.minor===m.minor&&h.semver.patch===m.patch&&(m=!1),h.operator==="<"||h.operator==="<="){if(i=zo(n,h,r),i===h&&i!==n)return!1}else if(n.operator==="<="&&!Jt(n.semver,String(h),r))return!1}if(!h.operator&&(n||a)&&l!==0)return!1}return!(a&&u&&!n&&l!==0||n&&c&&!a&&l!==0||d||m)},Mo=(t,e,r)=>{if(!t)return e;const o=_r(t.semver,e.semver,r);return o>0?t:o<0||e.operator===">"&&t.operator===">="?e:t},zo=(t,e,r)=>{if(!t)return e;const o=_r(t.semver,e.semver,r);return o<0?t:o>0||e.operator==="<"&&t.operator==="<="?e:t};var qh=Xh;const fr=ft,Qh=zs,Kh=Re,_o=vn,Zh=Vt,ep=Ku,tp=tm,sp=rm,rp=cm,op=mm,np=fm,ap=xm,ip=Cm,lp=Qe,cp=wm,dp=Em,up=Lr,mp=Rm,hp=Lm,pp=Bs,fp=Ar,gp=Pr,vp=xn,xp=Or,bp=Mr,yp=bn,Cp=th,Np=Vs(),Sp=Ke(),wp=Hs,Ip=fh,jp=bh,Ep=Sh,Tp=jh,kp=kh,$p=zr,Rp=_h,Dp=Vh,Pp=Uh,Lp=Gh,Ap=qh;var Op={parse:Zh,valid:ep,clean:tp,inc:sp,diff:rp,major:op,minor:np,patch:ap,prerelease:ip,compare:lp,rcompare:cp,compareLoose:dp,compareBuild:up,sort:mp,rsort:hp,gt:pp,lt:fp,eq:gp,neq:vp,gte:xp,lte:bp,cmp:yp,coerce:Cp,Comparator:Np,Range:Sp,satisfies:wp,toComparators:Ip,maxSatisfying:jp,minSatisfying:Ep,minVersion:Tp,validRange:kp,outside:$p,gtr:Rp,ltr:Dp,intersects:Pp,simplifyRange:Lp,subset:Ap,SemVer:Kh,re:fr.re,src:fr.src,tokens:fr.t,SEMVER_SPEC_VERSION:Qh.SEMVER_SPEC_VERSION,compareIdentifiers:_o.compareIdentifiers,rcompareIdentifiers:_o.rcompareIdentifiers};const Mp=()=>{const e=Et().state.systemStatus.profile,[r,o]=g.useState({latestVersion:"",show:!1});g.useEffect(()=>{da().then(n=>{const{skippedVersion:l}=Er(["skippedVersion"]),p=n.slice(1)||"0.0.0",i=e.version;o({latestVersion:p,show:!(l?l===p:!1)&&Op.compare(i,p)===-1})})},[]);const a=()=>{Rs({skippedVersion:r.latestVersion}),o(n=>({...n,show:!1}))};return r.show?s.jsxs("div",{className:"flex flex-row items-center justify-center w-full py-2 text-white bg-green-600",children:[s.jsxs("a",{className:"flex flex-row items-center justify-center hover:underline",target:"_blank",href:"https://github.com/usememos/memos/releases",rel:"noreferrer",children:[s.jsx(V.ArrowUpCircle,{className:"w-5 h-auto mr-2"}),"New Update ",s.jsx("span",{className:"ml-1 font-bold",children:r.latestVersion})]}),s.jsx("button",{className:"absolute opacity-20 right-4 btn",title:"Skip this version",onClick:a,children:s.jsx(V.X,{})})]}):null};function Hp(){const{t}=de(),e=ua(),r=Et(),o=Te(),a=o.state.user;return g.useEffect(()=>{const{owner:n}=o.getState();o.isVisitorMode()&&(n||Y.error(t("message.user-not-found")))},[e]),g.useEffect(()=>{a!=null&&a.setting.locale&&r.setLocale(a.setting.locale)},[a==null?void 0:a.setting.locale]),s.jsxs("section",{className:"page-wrapper home",children:[s.jsx("div",{className:"banner-wrapper",children:s.jsx(Mp,{})}),s.jsxs("div",{className:"page-container",children:[s.jsx(eu,{}),s.jsxs("main",{className:"memos-wrapper",children:[s.jsx(ou,{}),s.jsxs("div",{className:"memos-editor-wrapper",children:[!o.isVisitorMode()&&s.jsx(mu,{}),s.jsx(hu,{})]}),s.jsx(Ou,{}),o.isVisitorMode()&&s.jsx("div",{className:"addition-btn-container",children:a?s.jsxs("button",{className:"btn",onClick:()=>window.location.href="/",children:[s.jsx("span",{className:"icon",children:""})," ",t("common.back-to-home")]}):s.jsxs("button",{className:"btn",onClick:()=>window.location.href="/auth",children:[s.jsx("span",{className:"icon",children:""})," ",t("common.sign-in")]})})]})]})]})}export{Hp as default};
